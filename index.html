<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>arush.fun</title>
    <link rel="icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8/5+hHgAHggJ/PchI7wAAAABJRU5ErkJggg==">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@800&display=swap" rel="stylesheet">
    <style>
        .app-iframe {
            width: 100%;
            height: calc(100vh - 64px);
            border: none;
            display: none;
            background: white;
        }
        body { font-family: 'Plus Jakarta Sans', sans-serif; overflow: hidden; background: #000; margin: 0; }
        .navbar {
            background: #111; color: white; border-bottom: 4px solid #000;
            display: flex; align-items: center; justify-content: space-between;
            padding: 0 20px; height: 64px;
        }
        .nav-link {
            padding: 15px 20px; font-weight: 800; text-transform: uppercase;
            cursor: pointer; transition: all 0.2s; border-bottom: 4px solid transparent;
        }
        .nav-link:hover { background: rgba(255,255,255,0.1); }
        .nav-link.active { border-bottom: 4px solid #facc15; color: #facc15; }

        .app-iframe.active { display: block; }
    </style>
</head>
<body>

    <nav class="navbar">
        <div class="flex items-center">
            <div id="btn-home" class="nav-link active" onclick="showApp('home')">ARUSH.FUN</div>
            <div id="btn-elon" class="nav-link" onclick="showApp('elon')">Elon's Money</div>
            <div id="btn-nuke" class="nav-link" onclick="showApp('nuke')">Nuke Launcher</div>
            <div id="btn-clicker" class="nav-link" onclick="showApp('clicker')">Clicker Hero</div>
            <div id="btn-bucket" class="nav-link" onclick="showApp('bucket')">The Bucket List</div>
            <div id="btn-trolley" class="nav-link" onclick="showApp('trolley')">Trolley Problems</div>
            <div id="btn-time" class="nav-link" onclick="showApp('time')">Price of Time</div>
            <div id="btn-stock" class="nav-link" onclick="showApp('stock')">The Stock Trade</div>
            <div id="btn-password" class="nav-link" onclick="showApp('password')">Secure Pass</div>
        </div>
    </nav>

    <!-- Home iframe (default view) -->
    <iframe id="home" class="app-iframe active"></iframe>
    <iframe id="elon" class="app-iframe"></iframe>
    <iframe id="nuke" class="app-iframe"></iframe>
    <iframe id="clicker" class="app-iframe"></iframe>
    <iframe id="bucket" class="app-iframe"></iframe>
    <iframe id="trolley" class="app-iframe"></iframe>
    <iframe id="time" class="app-iframe"></iframe>
    <iframe id="stock" class="app-iframe"></iframe>
    <iframe id="password" class="app-iframe"></iframe>


    <!-- HOMEPAGE TEMPLATE (exact style as other games) -->
    <template id="code-home">
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>ARUSH.FUN | Simulation Suite</title>
            <script src="https://cdn.tailwindcss.com"></script>
            <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;700;800&display=swap" rel="stylesheet">
            <style>
                body { font-family: 'Plus Jakarta Sans', sans-serif; background: #f0f2f5; margin: 0; padding: 2rem 1rem; }
                .item-card { 
                    border: 3px solid #000; 
                    background: #fff; 
                    transition: transform 0.2s; 
                    cursor: pointer; 
                    height: 100%;
                    display: flex;
                    flex-direction: column;
                    justify-content: space-between;
                }
                .item-card:hover { transform: rotate(-1deg) translateY(-8px); box-shadow: 8px 8px 0 #000; }
                .emoji { font-size: 6rem; }
            </style>
        </head>
        <body>
         <div class="max-w-7xl mx-auto text-center mb-12">
    <h1 class="text-6xl md:text-8xl font-black uppercase tracking-tighter mb-4">ARUSH.FUN</h1>
    
    <!-- Yellow badge - now properly closed -->
    <div class="inline-block p-2 bg-yellow-400 border-4 border-black mb-6">
        <span class="font-black text-xl uppercase tracking-tighter">My Personal Internet Diary - New Game Every Week!</span>
    </div>

    <p class="text-3xl md:text-4xl font-black opacity-90 mb-6">Simulation Suite</p>
    <p class="text-lg md:text-xl leading-relaxed max-w-4xl mx-auto text-gray-700 mb-8">
        A collection of interactive simulations exploring ethics, wealth, time, nuclear consequences, idle progression, and life goals ‚Äî all in one place.
    </p>
    <p class="text-sm italic text-gray-500 opacity-70">
        (made by arush - make sure to have fun!)
    </p>
</div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-7xl mx-auto">
                <div onclick="parent.showApp('elon')" class="item-card p-8 bg-green-100">
                    <div class="emoji text-center">üöÄ</div>
                    <div>
                        <h3 class="text-3xl font-black uppercase text-center">Elon's Money</h3>
                        <p class="text-center font-bold opacity-70 mt-2">Spend $800B Edition</p>
                    </div>
                </div>
                <div onclick="parent.showApp('nuke')" class="item-card p-8 bg-orange-100">
                    <div class="emoji text-center">üí•</div>
                    <div>
                        <h3 class="text-3xl font-black uppercase text-center">Nuke Launcher</h3>
                        <p class="text-center font-bold opacity-70 mt-2">Educational Simulation</p>
                    </div>
                </div>

                <div onclick="parent.showApp('clicker')" class="item-card p-8 bg-purple-100">
                    <div class="emoji text-center">üñ±Ô∏è</div>
                    <div>
                        <h3 class="text-3xl font-black uppercase text-center">Clicker Hero</h3>
                        <p class="text-center font-bold opacity-70 mt-2">Idle Empire Builder</p>
                    </div>
                </div>

                <div onclick="parent.showApp('bucket')" class="item-card p-8 bg-teal-100">
                    <div class="emoji text-center">‚úÖ</div>
                    <div>
                        <h3 class="text-3xl font-black uppercase text-center">The Bucket List</h3>
                        <p class="text-center font-bold opacity-70 mt-2">500 Life Goals Tracker</p>
                    </div>
                </div>
                 <div onclick="parent.showApp('trolley')" class="item-card p-8 bg-red-100">
                    <div class="emoji text-center">üöã</div>
                    <div>
                        <h3 class="text-3xl font-black uppercase text-center">Trolley Problems</h3>
                        <p class="text-center font-bold opacity-70 mt-2">Advanced Ethics Simulator</p>
                    </div>
                </div>
                  <div onclick="parent.showApp('time')" class="item-card p-8 bg-yellow-100">
                    <div class="emoji text-center">‚è≥</div>
                    <div>
                        <h3 class="text-3xl font-black uppercase text-center">Price of Time</h3>
                        <p class="text-center font-bold opacity-70 mt-2">Life Actuary Simulator</p>
                    </div>
                </div>

                <div onclick="parent.showApp('stock')" class="item-card p-8 bg-blue-100">
                    <div class="emoji text-center">üìà</div>
                    <div>
                        <h3 class="text-3xl font-black uppercase text-center">The Stock Trade</h3>
                        <p class="text-center font-bold opacity-70 mt-2">Buy and Sell The Top 500 Stocks</p>
                    </div>
                </div>
                <div onclick="parent.showApp('password')" class="item-card p-8 bg-fuchsia-100">
                    <div class="emoji text-center">‚å®Ô∏è</div>
                    <div>
                        <h3 class="text-3xl font-black uppercase text-center">Secure Pass</h3>
                        <p class="text-center font-bold opacity-70 mt-2">Password Checker</p>
                    </div>
                </div>
            </div>
            <div class="text-center mt-16 pb-8 border-t-4 border-black pt-8">
    <p class="text-sm text-gray-500 mb-6">My Socials:</p>
    <div class="flex justify-center gap-10">
        <a href="https://www.instagram.com/badeatorneto/" target="_blank" rel="noopener">
            <img src="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/instagram.svg" width="40" height="40" alt="Instagram" class="transition-transform hover:scale-110">
        </a>
        <a href="https://www.snapchat.com/add/guywholikesfifa" target="_blank" rel="noopener">
            <img src="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/snapchat.svg" width="40" height="40" alt="Snapchat" class="transition-transform hover:scale-110">
        </a>
        <a href="/cdn-cgi/l/email-protection#adccdfd8dec59f9d9c9cc7ccc4c3edcac0ccc4c183cec2c0">
            <img src="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/gmail.svg" width="40" height="40" alt="Email" class="transition-transform hover:scale-110">
        </a>
    </div>
</div>
        <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
        </html>
    </template>

    <!-- Your existing templates (trolley, elon, time, nuke, clicker, bucket) go here unchanged -->
    <template id="code-elon">
             <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spend Elon's $800B</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;700;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Plus Jakarta Sans', sans-serif; background-color: #f0f2f5; }
        .neubrutal { border: 3px solid #000; box-shadow: 4px 4px 0px #000; transition: all 0.1s; }
        .neubrutal:active { transform: translate(2px, 2px); box-shadow: 0px 0px 0px #000; }
        .money-gradient { background: linear-gradient(135deg, #00b894, #00cec9); }
        .item-card { border: 3px solid #000; background: #fff; transition: transform 0.2s; }
        .item-card:hover { transform: rotate(-1deg); }
        .sticky-header { position: sticky; top: 0; z-index: 100; border-bottom: 4px solid #000; background: #fff; }
        input::-webkit-outer-spin-button, input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
        .receipt-container { background: repeating-linear-gradient(#fff, #fff 30px, #f9f9f9 30px, #f9f9f9 31px); }
    </style>
</head>
<body class="pb-20">

    <header class="bg-white pt-12 pb-8 border-b-4 border-black text-center px-4">
        <div class="max-w-4xl mx-auto">
            <div class="inline-block p-2 bg-yellow-400 border-4 border-black mb-4 rotate-2">
                <span class="font-black text-xl uppercase tracking-tighter">Ultimate 2026 Edition</span>
            </div>
            <h1 class="text-6xl font-black uppercase tracking-tighter mb-4">Spend Elon's Money</h1>
            <p class="text-xl font-bold opacity-70">Elon Musk's net worth is <strong>$800,000,000,000</strong>.<br>If you spent $1,000,000 every single day, it would take you 2,191 years to finish.</p>
        </div>
    </header>

    <div class="sticky-header money-gradient p-6">
        <div class="max-w-6xl mx-auto flex justify-between items-center">
           <div id="money" class="text-4xl md:text-6xl font-black text-black drop-shadow-[2px_2px_0px_rgba(255,255,255,1)] tracking-tighter">$800,000,000,000</div>
            <div class="hidden md:block text-right">
                <div id="percentage" class="bg-black text-white px-3 py-1 font-bold rounded">0.000% Spent</div>
            </div>
        </div>
    </div>

    <main class="max-w-7xl mx-auto p-6">
        <div id="grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
            </div>
    </main>

    <section class="max-w-2xl mx-auto px-6 mt-12">
        <div class="receipt-container border-4 border-black p-8 shadow-[12px_12px_0px_rgba(0,0,0,1)]">
            <h2 class="text-4xl font-black uppercase text-center mb-8 border-b-4 border-black pb-4">The Damage</h2>
            <div id="receipt-list" class="space-y-4 mb-8 font-bold text-lg"></div>
            <div id="receipt-total" class="text-3xl font-black text-center pt-6 border-t-4 border-black">Total: $0</div>
        </div>
    </section>

    <script>
        const initialBalance = 800000000000;
        let balance = initialBalance;
        let inventory = {};

        const rawItems = [
            // MUNDANE (1-30)
            ["Taco Bell Cravings Box", 5, "üåÆ"], ["Starbucks Coffee", 6, "‚òï"], ["Netflix Subscription", 15, "üé¨"], ["New Video Game", 70, "üéÆ"], ["AirPods Pro", 249, "üéß"], 
            ["Latest iPhone", 1100, "üì±"], ["Gaming PC", 3500, "üñ•Ô∏è"], ["Used Honda Civic", 12000, "üöó"], ["Luxury Watch", 15000, "‚åö"], ["University Degree", 120000, "üéì"],
            ["Designer Handbag", 4500, "üëú"], ["Peloton Bike", 2500, "üö¥"], ["Full Home Gym", 15000, "üèãÔ∏è"], ["Diamond Ring", 10000, "üíç"], ["Gold Bar", 75000, "üßà"],
            ["Tesla Model 3", 45000, "üîã"], ["First Class Ticket", 12000, "‚úàÔ∏è"], ["Personal Chef (Year)", 80000, "üë®‚Äçüç≥"], ["Home Cinema", 50000, "üîä"], ["Wedding", 35000, "üë∞"],
            ["Rolex Daytona", 40000, "üïô"], ["Herm√®s Birkin", 25000, "üëù"], ["Bitcoin", 65000, "ü™ô"], ["Pizza Shop", 250000, "üçï"], ["Year of Rent (LA)", 60000, "üè†"],
            ["Hot Tub", 8000, "üõÄ"], ["Ski Trip (Luxe)", 20000, "üéø"], ["CryptoPunk NFT", 150000, "üñºÔ∏è"], ["Charity Donation", 100000, "ü§ù"], ["A Single Share of Berkshire Hathaway", 600000, "üìà"],

            // WEALTHY (31-70)
            ["Tesla Roadster", 200000, "üèéÔ∏è"], ["Lamborghini Revuelto", 600000, "üêÇ"], ["Pagani Huayra", 3500000, "üî±"], ["Private Island (Bahamas)", 45000000, "üèùÔ∏è"], ["Luxury Yacht", 120000000, "üö¢"],
            ["Private Jet", 75000000, "üõ©Ô∏è"], ["Malibu Mansion", 85000000, "üè∞"], ["Penthouse in London", 55000000, "üè¢"], ["NBA Team", 3500000000, "üèÄ"], ["F1 Team", 1200000000, "üèéÔ∏è"],
            ["Helicopter", 4000000, "üöÅ"], ["Vineyard in Tuscany", 15000000, "üç∑"], ["Da Vinci Painting", 450000000, "üé®"], ["Private Museum", 200000000, "üèõÔ∏è"], ["Super Bowl Ad", 7000000, "üì∫"],
            ["Boeing 747", 400000000, "‚úàÔ∏è"], ["1,000,000 Trees", 1000000, "üå≥"], ["Town in Italy", 25000000, "üèòÔ∏è"], ["Jurassic Fossil", 12000000, "ü¶ñ"], ["Stradivarius Violin", 16000000, "üéª"],
            ["Rare Comic Book", 3000000, "üìï"], ["Moon Rock", 5000000, "ü™®"], ["Private Concert (Beyonc√©)", 5000000, "üé§"], ["Undersea Base", 500000000, "üåä"], ["Golden Toilet", 1000000, "üöΩ"],

            // CORPORATE & HISTORIC (71-110)
            ["Nuclear Power Plant", 9000000000, "‚ò¢Ô∏è"], ["Aircraft Carrier", 13000000000, "‚öì"], ["Burj Khalifa", 1500000000, "üèôÔ∏è"], ["SpaceX Rocket Launch", 65000000, "üöÄ"], ["Acquire McDonald's Corp", 210000000000, "üçü"],
            ["Buy Nintendo", 55000000000, "üçÑ"], ["Buy Netflix Corp", 240000000000, "üì∫"], ["The Great Sphinx", 1500000000, "ü¶Å"], ["End World Hunger (10 Years)", 400000000000, "ü•£"], ["Colonize Mars", 100000000000, "ü™ê"],
            ["Panama Canal", 45000000000, "üåä"], ["Mona Lisa", 900000000, "üñºÔ∏è"], ["Build New NYC Subway Line", 15000000000, "üöá"], ["Olympic Games Host", 12000000000, "üèÖ"], ["Statue of Liberty", 500000000, "üóΩ"],
            ["Acquire Ferrari", 75000000000, "üèéÔ∏è"], ["100 Ghost Cities", 50000000000, "üèôÔ∏è"], ["The Moon", 500000000000, "üåô"], ["AGI Research Lab", 150000000000, "üß†"], ["Hyperloop Network", 25000000000, "üöÑ"],
            ["Global Clean Water Project", 15000000000, "üíß"], ["Acquire Manchester United", 6000000000, "‚öΩ"], ["Buy The New York Times", 3500000000, "üì∞"], ["Acquire Spotify", 45000000000, "üéµ"],

            // ABSURD & FINAL (111-150)
            ["Acquire X (Twitter) Again", 44000000000, "üê¶"], ["Starship Fleet (1000 Ships)", 20000000000, "üöÄ"], ["Dyson Swarm (Stage 1)", 300000000000, "‚òÄÔ∏è"], ["Buy a Small Country", 150000000000, "üó∫Ô∏è"], ["Acquire Adobe", 230000000000, "üñåÔ∏è"],
            ["Vertical Farm for Earth", 180000000000, "ü•ó"], ["Quantum Supercomputer", 10000000000, "üíª"], ["Robot Maid Army", 5000000000, "ü§ñ"], ["Ocean Cleanup Fleet", 12000000000, "üê≥"], ["Acquire Uber", 160000000000, "üöï"],
            ["Build a Space Elevator", 90000000000, "üèóÔ∏è"], ["Asteroid Mining Rig", 75000000000, "‚òÑÔ∏è"], ["Global 10G Network", 120000000000, "üõ∞Ô∏è"], ["Artificial Sun", 25000000000, "‚òÄÔ∏è"], ["Acquire Rolex", 10000000000, "‚åö"],
            ["Human Brain Cloud Backup", 300000000000, "‚òÅÔ∏è"], ["Personal Army of 100k Drones", 2000000000, "üöÅ"], ["Acquire Airbnb", 100000000000, "üèòÔ∏è"], ["Buy All NFL Teams", 150000000000, "üèà"], ["The Eiffel Tower", 1200000000, "üóº"],
            ["Clone a Woolly Mammoth", 50000000, "ü¶£"], ["Stonehenge", 500000000, "ü™®"], ["Amazon Rainforest Protection", 25000000000, "üå¥"], ["Acquire Lego", 15000000000, "üß±"], ["Infinite Pizza for Everyone", 80000000000, "üçï"],
            ["1 Billion iPhones", 1000000000000, "üì±"], ["Buy Starbucks Corp", 110000000000, "‚òï"], ["Green Sahara Project", 65000000000, "üèúÔ∏è"], ["Antarctic Resort", 1000000000, "‚ùÑÔ∏è"], ["Personal Reality (VR World)", 50000000000, "üï∂Ô∏è"],
            ["Buy Twitch", 15000000000, "üëæ"], ["Acquire Zoom", 20000000000, "üìπ"], ["10,000 Superyachts", 1000000000000, "üõ•Ô∏è"], ["Acquire Fortnite", 30000000000, "üî´"], ["Buy the Mona Lisa Twice", 1800000000, "üñºÔ∏è"],
            ["A Liter of Scorpion Venom", 10000000, "ü¶Ç"], ["Acquire Chanel", 20000000000, "üíÑ"], ["Acquire Reddit", 10000000000, "üß°"], ["Space Tourism Port", 8000000000, "üåå"], ["The Concept of Time", 799000000000, "‚è≥"]
        ];

        const items = rawItems.map(i => ({ name: i[0], price: i[1], img: i[2] }));

        function formatMoney(num) {
            return "$" + num.toLocaleString();
        }

        function updateUI() {
            document.getElementById('money').innerText = formatMoney(balance);
            const spent = initialBalance - balance;
            const perc = (spent / initialBalance * 100).toFixed(4);
            document.getElementById('percentage').innerText = `${perc}% Spent`;
            renderItems();
            renderReceipt();
        }

        function buy(index) {
            const item = items[index];
            if (balance >= item.price) {
                balance -= item.price;
                inventory[item.name] = (inventory[item.name] || 0) + 1;
                updateUI();
            }
        }

        function sell(index) {
            const item = items[index];
            if (inventory[item.name] > 0) {
                balance += item.price;
                inventory[item.name]--;
                updateUI();
            }
        }

        function renderItems() {
            const grid = document.getElementById('grid');
            grid.innerHTML = '';
            items.forEach((item, index) => {
                const count = inventory[item.name] || 0;
                const card = document.createElement('div');
                card.className = "item-card p-6 flex flex-col items-center text-center";
                card.innerHTML = `
                    <div class="text-7xl mb-6 select-none">${item.img}</div>
                    <div class="text-lg font-black uppercase mb-1 leading-tight h-12 flex items-center">${item.name}</div>
                    <div class="text-green-600 font-extrabold text-xl mb-6">${formatMoney(item.price)}</div>
                    <div class="flex items-center gap-3 w-full">
                        <button onclick="sell(${index})" class="neubrutal bg-red-500 text-white flex-1 py-3 font-black uppercase text-xs ${count === 0 ? 'opacity-20 grayscale pointer-events-none' : ''}">Sell</button>
                        <div class="w-12 text-center font-black text-xl">${count}</div>
                        <button onclick="buy(${index})" class="neubrutal bg-green-500 text-white flex-1 py-3 font-black uppercase text-xs ${balance < item.price ? 'opacity-20 grayscale pointer-events-none' : ''}">Buy</button>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        function renderReceipt() {
            const list = document.getElementById('receipt-list');
            const totalEl = document.getElementById('receipt-total');
            list.innerHTML = '';
            let totalSpent = 0;

            for (const [name, count] of Object.entries(inventory)) {
                if (count > 0) {
                    const item = items.find(i => i.name === name);
                    const cost = item.price * count;
                    totalSpent += cost;
                    list.innerHTML += `<div class="flex justify-between items-end gap-4"><span class="flex-1 border-b-2 border-dotted border-black pb-1">${name} x${count}</span><span class="text-green-600">$${cost.toLocaleString()}</span></div>`;
                }
            }
            if (totalSpent === 0) list.innerHTML = `<div class="text-center opacity-30 py-10">Your cart is empty. Start spending Elon's money.</div>`;
            totalEl.innerText = "TOTAL SPENT: " + formatMoney(totalSpent);
        }

        updateUI();
    </script>
</body>
</html>
    </template>
    <template id="code-nuke">
        <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nuke Launcher</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        body { font-family: 'Plus Jakarta Sans', sans-serif; background-color: #f0f2f5; }
        .neubrutal { border: 3px solid #000; box-shadow: 4px 4px 0px #000; transition: all 0.1s; }
        .neubrutal:active { transform: translate(2px, 2px); box-shadow: 0px 0px 0px #000; }
        .item-card { border: 3px solid #000; background: #fff; transition: transform 0.2s; }
        .item-card:hover { transform: rotate(-1deg); }
        .sticky-header { position: sticky; top: 0; z-index: 100; border-bottom: 4px solid #000; background: #fff; }
        .receipt-container { background: repeating-linear-gradient(#fff, #fff 30px, #f9f9f9 30px, #f9f9f9 31px); }
        #map { height: 500px; width: 100%; border: 4px solid #000; z-index: 1; cursor: crosshair; }
        .impact-gradient { background: linear-gradient(135deg, #ff4757, #ff6348); }
        .pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: .5; }
        }
        .shake {
            animation: shake 0.5s;
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
        .launch-btn {
            transition: all 0.3s;
        }
        .launch-btn:hover:not(:disabled) {
            transform: scale(1.05);
        }
        .launch-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .target-marker {
            animation: targetPulse 1s infinite;
        }
        @keyframes targetPulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.2); opacity: 0.7; }
        }
    </style>
</head>
<body class="pb-20">

    <header class="bg-white pt-12 pb-8 border-b-4 border-black text-center px-4">
        <div class="max-w-4xl mx-auto">
            <div class="inline-block p-2 bg-red-500 border-4 border-black mb-4 rotate-2">
                <span class="font-black text-xl uppercase tracking-tighter text-white">‚ö†Ô∏è SIMULATION ONLY ‚ö†Ô∏è</span>
            </div>
            <h1 class="text-6xl font-black uppercase tracking-tighter mb-4">Nuke Launcher</h1>
            <p class="text-xl font-bold opacity-70">Select your weapon, choose a target, and calculate the devastating impact.<br><strong>Educational demonstration of nuclear weapon effects.</strong></p>
        </div>
    </header>

    <div class="sticky-header impact-gradient p-6">
        <div class="max-w-6xl mx-auto">
            <div class="flex justify-between items-center mb-4">
                <div class="text-3xl md:text-5xl font-black text-white drop-shadow-[2px_2px_0px_rgba(0,0,0,1)] tracking-tighter">
                    <span id="selectedNuke">Select a Weapon</span>
                </div>
                <div class="text-right">
                    <div class="bg-black text-white px-3 py-1 font-bold rounded mb-2">
                        <span id="totalLaunched">0</span> Launched
                    </div>
                </div>
            </div>
            <button id="launchBtn" onclick="confirmLaunch()" disabled class="launch-btn neubrutal bg-red-600 text-white py-4 px-8 font-black uppercase text-2xl w-full disabled:bg-gray-400">
                üöÄ LAUNCH NUCLEAR STRIKE
            </button>
        </div>
    </div>

    <main class="max-w-7xl mx-auto p-6">
        <!-- MAP SECTION -->
        <div class="mb-8">
            <div class="neubrutal bg-white p-6">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-3xl font-black uppercase">Target Selection</h2>
                    <div id="targetCoords" class="text-sm font-bold text-gray-600">No target selected</div>
                </div>
                <p class="mb-4 font-bold text-gray-700">Click anywhere on the map to set your target coordinates.</p>
                <div id="map"></div>
                <div class="mt-4 grid grid-cols-2 gap-4">
                    <button onclick="resetMap()" class="neubrutal bg-gray-700 text-white py-3 font-black uppercase">Reset View</button>
                    <button onclick="clearAllImpacts()" class="neubrutal bg-red-600 text-white py-3 font-black uppercase">Clear All</button>
                </div>
            </div>
        </div>

        <!-- NUKE SELECTION GRID -->
        <h2 class="text-3xl font-black uppercase mb-6">Arsenal (Chronological Order)</h2>
        <div id="grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
        </div>
    </main>

    <!-- DAMAGE REPORT -->
    <section class="max-w-4xl mx-auto px-6 mt-12">
        <div class="receipt-container border-4 border-black p-8 shadow-[12px_12px_0px_rgba(0,0,0,1)]">
            <h2 class="text-4xl font-black uppercase text-center mb-8 border-b-4 border-black pb-4">Damage Report</h2>
            <div id="damage-report" class="space-y-4 mb-8">
                <div class="text-center opacity-30 py-10">No strikes launched yet. Select a weapon and target.</div>
            </div>
        </div>
    </section>

    <script>
        const nukes = [
            // HISTORICAL (1945-1960s)
            { 
                name: "Davy Crockett", 
                yield: 0.02,
                year: 1961,
                emoji: "üí•", 
                description: "Smallest tactical nuke",
                fireball: 0.03,
                radiation: 0.4,
                airblast5: 0.6,
                airblast3: 0.8,
                type: "historical"
            },
            { 
                name: "W54 Warhead", 
                yield: 0.25,
                year: 1961,
                emoji: "‚ö°", 
                description: "Man-portable weapon",
                fireball: 0.08,
                radiation: 0.9,
                airblast5: 1.2,
                airblast3: 1.6,
                type: "historical"
            },
            { 
                name: "Little Boy", 
                yield: 15,
                year: 1945,
                emoji: "‚ò¢Ô∏è", 
                description: "Hiroshima bomb",
                fireball: 0.22,
                radiation: 1.8,
                airblast5: 2.4,
                airblast3: 3.2,
                type: "historical"
            },
            { 
                name: "Fat Man", 
                yield: 21,
                year: 1945,
                emoji: "üí£", 
                description: "Nagasaki bomb",
                fireball: 0.25,
                radiation: 2.0,
                airblast5: 2.7,
                airblast3: 3.5,
                type: "historical"
            },
            { 
                name: "Ivy Mike", 
                yield: 10400,
                year: 1952,
                emoji: "üî¨", 
                description: "First H-bomb test",
                fireball: 4.2,
                radiation: 16.0,
                airblast5: 21.0,
                airblast3: 29.0,
                type: "historical"
            },
            { 
                name: "Castle Bravo", 
                yield: 15000,
                year: 1954,
                emoji: "üåã", 
                description: "Largest US test",
                fireball: 5.0,
                radiation: 18.5,
                airblast5: 24.0,
                airblast3: 33.5,
                type: "historical"
            },
            { 
                name: "Tsar Bomba", 
                yield: 50000,
                year: 1961,
                emoji: "üîÜ", 
                description: "Largest ever detonated",
                fireball: 7.5,
                radiation: 28.0,
                airblast5: 36.0,
                airblast3: 50.0,
                type: "historical"
            },

            // MODERN (1970s-present)
            { 
                name: "W76 Warhead", 
                yield: 100,
                year: 1978,
                emoji: "üöÄ", 
                description: "US submarine ICBM",
                fireball: 0.5,
                radiation: 3.2,
                airblast5: 4.2,
                airblast3: 5.8,
                type: "modern"
            },
            { 
                name: "W87 Warhead", 
                yield: 300,
                year: 1986,
                emoji: "üî•", 
                description: "Modern ICBM warhead",
                fireball: 0.8,
                radiation: 4.5,
                airblast5: 6.0,
                airblast3: 8.3,
                type: "modern"
            },
            { 
                name: "B61 Tactical", 
                yield: 340,
                year: 1968,
                emoji: "üéØ", 
                description: "Variable yield bomb",
                fireball: 0.9,
                radiation: 4.8,
                airblast5: 6.3,
                airblast3: 8.8,
                type: "modern"
            },
            { 
                name: "W88 Warhead", 
                yield: 475,
                year: 1988,
                emoji: "‚öîÔ∏è", 
                description: "Trident II missile",
                fireball: 1.0,
                radiation: 5.5,
                airblast5: 7.2,
                airblast3: 10.0,
                type: "modern"
            },
            { 
                name: "RS-28 Sarmat", 
                yield: 800,
                year: 2023,
                emoji: "üõ∞Ô∏è", 
                description: "Russian 'Satan 2'",
                fireball: 1.2,
                radiation: 6.0,
                airblast5: 7.8,
                airblast3: 10.8,
                type: "modern"
            },
            { 
                name: "B83 Bomb", 
                yield: 1200,
                year: 1983,
                emoji: "üíÄ", 
                description: "Most powerful US weapon",
                fireball: 1.5,
                radiation: 7.2,
                airblast5: 9.5,
                airblast3: 13.2,
                type: "modern"
            },

            // THEORETICAL / FICTIONAL
            { 
                name: "Cobalt Bomb", 
                yield: 500,
                year: 0,
                emoji: "‚ò†Ô∏è", 
                description: "Doomsday device (theoretical)",
                fireball: 1.0,
                radiation: 45.0,
                airblast5: 7.5,
                airblast3: 10.5,
                type: "theoretical"
            },
            { 
                name: "Project Sundial", 
                yield: 10000000,
                year: 1950,
                emoji: "‚òÄÔ∏è", 
                description: "10 Gt theoretical bomb",
                fireball: 150.0,
                radiation: 400.0,
                airblast5: 550.0,
                airblast3: 750.0,
                type: "theoretical"
            },
            { 
                name: "Antimatter Bomb", 
                yield: 50000000,
                year: 0,
                emoji: "‚öõÔ∏è", 
                description: "Pure matter-antimatter annihilation",
                fireball: 300.0,
                radiation: 800.0,
                airblast5: 1100.0,
                airblast3: 1500.0,
                type: "fictional"
            },
            { 
                name: "Stellar Destabilizer", 
                yield: 500000000,
                year: 0,
                emoji: "üåü", 
                description: "Collapses nearby stars",
                fireball: 1000.0,
                radiation: 3000.0,
                airblast5: 4000.0,
                airblast3: 5500.0,
                type: "fictional"
            },
            { 
                name: "Reality Shatterer", 
                yield: 5000000000,
                year: 0,
                emoji: "üåå", 
                description: "Tears fabric of spacetime",
                fireball: 5000.0,
                radiation: 15000.0,
                airblast5: 20000.0,
                airblast3: 28000.0,
                type: "fictional"
            }
        ];

        // Sort by year (0 for fictional goes to end)
        nukes.sort((a, b) => {
            if (a.year === 0) return 1;
            if (b.year === 0) return -1;
            return a.year - b.year;
        });

        let selectedNuke = null;
        let targetLocation = null;
        let map;
        let targetMarker = null;
        let impacts = [];
        let totalLaunched = 0;

        function initMap() {
            map = L.map('map').setView([40.7128, -74.0060], 10);

            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '¬© OpenStreetMap contributors',
                maxZoom: 19
            }).addTo(map);

            map.on('click', function(e) {
                setTarget(e.latlng);
            });
        }

        function setTarget(latlng) {
            targetLocation = latlng;
            
            if (targetMarker) {
                map.removeLayer(targetMarker);
            }

            targetMarker = L.marker(latlng, {
                icon: L.divIcon({
                    className: 'target-marker',
                    html: '<div style="background: #FF0000; border: 3px solid #000; border-radius: 50%; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; font-size: 20px;">üéØ</div>',
                    iconSize: [30, 30]
                })
            }).addTo(map);

            document.getElementById('targetCoords').innerText = `Target: ${latlng.lat.toFixed(4)}, ${latlng.lng.toFixed(4)}`;
            document.getElementById('launchBtn').disabled = !selectedNuke;
        }

        function selectNuke(index) {
            selectedNuke = nukes[index];
            const yearText = selectedNuke.year === 0 ? 'Fictional' : selectedNuke.year;
            document.getElementById('selectedNuke').innerText = `${selectedNuke.emoji} ${selectedNuke.name} (${selectedNuke.yield} kt)`;
            document.getElementById('launchBtn').disabled = !targetLocation;
            renderNukes();
        }

        function confirmLaunch() {
            if (!selectedNuke || !targetLocation) return;

            // Play launch sound
            playLaunchSound();

            // Shake the screen
            document.body.classList.add('shake');
            setTimeout(() => document.body.classList.remove('shake'), 500);

            // Launch after 2 seconds
            setTimeout(() => {
                launchNuke(targetLocation);
            }, 2000);
        }

        function launchNuke(latlng) {
            totalLaunched++;
            document.getElementById('totalLaunched').innerText = totalLaunched;

            // Draw impact zones
            const fireballCircle = L.circle(latlng, {
                color: '#FF0000',
                fillColor: '#FF0000',
                fillOpacity: 0.6,
                radius: selectedNuke.fireball * 1000,
                weight: 3
            }).addTo(map);

            const radiationCircle = L.circle(latlng, {
                color: '#00FF00',
                fillColor: '#00FF00',
                fillOpacity: 0.2,
                radius: selectedNuke.radiation * 1000,
                weight: 2
            }).addTo(map);

            const airblast5Circle = L.circle(latlng, {
                color: '#FFA500',
                fillColor: '#FFA500',
                fillOpacity: 0.15,
                radius: selectedNuke.airblast5 * 1000,
                weight: 2
            }).addTo(map);

            const airblast3Circle = L.circle(latlng, {
                color: '#FFFF00',
                fillColor: '#FFFF00',
                fillOpacity: 0.1,
                radius: selectedNuke.airblast3 * 1000,
                weight: 2
            }).addTo(map);

            // Calculate casualties
            const casualties = calculateCasualties(selectedNuke);

            // Remove target marker
            if (targetMarker) {
                map.removeLayer(targetMarker);
                targetMarker = null;
            }

            impacts.push({
                nuke: selectedNuke,
                location: latlng,
                circles: [fireballCircle, radiationCircle, airblast5Circle, airblast3Circle],
                casualties: casualties,
                timestamp: new Date()
            });

            updateDamageReport();
            playExplosionSound();

            // Reset for next launch
            targetLocation = null;
            document.getElementById('targetCoords').innerText = 'No target selected';
            document.getElementById('launchBtn').disabled = true;
        }

        function calculateCasualties(nuke) {
            // Rough population density estimate: 10,000 people per km¬≤
            const fireballArea = Math.PI * Math.pow(nuke.fireball, 2);
            const radiationArea = Math.PI * Math.pow(nuke.radiation, 2);
            const blastArea = Math.PI * Math.pow(nuke.airblast3, 2);

            const deaths = Math.round(fireballArea * 10000);
            const severeInjuries = Math.round((radiationArea - fireballArea) * 8000);
            const injuries = Math.round((blastArea - radiationArea) * 5000);

            return {
                deaths: deaths,
                severeInjuries: severeInjuries,
                injuries: injuries,
                total: deaths + severeInjuries + injuries,
                fireballArea: fireballArea,
                radiationArea: radiationArea,
                blastArea: blastArea
            };
        }

        function clearAllImpacts() {
            impacts.forEach(impact => {
                impact.circles.forEach(circle => map.removeLayer(circle));
            });
            impacts = [];
            totalLaunched = 0;
            document.getElementById('totalLaunched').innerText = '0';
            updateDamageReport();
        }

        function resetMap() {
            map.setView([40.7128, -74.0060], 10);
        }

        function playLaunchSound() {
            try {
                const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
                
                // Siren sound
                const siren = audioCtx.createOscillator();
                const sirenGain = audioCtx.createGain();
                siren.connect(sirenGain);
                sirenGain.connect(audioCtx.destination);
                siren.frequency.setValueAtTime(400, audioCtx.currentTime);
                siren.frequency.exponentialRampToValueAtTime(800, audioCtx.currentTime + 1);
                sirenGain.gain.setValueAtTime(0.3, audioCtx.currentTime);
                sirenGain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 1);
                siren.start(audioCtx.currentTime);
                siren.stop(audioCtx.currentTime + 1);

                // Launch whoosh
                setTimeout(() => {
                    const whoosh = audioCtx.createOscillator();
                    const whooshGain = audioCtx.createGain();
                    whoosh.connect(whooshGain);
                    whooshGain.connect(audioCtx.destination);
                    whoosh.frequency.setValueAtTime(100, audioCtx.currentTime);
                    whoosh.frequency.exponentialRampToValueAtTime(2000, audioCtx.currentTime + 1);
                    whooshGain.gain.setValueAtTime(0.2, audioCtx.currentTime);
                    whooshGain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 1);
                    whoosh.start(audioCtx.currentTime);
                    whoosh.stop(audioCtx.currentTime + 1);
                }, 1000);
            } catch(e) {}
        }

        function playExplosionSound() {
            try {
                const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioCtx.createOscillator();
                const gainNode = audioCtx.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioCtx.destination);
                
                oscillator.frequency.value = 30;
                oscillator.frequency.exponentialRampToValueAtTime(10, audioCtx.currentTime + 2);
                gainNode.gain.setValueAtTime(0.5, audioCtx.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 2);
                
                oscillator.start(audioCtx.currentTime);
                oscillator.stop(audioCtx.currentTime + 2);
            } catch(e) {}
        }

        function renderNukes() {
            const grid = document.getElementById('grid');
            grid.innerHTML = '';
            nukes.forEach((nuke, index) => {
                const isSelected = selectedNuke && selectedNuke.name === nuke.name;
                const card = document.createElement('div');
                const typeColor = nuke.type === 'historical' ? 'bg-blue-100' : 
                                 nuke.type === 'modern' ? 'bg-green-100' : 
                                 nuke.type === 'theoretical' ? 'bg-purple-100' : 'bg-red-100';
                card.className = `item-card p-6 flex flex-col items-center text-center cursor-pointer ${isSelected ? 'ring-4 ring-red-500' : ''} ${typeColor}`;
                card.onclick = () => selectNuke(index);
                
                const yearText = nuke.year === 0 ? 'Fictional' : nuke.year;
                
                card.innerHTML = `
                    <div class="text-7xl mb-4 select-none ${isSelected ? 'pulse' : ''}">${nuke.emoji}</div>
                    <div class="text-lg font-black uppercase mb-1 leading-tight">${nuke.name}</div>
                    <div class="text-xs text-gray-500 mb-2">${yearText}</div>
                    <div class="text-red-600 font-extrabold text-2xl mb-2">${nuke.yield.toLocaleString()} kt</div>
                    <div class="text-xs text-gray-600 mb-4">${nuke.description}</div>
                    <div class="w-full text-left text-[10px] font-bold space-y-1">
                        <div>üî• Fireball: ${nuke.fireball} km</div>
                        <div>‚ò¢Ô∏è Radiation: ${nuke.radiation} km</div>
                        <div>üí® Blast: ${nuke.airblast3} km</div>
                    </div>
                    ${isSelected ? '<div class="mt-3 bg-red-500 text-white px-3 py-1 rounded-full text-xs font-black">SELECTED</div>' : '<div class="mt-3 bg-gray-200 px-3 py-1 rounded-full text-xs font-black">SELECT</div>'}
                `;
                grid.appendChild(card);
            });
        }

        function updateDamageReport() {
            const report = document.getElementById('damage-report');
            
            if (impacts.length === 0) {
                report.innerHTML = `<div class="text-center opacity-30 py-10">No strikes launched yet. Select a weapon and target.</div>`;
                return;
            }

            report.innerHTML = impacts.slice().reverse().map((impact, idx) => {
                const lat = impact.location.lat.toFixed(4);
                const lng = impact.location.lng.toFixed(4);
                const cas = impact.casualties;
                
                return `
                    <div class="border-4 border-black pl-6 pr-6 pt-4 pb-4 bg-red-50 shadow-[4px_4px_0px_rgba(0,0,0,1)]">
                        <div class="flex justify-between items-start mb-4">
                            <div>
                                <div class="font-black text-2xl mb-1">${impact.nuke.emoji} ${impact.nuke.name}</div>
                                <div class="text-sm text-gray-600">Impact: ${lat}, ${lng}</div>
                                <div class="text-sm text-gray-600">Yield: ${impact.nuke.yield.toLocaleString()} kilotons</div>
                            </div>
                            <div class="text-right">
                                <div class="text-xs text-gray-500">${impact.timestamp.toLocaleTimeString()}</div>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-2 gap-4 mb-4">
                            <div class="bg-red-200 p-3 border-2 border-black">
                                <div class="text-2xl font-black text-red-700">${cas.deaths.toLocaleString()}</div>
                                <div class="text-xs font-bold">Instant Deaths</div>
                            </div>
                            <div class="bg-orange-200 p-3 border-2 border-black">
                                <div class="text-2xl font-black text-orange-700">${cas.severeInjuries.toLocaleString()}</div>
                                <div class="text-xs font-bold">Severe Injuries</div>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-2 gap-4">
                            <div class="bg-yellow-200 p-3 border-2 border-black">
                                <div class="text-2xl font-black text-yellow-700">${cas.injuries.toLocaleString()}</div>
                                <div class="text-xs font-bold">Minor Injuries</div>
                            </div>
                            <div class="bg-black p-3 border-2 border-black">
                                <div class="text-2xl font-black text-white">${cas.total.toLocaleString()}</div>
                                <div class="text-xs font-bold text-white">Total Casualties</div>
                            </div>
                        </div>

                        <div class="mt-4 pt-4 border-t-2 border-black text-xs">
                            <div class="grid grid-cols-3 gap-2 font-bold">
                                <div>üî• ${cas.fireballArea.toFixed(1)} km¬≤</div>
                                <div>‚ò¢Ô∏è ${cas.radiationArea.toFixed(1)} km¬≤</div>
                                <div>üí® ${cas.blastArea.toFixed(1)} km¬≤</div>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Initialize
        window.onload = function() {
            initMap();
            renderNukes();
        };
    </script>
</body>
</html>
    </template>
    <template id="code-clicker">
        <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clicker Hero</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;700;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Plus Jakarta Sans', sans-serif; background-color: #f0f2f5; }
        .neubrutal { border: 3px solid #000; box-shadow: 4px 4px 0px #000; transition: all 0.1s; }
        .neubrutal:active { transform: translate(2px, 2px); box-shadow: 0px 0px 0px #000; }
        .money-gradient { background: linear-gradient(135deg, #6366f1, #8b5cf6); }
        .item-card { border: 3px solid #000; background: #fff; transition: transform 0.2s; }
        .item-card:hover { transform: rotate(-1deg); }
        .sticky-header { position: sticky; top: 0; z-index: 100; border-bottom: 4px solid #000; background: #fff; }
        .receipt-container { background: repeating-linear-gradient(#fff, #fff 30px, #f9f9f9 30px, #f9f9f9 31px); }
        .click-button {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            border: 6px solid #000;
            box-shadow: 8px 8px 0px #000;
            transition: all 0.1s;
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
        }
        .click-button:active {
            transform: translate(4px, 4px);
            box-shadow: 0px 0px 0px #000;
        }
        .float-number {
            position: fixed;
            font-weight: 900;
            font-size: 2rem;
            pointer-events: none;
            animation: floatUp 1s ease-out forwards;
            z-index: 1000;
        }
        @keyframes floatUp {
            0% { opacity: 1; transform: translateY(0); }
            100% { opacity: 0; transform: translateY(-100px); }
        }
        .pulse-animation {
            animation: pulseGlow 0.3s;
        }
        @keyframes pulseGlow {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
    </style>
</head>
<body class="pb-20">

    <header class="bg-white pt-12 pb-8 border-b-4 border-black text-center px-4">
        <div class="max-w-4xl mx-auto">
            <div class="inline-block p-2 bg-purple-500 border-4 border-black mb-4 rotate-2">
                <span class="font-black text-xl uppercase tracking-tighter text-white">üí∞ IDLE CLICKER EDITION üí∞</span>
            </div>
            <h1 class="text-6xl font-black uppercase tracking-tighter mb-4">Clicker Hero</h1>
            <p class="text-xl font-bold opacity-70">Click to earn money. Buy auto-clickers to get rich while you sleep.<br><strong>Can you become a trillionaire?</strong></p>
        </div>
    </header>

    <div class="sticky-header money-gradient p-6">
        <div class="max-w-6xl mx-auto">
            <div class="flex justify-between items-center mb-4">
                <div>
                    <div id="money" class="text-4xl md:text-6xl font-black text-white drop-shadow-[2px_2px_0px_rgba(0,0,0,1)] tracking-tighter">$0</div>
                    <div class="text-sm font-bold text-white mt-1">Per Second: $<span id="perSecond">0</span></div>
                </div>
                <div class="text-right">
                    <div class="bg-black text-white px-3 py-1 font-bold rounded mb-2">Total Clicks: <span id="totalClicks">0</span></div>
                    <div class="bg-white text-black px-3 py-1 font-bold rounded">Level <span id="level">1</span></div>
                </div>
            </div>
            <div class="h-3 bg-black rounded-full overflow-hidden border-2 border-white">
                <div id="levelProgress" class="h-full bg-yellow-400 transition-all duration-300" style="width: 0%"></div>
            </div>
        </div>
    </div>

    <!-- CLICK BUTTON SECTION -->
    <section class="max-w-4xl mx-auto p-6 text-center">
        <div class="neubrutal bg-white p-8 mb-8">
            <h2 class="text-3xl font-black uppercase mb-6">Click to Earn Money!</h2>
            <button id="clickButton" class="click-button mx-auto flex items-center justify-center" onclick="earnMoney()">
                <span class="text-6xl font-black text-black">$<span id="clickValue">1</span></span>
            </button>
            <p class="mt-6 text-sm font-bold text-gray-600">Click the button to earn $<span id="clickValueText">1</span> per click</p>
        </div>
    </section>

    <main class="max-w-7xl mx-auto p-6">
        <!-- AUTO-CLICKERS GRID -->
        <h2 class="text-3xl font-black uppercase mb-6">Buy Auto-Clickers</h2>
        <div id="grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8">
        </div>

        <!-- GOLDEN UPGRADES -->
        <h2 class="text-3xl font-black uppercase mb-6 mt-12">‚≠ê Golden Upgrades</h2>
        <div id="upgradesGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
        </div>
    </main>

    <!-- STATS SECTION -->
    <section class="max-w-2xl mx-auto px-6 mt-12">
        <div class="receipt-container border-4 border-black p-8 shadow-[12px_12px_0px_rgba(0,0,0,1)]">
            <h2 class="text-4xl font-black uppercase text-center mb-8 border-b-4 border-black pb-4">Your Empire</h2>
            <div id="stats-list" class="space-y-4 mb-8 font-bold text-lg">
                <div class="flex justify-between border-b-2 border-dotted border-black pb-2">
                    <span>Total Money Earned</span>
                    <span class="text-green-600">$<span id="totalEarned">0</span></span>
                </div>
                <div class="flex justify-between border-b-2 border-dotted border-black pb-2">
                    <span>Total Clicks</span>
                    <span class="text-blue-600"><span id="statsClicks">0</span></span>
                </div>
                <div class="flex justify-between border-b-2 border-dotted border-black pb-2">
                    <span>Auto-Clickers Owned</span>
                    <span class="text-purple-600"><span id="totalBuildings">0</span></span>
                </div>
                <div class="flex justify-between">
                    <span>Income Per Second</span>
                    <span class="text-yellow-600">$<span id="statsPerSecond">0</span>/s</span>
                </div>
            </div>
            <button onclick="resetGame()" class="w-full bg-red-600 text-white font-black py-3 rounded-lg text-sm uppercase neubrutal">Reset Game</button>
        </div>
    </section>

    <script>
        let gameState = {
            money: 0,
            totalEarned: 0,
            clicks: 0,
            clickPower: 1,
            perSecond: 0,
            level: 1,
            levelProgress: 0,
            buildings: {},
            upgrades: {}
        };

        const buildings = [
            { id: 'lemonade', name: "Lemonade Stand", basePrice: 10, baseCps: 0.1, emoji: "üçã", owned: 0 },
            { id: 'newspaper', name: "Paper Route", basePrice: 100, baseCps: 0.5, emoji: "üì∞", owned: 0 },
            { id: 'burger', name: "Burger Joint", basePrice: 500, baseCps: 2, emoji: "üçî", owned: 0 },
            { id: 'carwash', name: "Car Wash", basePrice: 2000, baseCps: 8, emoji: "üöø", owned: 0 },
            { id: 'bakery', name: "Bakery", basePrice: 10000, baseCps: 40, emoji: "ü•ñ", owned: 0 },
            { id: 'cafe', name: "Coffee Shop", basePrice: 50000, baseCps: 200, emoji: "‚òï", owned: 0 },
            { id: 'warehouse', name: "Warehouse", basePrice: 250000, baseCps: 1000, emoji: "üè≠", owned: 0 },
            { id: 'bank', name: "Bank", basePrice: 1000000, baseCps: 5000, emoji: "üè¶", owned: 0 },
            { id: 'oilrig', name: "Oil Rig", basePrice: 5000000, baseCps: 25000, emoji: "üõ¢Ô∏è", owned: 0 },
            { id: 'mine', name: "Gold Mine", basePrice: 25000000, baseCps: 125000, emoji: "‚õèÔ∏è", owned: 0 },
            { id: 'laboratory', name: "Lab", basePrice: 100000000, baseCps: 500000, emoji: "üî¨", owned: 0 },
            { id: 'spaceport', name: "Space Port", basePrice: 500000000, baseCps: 2500000, emoji: "üöÄ", owned: 0 },
            { id: 'moonbase', name: "Moon Base", basePrice: 2000000000, baseCps: 10000000, emoji: "üåô", owned: 0 },
            { id: 'marscolony', name: "Mars Colony", basePrice: 10000000000, baseCps: 50000000, emoji: "ü™ê", owned: 0 },
            { id: 'timemachine', name: "Time Machine", basePrice: 50000000000, baseCps: 250000000, emoji: "‚è∞", owned: 0 },
            { id: 'portal', name: "Portal", basePrice: 250000000000, baseCps: 1250000000, emoji: "üåÄ", owned: 0 }
        ];

        const upgrades = [
            { id: 'click2x', name: "2x Click Power", price: 100, multiplier: 2, emoji: "üëÜ", purchased: false },
            { id: 'click5x', name: "5x Click Power", price: 1000, multiplier: 5, emoji: "‚úåÔ∏è", purchased: false },
            { id: 'click10x', name: "10x Click Power", price: 10000, multiplier: 10, emoji: "üñêÔ∏è", purchased: false },
            { id: 'auto2x', name: "2x Auto Income", price: 5000, multiplier: 2, emoji: "‚ö°", purchased: false, type: 'auto' },
            { id: 'auto5x', name: "5x Auto Income", price: 50000, multiplier: 5, emoji: "‚ö°‚ö°", purchased: false, type: 'auto' },
            { id: 'auto10x', name: "10x Auto Income", price: 500000, multiplier: 10, emoji: "‚ö°‚ö°‚ö°", purchased: false, type: 'auto' },
            { id: 'golden', name: "Golden Touch", price: 5000000, multiplier: 100, emoji: "üëë", purchased: false },
            { id: 'mega', name: "Mega Multiplier", price: 100000000, multiplier: 1000, emoji: "üíé", purchased: false },
            { id: 'ultra', name: "Ultra Boost", price: 10000000000, multiplier: 10000, emoji: "üî•", purchased: false }
        ];

        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

        function playSfx(freq, dur) {
            try {
                if (audioCtx.state === 'suspended') audioCtx.resume();
                const osc = audioCtx.createOscillator();
                const gain = audioCtx.createGain();
                osc.frequency.value = freq;
                gain.gain.setValueAtTime(0.05, audioCtx.currentTime);
                gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + dur);
                osc.connect(gain);
                gain.connect(audioCtx.destination);
                osc.start();
                osc.stop(audioCtx.currentTime + dur);
            } catch(e) {}
        }

        function earnMoney() {
            gameState.money += gameState.clickPower;
            gameState.totalEarned += gameState.clickPower;
            gameState.clicks++;
            gameState.levelProgress += 1;

            playSfx(600, 0.05);
            
            // Floating number animation
            const btn = document.getElementById('clickButton');
            const rect = btn.getBoundingClientRect();
            const floatEl = document.createElement('div');
            floatEl.className = 'float-number';
            floatEl.innerText = `+$${formatMoney(gameState.clickPower)}`;
            floatEl.style.left = rect.left + rect.width / 2 + 'px';
            floatEl.style.top = rect.top + 'px';
            floatEl.style.color = '#10b981';
            document.body.appendChild(floatEl);
            setTimeout(() => floatEl.remove(), 1000);

            // Button pulse
            btn.classList.add('pulse-animation');
            setTimeout(() => btn.classList.remove('pulse-animation'), 300);

            checkLevelUp();
            updateUI();
        }

        function buyBuilding(id) {
            const building = buildings.find(b => b.id === id);
            const price = getBuildingPrice(building);

            if (gameState.money >= price) {
                gameState.money -= price;
                building.owned++;
                gameState.buildings[id] = building.owned;
                calculatePerSecond();
                playSfx(800, 0.1);
                updateUI();
            } else {
                playSfx(150, 0.2);
            }
        }

        function buyUpgrade(id) {
            const upgrade = upgrades.find(u => u.id === id);

            if (gameState.money >= upgrade.price && !upgrade.purchased) {
                gameState.money -= upgrade.price;
                upgrade.purchased = true;
                gameState.upgrades[id] = true;

                if (upgrade.type === 'auto') {
                    calculatePerSecond();
                } else {
                    gameState.clickPower *= upgrade.multiplier;
                }

                playSfx(1200, 0.2);
                updateUI();
            } else {
                playSfx(150, 0.2);
            }
        }

        function getBuildingPrice(building) {
            return Math.floor(building.basePrice * Math.pow(1.15, building.owned));
        }

        function calculatePerSecond() {
            let total = 0;
            buildings.forEach(building => {
                total += building.baseCps * building.owned;
            });

            // Apply auto upgrades
            let autoMultiplier = 1;
            upgrades.forEach(upgrade => {
                if (upgrade.purchased && upgrade.type === 'auto') {
                    autoMultiplier *= upgrade.multiplier;
                }
            });
            if (gameState.upgrades['golden']) autoMultiplier *= 100;
            if (gameState.upgrades['mega']) autoMultiplier *= 1000;
            if (gameState.upgrades['ultra']) autoMultiplier *= 10000;

            gameState.perSecond = total * autoMultiplier;
        }

        function checkLevelUp() {
            const nextLevel = gameState.level * 100;
            if (gameState.levelProgress >= nextLevel) {
                gameState.level++;
                gameState.levelProgress = 0;
                gameState.clickPower = Math.floor(gameState.clickPower * 1.5);
                playSfx(1000, 0.3);
                
                // Show level up notification
                const notification = document.createElement('div');
                notification.style.cssText = 'position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: #fbbf24; border: 4px solid #000; padding: 30px; font-size: 2rem; font-weight: 900; z-index: 9999; box-shadow: 8px 8px 0px #000;';
                notification.innerText = `üéâ LEVEL ${gameState.level}! üéâ`;
                document.body.appendChild(notification);
                setTimeout(() => notification.remove(), 2000);
            }
        }

        function formatMoney(num) {
            if (num >= 1e12) return (num / 1e12).toFixed(2) + 'T';
            if (num >= 1e9) return (num / 1e9).toFixed(2) + 'B';
            if (num >= 1e6) return (num / 1e6).toFixed(2) + 'M';
            if (num >= 1e3) return (num / 1e3).toFixed(2) + 'K';
            return num.toFixed(0);
        }

        function updateUI() {
            document.getElementById('money').innerText = '$' + formatMoney(gameState.money);
            document.getElementById('perSecond').innerText = formatMoney(gameState.perSecond);
            document.getElementById('totalClicks').innerText = gameState.clicks.toLocaleString();
            document.getElementById('level').innerText = gameState.level;
            document.getElementById('clickValue').innerText = formatMoney(gameState.clickPower);
            document.getElementById('clickValueText').innerText = formatMoney(gameState.clickPower);

            const nextLevel = gameState.level * 100;
            const progress = (gameState.levelProgress / nextLevel) * 100;
            document.getElementById('levelProgress').style.width = Math.min(progress, 100) + '%';

            // Stats
            document.getElementById('totalEarned').innerText = formatMoney(gameState.totalEarned);
            document.getElementById('statsClicks').innerText = gameState.clicks.toLocaleString();
            document.getElementById('totalBuildings').innerText = Object.values(gameState.buildings).reduce((a, b) => a + b, 0);
            document.getElementById('statsPerSecond').innerText = formatMoney(gameState.perSecond);

            renderBuildings();
            renderUpgrades();
        }

        function renderBuildings() {
            const grid = document.getElementById('grid');
            grid.innerHTML = '';
            buildings.forEach(building => {
                const price = getBuildingPrice(building);
                const canBuy = gameState.money >= price;
                const card = document.createElement('div');
                card.className = "item-card p-6 flex flex-col items-center text-center";
                card.innerHTML = `
                    <div class="text-7xl mb-4 select-none">${building.emoji}</div>
                    <div class="text-lg font-black uppercase mb-1 leading-tight">${building.name}</div>
                    <div class="text-green-600 font-extrabold text-xl mb-2">$${formatMoney(price)}</div>
                    <div class="text-xs text-gray-600 mb-4">${formatMoney(building.baseCps)}/sec each</div>
                    <button onclick="buyBuilding('${building.id}')" class="neubrutal bg-green-500 text-white w-full py-3 font-black uppercase text-xs mb-2 ${!canBuy ? 'opacity-20 grayscale pointer-events-none' : ''}">
                        BUY
                    </button>
                    <div class="text-sm font-bold">Owned: ${building.owned}</div>
                `;
                grid.appendChild(card);
            });
        }

        function renderUpgrades() {
            const grid = document.getElementById('upgradesGrid');
            grid.innerHTML = '';
            upgrades.forEach(upgrade => {
                const canBuy = gameState.money >= upgrade.price && !upgrade.purchased;
                const card = document.createElement('div');
                const bgColor = upgrade.purchased ? 'bg-yellow-100' : 'bg-white';
                card.className = `item-card p-6 flex flex-col items-center text-center ${bgColor}`;
                card.innerHTML = `
                    <div class="text-7xl mb-4 select-none">${upgrade.emoji}</div>
                    <div class="text-lg font-black uppercase mb-1 leading-tight">${upgrade.name}</div>
                    <div class="text-purple-600 font-extrabold text-xl mb-2">$${formatMoney(upgrade.price)}</div>
                    <div class="text-xs text-gray-600 mb-4">${upgrade.multiplier}x multiplier</div>
                    ${upgrade.purchased ? 
                        '<div class="bg-green-500 text-white w-full py-3 font-black uppercase text-xs">PURCHASED ‚úì</div>' :
                        `<button onclick="buyUpgrade('${upgrade.id}')" class="neubrutal bg-yellow-500 text-black w-full py-3 font-black uppercase text-xs ${!canBuy ? 'opacity-20 grayscale pointer-events-none' : ''}">BUY UPGRADE</button>`
                    }
                `;
                grid.appendChild(card);
            });
        }

        function resetGame() {
            if (confirm('Are you sure you want to reset your game? All progress will be lost!')) {
                gameState = {
                    money: 0,
                    totalEarned: 0,
                    clicks: 0,
                    clickPower: 1,
                    perSecond: 0,
                    level: 1,
                    levelProgress: 0,
                    buildings: {},
                    upgrades: {}
                };
                buildings.forEach(b => b.owned = 0);
                upgrades.forEach(u => u.purchased = false);
                localStorage.removeItem('clickerHeroSave');
                updateUI();
            }
        }

        function saveGame() {
            localStorage.setItem('clickerHeroSave', JSON.stringify({
                gameState,
                buildings: buildings.map(b => ({ id: b.id, owned: b.owned })),
                upgrades: upgrades.map(u => ({ id: u.id, purchased: u.purchased }))
            }));
        }

        function loadGame() {
            const saved = localStorage.getItem('clickerHeroSave');
            if (saved) {
                const data = JSON.parse(saved);
                gameState = data.gameState;
                data.buildings.forEach(b => {
                    const building = buildings.find(bld => bld.id === b.id);
                    if (building) building.owned = b.owned;
                });
                data.upgrades.forEach(u => {
                    const upgrade = upgrades.find(upg => upg.id === u.id);
                    if (upgrade) upgrade.purchased = u.purchased;
                });
                calculatePerSecond();
            }
        }

        // Auto-save every 10 seconds
        setInterval(saveGame, 10000);

        // Auto-earn from buildings
        setInterval(() => {
            if (gameState.perSecond > 0) {
                gameState.money += gameState.perSecond / 10;
                gameState.totalEarned += gameState.perSecond / 10;
                updateUI();
            }
        }, 100);

        // Initialize
        loadGame();
        updateUI();
    </script>
</body>
</html>
    </template>
    <template id="code-bucket">
        <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Bucket List</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;700;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Plus Jakarta Sans', sans-serif; background-color: #f0f2f5; }
        .neubrutal { border: 3px solid #000; box-shadow: 4px 4px 0px #000; transition: all 0.1s; }
        .neubrutal:active { transform: translate(2px, 2px); box-shadow: 0px 0px 0px #000; }
        .money-gradient { background: linear-gradient(135deg, #10b981, #059669); }
        .item-card { border: 3px solid #000; background: #fff; transition: transform 0.2s; }
        .item-card:hover { transform: rotate(-1deg); }
        .item-card.completed { background: #d1fae5; opacity: 0.7; }
        .sticky-header { position: sticky; top: 0; z-index: 100; border-bottom: 4px solid #000; background: #fff; }
        .receipt-container { background: repeating-linear-gradient(#fff, #fff 30px, #f9f9f9 30px, #f9f9f9 31px); }
    </style>
</head>
<body class="pb-20">

    <header class="bg-white pt-12 pb-8 border-b-4 border-black text-center px-4">
        <div class="max-w-4xl mx-auto">
            <div class="inline-block p-2 bg-green-400 border-4 border-black mb-4 rotate-2">
                <span class="font-black text-xl uppercase tracking-tighter">‚úì LIFE GOALS EDITION ‚úì</span>
            </div>
            <h1 class="text-6xl font-black uppercase tracking-tighter mb-4">The Bucket List</h1>
            <p class="text-xl font-bold opacity-70">500 incredible things to do before you die.<br><strong>How many will you complete?</strong></p>
        </div>
    </header>

    <div class="sticky-header money-gradient p-6">
        <div class="max-w-6xl mx-auto flex justify-between items-center">
           <div id="progress" class="text-4xl md:text-6xl font-black text-white drop-shadow-[2px_2px_0px_rgba(0,0,0,1)] tracking-tighter">0 / 500</div>
            <div class="hidden md:block text-right">
                <div id="percentage" class="bg-black text-white px-3 py-1 font-bold rounded"><span id="percent">0</span>% Complete</div>
            </div>
        </div>
    </div>

    <main class="max-w-7xl mx-auto p-6">
        <!-- CATEGORY FILTERS -->
        <div class="flex flex-wrap gap-3 mb-6">
            <button onclick="filterCategory('all')" id="btn-all" class="neubrutal bg-black text-white px-6 py-3 font-black uppercase text-sm">All (500)</button>
            <button onclick="filterCategory('travel')" id="btn-travel" class="neubrutal bg-blue-500 text-white px-6 py-3 font-black uppercase text-sm">üåç Travel</button>
            <button onclick="filterCategory('adventure')" id="btn-adventure" class="neubrutal bg-red-500 text-white px-6 py-3 font-black uppercase text-sm">üèîÔ∏è Adventure</button>
            <button onclick="filterCategory('skills')" id="btn-skills" class="neubrutal bg-purple-500 text-white px-6 py-3 font-black uppercase text-sm">üéØ Skills</button>
            <button onclick="filterCategory('food')" id="btn-food" class="neubrutal bg-orange-500 text-white px-6 py-3 font-black uppercase text-sm">üçï Food</button>
            <button onclick="filterCategory('creative')" id="btn-creative" class="neubrutal bg-pink-500 text-white px-6 py-3 font-black uppercase text-sm">üé® Creative</button>
            <button onclick="filterCategory('social')" id="btn-social" class="neubrutal bg-yellow-500 text-black px-6 py-3 font-black uppercase text-sm">üë• Social</button>
            <button onclick="filterCategory('career')" id="btn-career" class="neubrutal bg-green-500 text-white px-6 py-3 font-black uppercase text-sm">üíº Career</button>
            <button onclick="filterCategory('nature')" id="btn-nature" class="neubrutal bg-teal-500 text-white px-6 py-3 font-black uppercase text-sm">üå≤ Nature</button>
            <button onclick="filterCategory('epic')" id="btn-epic" class="neubrutal bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-3 font-black uppercase text-sm">‚ö° Epic</button>
            <button onclick="filterCategory('nature')" id="btn-nature" class="neubrutal bg-gradient-to-r from-orange-500 to-red-600 text-white px-6 py-3" font-black uppercase text-sm">üî• Trailblazer</button>
        </div>

        <!-- SEARCH BAR -->
        <div class="mb-6">
            <input type="text" id="searchBar" onkeyup="searchItems()" placeholder="Search 500 items..." class="w-full p-4 border-4 border-black font-bold text-lg">
        </div>

        <div id="grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
        </div>
    </main>

    <section class="max-w-2xl mx-auto px-6 mt-12">
        <div class="receipt-container border-4 border-black p-8 shadow-[12px_12px_0px_rgba(0,0,0,1)]">
            <h2 class="text-4xl font-black uppercase text-center mb-8 border-b-4 border-black pb-4">Your Progress</h2>
            <div id="receipt-list" class="space-y-4 mb-8 font-bold text-lg"></div>
            <div id="receipt-total" class="text-3xl font-black text-center pt-6 border-t-4 border-black">Level: Beginner</div>
            <button onclick="resetAll()" class="w-full mt-6 bg-red-600 text-white font-black py-3 rounded-lg text-sm uppercase neubrutal">Reset All</button>
        </div>
    </section>

    <script>
        const items = [
            // TRAVEL (100)
            {id:1,text:"Visit Paris and see the Eiffel Tower",emoji:"üóº",cat:"travel"},{id:2,text:"Walk the Great Wall of China",emoji:"üèØ",cat:"travel"},{id:3,text:"See the Northern Lights in Iceland",emoji:"üåå",cat:"travel"},{id:4,text:"Visit Machu Picchu in Peru",emoji:"üèîÔ∏è",cat:"travel"},{id:5,text:"Explore the pyramids of Egypt",emoji:"üê™",cat:"travel"},
            {id:6,text:"Go on a safari in Africa",emoji:"ü¶Å",cat:"travel"},{id:7,text:"Visit all 7 continents",emoji:"üåç",cat:"travel"},{id:8,text:"See cherry blossoms in Japan",emoji:"üå∏",cat:"travel"},{id:9,text:"Visit the Grand Canyon",emoji:"üèúÔ∏è",cat:"travel"},{id:10,text:"Explore Angkor Wat in Cambodia",emoji:"üõï",cat:"travel"},
            {id:11,text:"Visit New York City",emoji:"üóΩ",cat:"travel"},{id:12,text:"See the Colosseum in Rome",emoji:"üèõÔ∏è",cat:"travel"},{id:13,text:"Visit Santorini, Greece",emoji:"üèñÔ∏è",cat:"travel"},{id:14,text:"Go to Disneyland",emoji:"üè∞",cat:"travel"},{id:15,text:"Visit the Taj Mahal",emoji:"üïå",cat:"travel"},
            {id:16,text:"See Niagara Falls",emoji:"üí¶",cat:"travel"},{id:17,text:"Visit London and see Big Ben",emoji:"üé°",cat:"travel"},{id:18,text:"Explore Dubai",emoji:"üèôÔ∏è",cat:"travel"},{id:19,text:"Visit the Amazon Rainforest",emoji:"üå≥",cat:"travel"},{id:20,text:"See the Sydney Opera House",emoji:"üé≠",cat:"travel"},
            {id:21,text:"Visit Hawaii",emoji:"üå∫",cat:"travel"},{id:22,text:"Explore Iceland's Blue Lagoon",emoji:"‚ô®Ô∏è",cat:"travel"},{id:23,text:"Visit Bali, Indonesia",emoji:"üèùÔ∏è",cat:"travel"},{id:24,text:"See the Mona Lisa in person",emoji:"üñºÔ∏è",cat:"travel"},{id:25,text:"Visit Amsterdam",emoji:"üö≤",cat:"travel"},
            {id:26,text:"Explore the Scottish Highlands",emoji:"üè¥",cat:"travel"},{id:27,text:"Visit Barcelona and see Sagrada Familia",emoji:"‚õ™",cat:"travel"},{id:28,text:"Go to the Maldives",emoji:"üèñÔ∏è",cat:"travel"},{id:29,text:"Visit Venice and ride a gondola",emoji:"üö£",cat:"travel"},{id:30,text:"See Petra in Jordan",emoji:"üèúÔ∏è",cat:"travel"},
            {id:31,text:"Visit Yellowstone National Park",emoji:"ü¶¨",cat:"travel"},{id:32,text:"Explore Bora Bora",emoji:"üèùÔ∏è",cat:"travel"},{id:33,text:"Visit Prague",emoji:"üè∞",cat:"travel"},{id:34,text:"See Mount Fuji in Japan",emoji:"üóª",cat:"travel"},{id:35,text:"Visit New Orleans for Mardi Gras",emoji:"üé≠",cat:"travel"},
            {id:36,text:"Explore Patagonia",emoji:"‚õ∞Ô∏è",cat:"travel"},{id:37,text:"Visit the Dead Sea",emoji:"üåä",cat:"travel"},{id:38,text:"See the Giant's Causeway in Ireland",emoji:"üçÄ",cat:"travel"},{id:39,text:"Visit Bangkok, Thailand",emoji:"üõï",cat:"travel"},{id:40,text:"Explore the Swiss Alps",emoji:"üèîÔ∏è",cat:"travel"},
            {id:41,text:"Visit the Galapagos Islands",emoji:"üê¢",cat:"travel"},{id:42,text:"See Stonehenge",emoji:"ü™®",cat:"travel"},{id:43,text:"Visit Vietnam",emoji:"üçú",cat:"travel"},{id:44,text:"Explore the Amalfi Coast",emoji:"üçã",cat:"travel"},{id:45,text:"Visit Marrakech, Morocco",emoji:"üê™",cat:"travel"},
            {id:46,text:"See the Cliffs of Moher",emoji:"üåä",cat:"travel"},{id:47,text:"Visit Cuba",emoji:"üé∫",cat:"travel"},{id:48,text:"Explore Jordan",emoji:"üèúÔ∏è",cat:"travel"},{id:49,text:"Visit Seattle and see the Space Needle",emoji:"üóº",cat:"travel"},{id:50,text:"See the Twelve Apostles in Australia",emoji:"üèñÔ∏è",cat:"travel"},
            {id:51,text:"Visit all 50 US states",emoji:"üá∫üá∏",cat:"travel"},{id:52,text:"Explore Yosemite National Park",emoji:"üèûÔ∏è",cat:"travel"},{id:53,text:"Visit Madagascar",emoji:"üêí",cat:"travel"},{id:54,text:"See the tulip fields in Netherlands",emoji:"üå∑",cat:"travel"},{id:55,text:"Visit San Francisco",emoji:"üåâ",cat:"travel"},
            {id:56,text:"Explore the Seychelles",emoji:"üèùÔ∏è",cat:"travel"},{id:57,text:"Visit Croatia",emoji:"‚õ±Ô∏è",cat:"travel"},{id:58,text:"See Mount Rushmore",emoji:"üóø",cat:"travel"},{id:59,text:"Visit Mumbai, India",emoji:"üïå",cat:"travel"},{id:60,text:"Explore Fiji",emoji:"üå∫",cat:"travel"},
            {id:61,text:"Visit South Korea",emoji:"üèØ",cat:"travel"},{id:62,text:"See the Northern Territory in Australia",emoji:"ü¶ò",cat:"travel"},{id:63,text:"Visit Copenhagen",emoji:"üö¥",cat:"travel"},{id:64,text:"Explore Malta",emoji:"‚õ™",cat:"travel"},{id:65,text:"Visit Singapore",emoji:"üèôÔ∏è",cat:"travel"},
            {id:66,text:"See the Moai statues on Easter Island",emoji:"üóø",cat:"travel"},{id:67,text:"Visit Argentina",emoji:"ü•©",cat:"travel"},{id:68,text:"Explore Sri Lanka",emoji:"üêò",cat:"travel"},{id:69,text:"Visit the Philippines",emoji:"üèùÔ∏è",cat:"travel"},{id:70,text:"See the Sahara Desert",emoji:"üê™",cat:"travel"},
            {id:71,text:"Visit Chile",emoji:"üå∂Ô∏è",cat:"travel"},{id:72,text:"Explore Malaysia",emoji:"üå¥",cat:"travel"},{id:73,text:"Visit Finland",emoji:"ü¶å",cat:"travel"},{id:74,text:"See the White Cliffs of Dover",emoji:"üè¥",cat:"travel"},{id:75,text:"Visit Tanzania",emoji:"ü¶í",cat:"travel"},
            {id:76,text:"Explore the Black Forest in Germany",emoji:"üå≤",cat:"travel"},{id:77,text:"Visit Las Vegas",emoji:"üé∞",cat:"travel"},{id:78,text:"See the Sistine Chapel",emoji:"üé®",cat:"travel"},{id:79,text:"Visit Poland",emoji:"üè∞",cat:"travel"},{id:80,text:"Explore Nepal",emoji:"‚õ∞Ô∏è",cat:"travel"},
            {id:81,text:"Visit Lisbon, Portugal",emoji:"üöã",cat:"travel"},{id:82,text:"See the tulip festival in Ottawa",emoji:"üå∑",cat:"travel"},{id:83,text:"Visit the Canadian Rockies",emoji:"üèîÔ∏è",cat:"travel"},{id:84,text:"Explore the Faroe Islands",emoji:"üêë",cat:"travel"},{id:85,text:"Visit Budapest",emoji:"üè∞",cat:"travel"},
            {id:86,text:"See the lavender fields in Provence",emoji:"üíú",cat:"travel"},{id:87,text:"Visit Albania",emoji:"üèñÔ∏è",cat:"travel"},{id:88,text:"Explore Bhutan",emoji:"‚õ©Ô∏è",cat:"travel"},{id:89,text:"Visit Uruguay",emoji:"üèñÔ∏è",cat:"travel"},{id:90,text:"See Victoria Falls",emoji:"üí¶",cat:"travel"},
            {id:91,text:"Visit the Arctic Circle",emoji:"‚ùÑÔ∏è",cat:"travel"},{id:92,text:"Explore Greenland",emoji:"üßä",cat:"travel"},{id:93,text:"Visit Myanmar",emoji:"üõï",cat:"travel"},{id:94,text:"See Plitvice Lakes in Croatia",emoji:"üíß",cat:"travel"},{id:95,text:"Visit Rwanda",emoji:"ü¶ç",cat:"travel"},
            {id:96,text:"Explore the Isle of Skye",emoji:"üè¥",cat:"travel"},{id:97,text:"Visit the Azores",emoji:"üåã",cat:"travel"},{id:98,text:"See the Lofoten Islands",emoji:"‚õµ",cat:"travel"},{id:99,text:"Visit Bolivia",emoji:"ü¶ô",cat:"travel"},{id:100,text:"Explore Antarctica",emoji:"üêß",cat:"travel"},

            // ADVENTURE (80)
            {id:101,text:"Skydive from 15,000 feet",emoji:"ü™Ç",cat:"adventure"},{id:102,text:"Bungee jump",emoji:"ü§∏",cat:"adventure"},{id:103,text:"Go scuba diving",emoji:"ü§ø",cat:"adventure"},{id:104,text:"Climb a mountain over 14,000 feet",emoji:"‚õ∞Ô∏è",cat:"adventure"},{id:105,text:"Go paragliding",emoji:"ü™Ç",cat:"adventure"},
            {id:106,text:"Swim with sharks",emoji:"ü¶à",cat:"adventure"},{id:107,text:"Go white water rafting",emoji:"üö£",cat:"adventure"},{id:108,text:"Ride a hot air balloon",emoji:"üéà",cat:"adventure"},{id:109,text:"Go zip-lining",emoji:"üå≤",cat:"adventure"},{id:110,text:"Cage dive with great white sharks",emoji:"ü¶à",cat:"adventure"},
            {id:111,text:"Go rock climbing outdoors",emoji:"üßó",cat:"adventure"},{id:112,text:"Complete a triathlon",emoji:"üèä",cat:"adventure"},{id:113,text:"Go surfing",emoji:"üèÑ",cat:"adventure"},{id:114,text:"Run a marathon",emoji:"üèÉ",cat:"adventure"},{id:115,text:"Go snowboarding",emoji:"üèÇ",cat:"adventure"},
            {id:116,text:"Ride a motorcycle",emoji:"üèçÔ∏è",cat:"adventure"},{id:117,text:"Go camping in the wilderness",emoji:"üèïÔ∏è",cat:"adventure"},{id:118,text:"Hike the Inca Trail",emoji:"ü•æ",cat:"adventure"},{id:119,text:"Go heli-skiing",emoji:"‚õ∑Ô∏è",cat:"adventure"},{id:120,text:"Try cave diving",emoji:"üï≥Ô∏è",cat:"adventure"},
            {id:121,text:"Go sandboarding in the desert",emoji:"üèúÔ∏è",cat:"adventure"},{id:122,text:"Complete an obstacle course race",emoji:"üèÅ",cat:"adventure"},{id:123,text:"Go kayaking in the ocean",emoji:"üõ∂",cat:"adventure"},{id:124,text:"Try wingsuit flying",emoji:"ü¶Ö",cat:"adventure"},{id:125,text:"Go glacier hiking",emoji:"üßä",cat:"adventure"},
            {id:126,text:"Swim in a bioluminescent bay",emoji:"‚ú®",cat:"adventure"},{id:127,text:"Go horseback riding on a beach",emoji:"üê¥",cat:"adventure"},{id:128,text:"Try kitesurfing",emoji:"ü™Å",cat:"adventure"},{id:129,text:"Go volcano boarding",emoji:"üåã",cat:"adventure"},{id:130,text:"Complete a solo backpacking trip",emoji:"üéí",cat:"adventure"},
            {id:131,text:"Go canyoneering",emoji:"üèîÔ∏è",cat:"adventure"},{id:132,text:"Try freediving",emoji:"üåä",cat:"adventure"},{id:133,text:"Go storm chasing",emoji:"‚õàÔ∏è",cat:"adventure"},{id:134,text:"Ride a camel in the desert",emoji:"üê´",cat:"adventure"},{id:135,text:"Go ice climbing",emoji:"üßä",cat:"adventure"},
            {id:136,text:"Try coasteering",emoji:"üåä",cat:"adventure"},{id:137,text:"Go spelunking in a cave",emoji:"ü¶á",cat:"adventure"},{id:138,text:"Complete a multi-day hiking trek",emoji:"ü•æ",cat:"adventure"},{id:139,text:"Go BASE jumping",emoji:"ü™Ç",cat:"adventure"},{id:140,text:"Try standup paddleboarding",emoji:"üèÑ",cat:"adventure"},
            {id:141,text:"Go rappelling down a waterfall",emoji:"üí¶",cat:"adventure"},{id:142,text:"Swim with dolphins",emoji:"üê¨",cat:"adventure"},{id:143,text:"Go sandboarding",emoji:"üèúÔ∏è",cat:"adventure"},{id:144,text:"Try hang gliding",emoji:"ü¶Ö",cat:"adventure"},{id:145,text:"Go cliff diving",emoji:"üåä",cat:"adventure"},
            {id:146,text:"Complete an ultra-marathon",emoji:"üèÉ",cat:"adventure"},{id:147,text:"Go whale watching",emoji:"üêã",cat:"adventure"},{id:148,text:"Try bobsledding",emoji:"üõ∑",cat:"adventure"},{id:149,text:"Go dog sledding",emoji:"üêï",cat:"adventure"},{id:150,text:"Swim in all 5 oceans",emoji:"üåä",cat:"adventure"},
            {id:151,text:"Go wreck diving",emoji:"üö¢",cat:"adventure"},{id:152,text:"Try mountain biking on a pro trail",emoji:"üöµ",cat:"adventure"},{id:153,text:"Go tornado chasing",emoji:"üå™Ô∏è",cat:"adventure"},{id:154,text:"Complete a survival course",emoji:"üèïÔ∏è",cat:"adventure"},{id:155,text:"Go via ferrata climbing",emoji:"‚õ∞Ô∏è",cat:"adventure"},
            {id:156,text:"Try luge racing",emoji:"üõ∑",cat:"adventure"},{id:157,text:"Go shark fishing",emoji:"üé£",cat:"adventure"},{id:158,text:"Complete a polar plunge",emoji:"ü•∂",cat:"adventure"},{id:159,text:"Go reef snorkeling",emoji:"üê†",cat:"adventure"},{id:160,text:"Try jet skiing",emoji:"üö§",cat:"adventure"},
            {id:161,text:"Go deep sea fishing",emoji:"üé£",cat:"adventure"},{id:162,text:"Complete a mountain biking race",emoji:"üöµ",cat:"adventure"},{id:163,text:"Go night diving",emoji:"üåô",cat:"adventure"},{id:164,text:"Try wakeboarding",emoji:"üèÑ",cat:"adventure"},{id:165,text:"Go sledding down a massive hill",emoji:"üõ∑",cat:"adventure"},
            {id:166,text:"Complete a survival challenge",emoji:"üî•",cat:"adventure"},{id:167,text:"Go caving with headlamps",emoji:"üí°",cat:"adventure"},{id:168,text:"Try forest bathing",emoji:"üå≤",cat:"adventure"},{id:169,text:"Go sailing for multiple days",emoji:"‚õµ",cat:"adventure"},{id:170,text:"Complete a century bike ride (100 miles)",emoji:"üö¥",cat:"adventure"},
            {id:171,text:"Go freediving to 50 feet",emoji:"ü§ø",cat:"adventure"},{id:172,text:"Try speed flying",emoji:"ü™Ç",cat:"adventure"},{id:173,text:"Go on a wildlife expedition",emoji:"ü¶Å",cat:"adventure"},{id:174,text:"Complete a Tough Mudder",emoji:"üèãÔ∏è",cat:"adventure"},{id:175,text:"Go on a multi-day kayaking trip",emoji:"üõ∂",cat:"adventure"},
            {id:176,text:"Try ice fishing",emoji:"üé£",cat:"adventure"},{id:177,text:"Go on a road trip across a country",emoji:"üöó",cat:"adventure"},{id:178,text:"Complete a 24-hour challenge",emoji:"‚è∞",cat:"adventure"},{id:179,text:"Go swimming in a cenote",emoji:"üíß",cat:"adventure"},{id:180,text:"Try trail running",emoji:"üèÉ",cat:"adventure"},

            // SKILLS (70)
            {id:181,text:"Learn to speak a foreign language fluently",emoji:"üó£Ô∏è",cat:"skills"},{id:182,text:"Learn to play an instrument",emoji:"üé∏",cat:"skills"},{id:183,text:"Learn to code",emoji:"üíª",cat:"skills"},{id:184,text:"Get a black belt in martial arts",emoji:"ü•ã",cat:"skills"},{id:185,text:"Learn to juggle",emoji:"ü§π",cat:"skills"},
            {id:186,text:"Master photography",emoji:"üì∑",cat:"skills"},{id:187,text:"Learn to solve a Rubik's cube",emoji:"üß©",cat:"skills"},{id:188,text:"Take a cooking class",emoji:"üë®‚Äçüç≥",cat:"skills"},{id:189,text:"Learn calligraphy",emoji:"‚úíÔ∏è",cat:"skills"},{id:190,text:"Master a card trick",emoji:"üé¥",cat:"skills"},
            {id:191,text:"Learn sign language",emoji:"ü§ü",cat:"skills"},{id:192,text:"Get a pilot's license",emoji:"‚úàÔ∏è",cat:"skills"},{id:193,text:"Learn ballroom dancing",emoji:"üíÉ",cat:"skills"},{id:194,text:"Master public speaking",emoji:"üé§",cat:"skills"},{id:195,text:"Learn to knit or crochet",emoji:"üß∂",cat:"skills"},
            {id:196,text:"Get scuba certified",emoji:"ü§ø",cat:"skills"},{id:197,text:"Learn meditation",emoji:"üßò",cat:"skills"},{id:198,text:"Master chess",emoji:"‚ôüÔ∏è",cat:"skills"},{id:199,text:"Learn carpentry",emoji:"ü™µ",cat:"skills"},{id:200,text:"Get a motorcycle license",emoji:"üèçÔ∏è",cat:"skills"},
            {id:201,text:"Learn to salsa dance",emoji:"üíÉ",cat:"skills"},{id:202,text:"Master Excel/spreadsheets",emoji:"üìä",cat:"skills"},{id:203,text:"Learn archery",emoji:"üèπ",cat:"skills"},{id:204,text:"Get a sommelier certification",emoji:"üç∑",cat:"skills"},{id:205,text:"Learn to sail",emoji:"‚õµ",cat:"skills"},
            {id:206,text:"Master origami",emoji:"üìÑ",cat:"skills"},{id:207,text:"Learn graphic design",emoji:"üé®",cat:"skills"},{id:208,text:"Get a bartending license",emoji:"üç∏",cat:"skills"},{id:209,text:"Learn speed reading",emoji:"üìñ",cat:"skills"},{id:210,text:"Master poker",emoji:"üÉè",cat:"skills"},
            {id:211,text:"Learn video editing",emoji:"üé¨",cat:"skills"},{id:212,text:"Get first aid certified",emoji:"üöë",cat:"skills"},{id:213,text:"Learn to sew",emoji:"ü™°",cat:"skills"},{id:214,text:"Master Python programming",emoji:"üêç",cat:"skills"},{id:215,text:"Learn magic tricks",emoji:"üé©",cat:"skills"},
            {id:216,text:"Get a personal trainer certification",emoji:"üí™",cat:"skills"},{id:217,text:"Learn to beatbox",emoji:"üéµ",cat:"skills"},{id:218,text:"Master negotiation skills",emoji:"ü§ù",cat:"skills"},{id:219,text:"Learn pottery",emoji:"üè∫",cat:"skills"},{id:220,text:"Get a yoga instructor certification",emoji:"üßò",cat:"skills"},
            {id:221,text:"Learn lockpicking (legally)",emoji:"üîê",cat:"skills"},{id:222,text:"Master time management",emoji:"‚è∞",cat:"skills"},{id:223,text:"Learn pole dancing",emoji:"üíÉ",cat:"skills"},{id:224,text:"Get a real estate license",emoji:"üè†",cat:"skills"},{id:225,text:"Learn to DJ",emoji:"üéß",cat:"skills"},
            {id:226,text:"Master wine tasting",emoji:"üç∑",cat:"skills"},{id:227,text:"Learn parkour",emoji:"ü§∏",cat:"skills"},{id:228,text:"Get a teaching certificate",emoji:"üë©‚Äçüè´",cat:"skills"},{id:229,text:"Learn to whistle with fingers",emoji:"ü§è",cat:"skills"},{id:230,text:"Master skateboarding",emoji:"üõπ",cat:"skills"},
            {id:231,text:"Learn beekeeping",emoji:"üêù",cat:"skills"},{id:232,text:"Get a diving instructor certification",emoji:"ü§ø",cat:"skills"},{id:233,text:"Learn to rap or freestyle",emoji:"üé§",cat:"skills"},{id:234,text:"Master PowerPoint presentations",emoji:"üìä",cat:"skills"},{id:235,text:"Learn to drift a car",emoji:"üèéÔ∏è",cat:"skills"},
            {id:236,text:"Get a forklift certification",emoji:"üöú",cat:"skills"},{id:237,text:"Learn to moonwalk",emoji:"üï∫",cat:"skills"},{id:238,text:"Master blind typing",emoji:"‚å®Ô∏è",cat:"skills"},{id:239,text:"Learn to throw pottery on a wheel",emoji:"üè∫",cat:"skills"},{id:240,text:"Get a life coaching certification",emoji:"üíº",cat:"skills"},
            {id:241,text:"Learn to breakdance",emoji:"üï∫",cat:"skills"},{id:242,text:"Master a software like Photoshop",emoji:"üñºÔ∏è",cat:"skills"},{id:243,text:"Learn to weld",emoji:"üîß",cat:"skills"},{id:244,text:"Get a CPR certification",emoji:"‚ù§Ô∏è",cat:"skills"},{id:245,text:"Learn sleight of hand",emoji:"üÉè",cat:"skills"},
            {id:246,text:"Master a combat sport",emoji:"ü•ä",cat:"skills"},{id:247,text:"Learn to yo-yo",emoji:"ü™Ä",cat:"skills"},{id:248,text:"Get a nutritionist certification",emoji:"ü•ó",cat:"skills"},{id:249,text:"Learn to ride a unicycle",emoji:"üö¥",cat:"skills"},{id:250,text:"Master memory techniques",emoji:"üß†",cat:"skills"},

            // FOOD (60)
            {id:251,text:"Try authentic sushi in Japan",emoji:"üç£",cat:"food"},{id:252,text:"Eat pasta in Italy",emoji:"üçù",cat:"food"},{id:253,text:"Try street food in Thailand",emoji:"üçú",cat:"food"},{id:254,text:"Eat croissants in Paris",emoji:"ü•ê",cat:"food"},{id:255,text:"Try authentic tacos in Mexico",emoji:"üåÆ",cat:"food"},
            {id:256,text:"Eat dim sum in Hong Kong",emoji:"ü•ü",cat:"food"},{id:257,text:"Try paella in Spain",emoji:"ü•ò",cat:"food"},{id:258,text:"Eat fish and chips in London",emoji:"üçü",cat:"food"},{id:259,text:"Try pho in Vietnam",emoji:"üç≤",cat:"food"},{id:260,text:"Eat BBQ in Texas",emoji:"üçñ",cat:"food"},
            {id:261,text:"Try lobster in Maine",emoji:"ü¶û",cat:"food"},{id:262,text:"Eat pizza in Naples",emoji:"üçï",cat:"food"},{id:263,text:"Try pad thai in Thailand",emoji:"üçú",cat:"food"},{id:264,text:"Eat kimchi in Korea",emoji:"ü•¨",cat:"food"},{id:265,text:"Try baklava in Turkey",emoji:"ü•Æ",cat:"food"},
            {id:266,text:"Eat haggis in Scotland",emoji:"üè¥",cat:"food"},{id:267,text:"Try falafel in Israel",emoji:"üßÜ",cat:"food"},{id:268,text:"Eat goulash in Hungary",emoji:"üç≤",cat:"food"},{id:269,text:"Try schnitzel in Austria",emoji:"üçñ",cat:"food"},{id:270,text:"Eat maple syrup in Canada",emoji:"üçÅ",cat:"food"},
            {id:281,text:"Try ceviche in Peru",emoji:"üêü",cat:"food"},{id:282,text:"Eat moussaka in Greece",emoji:"üçÜ",cat:"food"},{id:283,text:"Try satay in Malaysia",emoji:"üç¢",cat:"food"},{id:284,text:"Eat fondue in Switzerland",emoji:"üßÄ",cat:"food"},{id:285,text:"Try mole in Mexico",emoji:"üå∂Ô∏è",cat:"food"},
            {id:286,text:"Eat gelato in Italy",emoji:"üç¶",cat:"food"},{id:287,text:"Try ramen in Japan",emoji:"üçú",cat:"food"},{id:288,text:"Eat crepes in France",emoji:"ü•û",cat:"food"},{id:289,text:"Try curry in India",emoji:"üçõ",cat:"food"},{id:290,text:"Eat borscht in Russia",emoji:"ü•£",cat:"food"},
            {id:291,text:"Try injera in Ethiopia",emoji:"üçû",cat:"food"},{id:292,text:"Eat empanadas in Argentina",emoji:"ü•ü",cat:"food"},{id:293,text:"Try poutine in Canada",emoji:"üçü",cat:"food"},{id:294,text:"Eat tapas in Spain",emoji:"üç§",cat:"food"},{id:295,text:"Try nasi goreng in Indonesia",emoji:"üçö",cat:"food"},
            {id:296,text:"Eat waffles in Belgium",emoji:"üßá",cat:"food"},{id:297,text:"Try bibimbap in Korea",emoji:"üç±",cat:"food"},{id:298,text:"Eat pierogi in Poland",emoji:"ü•ü",cat:"food"},{id:299,text:"Try tagine in Morocco",emoji:"üç≤",cat:"food"},{id:300,text:"Eat pavlova in Australia",emoji:"üç∞",cat:"food"},
            {id:301,text:"Try arepas in Venezuela",emoji:"ü´ì",cat:"food"},{id:302,text:"Eat churros in Spain",emoji:"üç©",cat:"food"},{id:303,text:"Try bunny chow in South Africa",emoji:"üçõ",cat:"food"},{id:304,text:"Eat stroopwafel in Netherlands",emoji:"üç™",cat:"food"},{id:305,text:"Try biryani in India",emoji:"üçö",cat:"food"},
            {id:306,text:"Eat churrasco in Brazil",emoji:"ü•©",cat:"food"},{id:307,text:"Try souvlaki in Greece",emoji:"üç¢",cat:"food"},{id:308,text:"Eat peking duck in China",emoji:"ü¶Ü",cat:"food"},{id:309,text:"Try oysters in France",emoji:"ü¶™",cat:"food"},{id:310,text:"Eat a full English breakfast",emoji:"üç≥",cat:"food"},
            {id:311,text:"Try black pudding",emoji:"ü©∏",cat:"food"},{id:312,text:"Eat escargot",emoji:"üêå",cat:"food"},{id:313,text:"Try fugu (pufferfish)",emoji:"üê°",cat:"food"},{id:314,text:"Eat hakarl (fermented shark)",emoji:"ü¶à",cat:"food"},{id:315,text:"Try balut",emoji:"ü•ö",cat:"food"},
            {id:316,text:"Eat insects",emoji:"ü¶ó",cat:"food"},{id:317,text:"Try durian fruit",emoji:"üçà",cat:"food"},{id:318,text:"Eat a Michelin star meal",emoji:"‚≠ê",cat:"food"},{id:319,text:"Try molecular gastronomy",emoji:"üß™",cat:"food"},{id:320,text:"Eat at a famous restaurant",emoji:"üçΩÔ∏è",cat:"food"},

            // CREATIVE (30)
            {id:321,text:"Write a novel",emoji:"üìñ",cat:"creative"},{id:322,text:"Paint a masterpiece",emoji:"üé®",cat:"creative"},{id:323,text:"Write and record a song",emoji:"üéµ",cat:"creative"},{id:324,text:"Make a short film",emoji:"üé¨",cat:"creative"},{id:325,text:"Publish a book",emoji:"üìö",cat:"creative"},
            {id:326,text:"Start a YouTube channel",emoji:"üìπ",cat:"creative"},{id:327,text:"Create a podcast",emoji:"üéôÔ∏è",cat:"creative"},{id:328,text:"Write poetry",emoji:"‚úçÔ∏è",cat:"creative"},{id:329,text:"Sculpt something from clay",emoji:"üóø",cat:"creative"},{id:330,text:"Build a piece of furniture",emoji:"ü™ë",cat:"creative"},
            {id:331,text:"Design your own clothing line",emoji:"üëó",cat:"creative"},{id:332,text:"Create an app",emoji:"üì±",cat:"creative"},{id:333,text:"Compose a symphony",emoji:"üéº",cat:"creative"},{id:334,text:"Perform stand-up comedy",emoji:"üé§",cat:"creative"},{id:335,text:"Direct a play",emoji:"üé≠",cat:"creative"},
            {id:336,text:"Create a graphic novel",emoji:"üìî",cat:"creative"},{id:337,text:"Design a video game",emoji:"üéÆ",cat:"creative"},{id:338,text:"Photograph a wedding",emoji:"üì∑",cat:"creative"},{id:339,text:"Write a screenplay",emoji:"üìù",cat:"creative"},{id:340,text:"Make a documentary",emoji:"üé•",cat:"creative"},
            {id:341,text:"Produce an album",emoji:"üíø",cat:"creative"},{id:342,text:"Design a house",emoji:"üè†",cat:"creative"},{id:343,text:"Create a comic strip",emoji:"üì∞",cat:"creative"},{id:344,text:"Choreograph a dance",emoji:"üíÉ",cat:"creative"},{id:345,text:"Make a music video",emoji:"üé¨",cat:"creative"},
            {id:346,text:"Start a blog",emoji:"üíª",cat:"creative"},{id:347,text:"Create an art installation",emoji:"üñºÔ∏è",cat:"creative"},{id:348,text:"Write a children's book",emoji:"üìï",cat:"creative"},{id:349,text:"Compose a rap album",emoji:"üé§",cat:"creative"},{id:350,text:"Build a treehouse",emoji:"üå≥",cat:"creative"},

            // SOCIAL (30)
            {id:351,text:"Make a best friend",emoji:"üëØ",cat:"social"},{id:352,text:"Attend a music festival",emoji:"üé™",cat:"social"},{id:353,text:"Go to a concert",emoji:"üéµ",cat:"social"},{id:354,text:"Host a dinner party",emoji:"üçΩÔ∏è",cat:"social"},{id:355,text:"Attend a wedding abroad",emoji:"üíí",cat:"social"},
            {id:356,text:"Throw a surprise party",emoji:"üéâ",cat:"social"},{id:357,text:"Reconnect with an old friend",emoji:"ü§ù",cat:"social"},{id:358,text:"Go on a group vacation",emoji:"‚úàÔ∏è",cat:"social"},{id:359,text:"Volunteer for a cause",emoji:"‚ù§Ô∏è",cat:"social"},{id:360,text:"Join a club or organization",emoji:"üë•",cat:"social"},
            {id:361,text:"Attend a TED Talk",emoji:"üé§",cat:"social"},{id:362,text:"Go to a sports game",emoji:"üèà",cat:"social"},{id:363,text:"Attend a film premiere",emoji:"üé¨",cat:"social"},{id:364,text:"Go to a masquerade ball",emoji:"üé≠",cat:"social"},{id:365,text:"Attend Fashion Week",emoji:"üëó",cat:"social"},
            {id:366,text:"Go speed dating",emoji:"üíï",cat:"social"},{id:367,text:"Attend a comic convention",emoji:"ü¶∏",cat:"social"},{id:368,text:"Go to a murder mystery dinner",emoji:"üî™",cat:"social"},{id:369,text:"Attend a renaissance fair",emoji:"‚öîÔ∏è",cat:"social"},{id:370,text:"Go to a silent disco",emoji:"üéß",cat:"social"},
            {id:371,text:"Attend an award show",emoji:"üèÜ",cat:"social"},{id:372,text:"Go to a karaoke bar",emoji:"üé§",cat:"social"},{id:373,text:"Attend a street food festival",emoji:"üçú",cat:"social"},{id:374,text:"Go to an escape room",emoji:"üîê",cat:"social"},{id:375,text:"Attend a wine tasting",emoji:"üç∑",cat:"social"},
            {id:376,text:"Go to a paint and sip night",emoji:"üé®",cat:"social"},{id:377,text:"Attend a comedy show",emoji:"üòÇ",cat:"social"},{id:378,text:"Go to a rooftop party",emoji:"üèôÔ∏è",cat:"social"},{id:379,text:"Attend a book signing",emoji:"üìö",cat:"social"},{id:380,text:"Go to New Year's Eve in Times Square",emoji:"üéÜ",cat:"social"},

            // CAREER (30)
            {id:381,text:"Get promoted",emoji:"üìà",cat:"career"},{id:382,text:"Start your own business",emoji:"üíº",cat:"career"},{id:383,text:"Give a TED Talk",emoji:"üé§",cat:"career"},{id:384,text:"Become a millionaire",emoji:"üí∞",cat:"career"},{id:385,text:"Get published in a major publication",emoji:"üì∞",cat:"career"},
            {id:386,text:"Win an industry award",emoji:"üèÜ",cat:"career"},{id:387,text:"Speak at a conference",emoji:"üéôÔ∏è",cat:"career"},{id:388,text:"Build a million-dollar company",emoji:"üí∞",cat:"career"},{id:389,text:"Get headhunted for a dream job",emoji:"üìû",cat:"career"},{id:390,text:"Patent an invention",emoji:"üí°",cat:"career"},
            {id:391,text:"Write a business plan",emoji:"üìã",cat:"career"},{id:392,text:"Hire your first employee",emoji:"üëî",cat:"career"},{id:393,text:"Secure venture capital funding",emoji:"üíµ",cat:"career"},{id:394,text:"Retire early",emoji:"üèùÔ∏è",cat:"career"},{id:395,text:"Build a personal brand",emoji:"üì±",cat:"career"},
            {id:396,text:"Negotiate a huge raise",emoji:"üí∏",cat:"career"},{id:397,text:"Work remotely from anywhere",emoji:"üå¥",cat:"career"},{id:398,text:"Launch a product",emoji:"üöÄ",cat:"career"},{id:399,text:"Get featured in Forbes",emoji:"üì∞",cat:"career"},{id:400,text:"Build a six-figure income",emoji:"üí∞",cat:"career"},
            {id:401,text:"Become a thought leader",emoji:"üß†",cat:"career"},{id:402,text:"Write a business book",emoji:"üìñ",cat:"career"},{id:403,text:"Exit a startup successfully",emoji:"üéØ",cat:"career"},{id:404,text:"Get an executive position",emoji:"üëî",cat:"career"},{id:405,text:"Become a consultant",emoji:"üíº",cat:"career"},
            {id:406,text:"Build passive income streams",emoji:"üíµ",cat:"career"},{id:407,text:"Become financially independent",emoji:"üè¶",cat:"career"},{id:408,text:"Get an MBA",emoji:"üéì",cat:"career"},{id:409,text:"Build a network of 1000+ contacts",emoji:"ü§ù",cat:"career"},{id:410,text:"Lead a team of 50+ people",emoji:"üë•",cat:"career"},

            // NATURE (30)
            {id:411,text:"See a total solar eclipse",emoji:"üåë",cat:"nature"},{id:412,text:"Witness a meteor shower",emoji:"‚òÑÔ∏è",cat:"nature"},{id:413,text:"Plant a tree",emoji:"üå≥",cat:"nature"},{id:414,text:"See wild bears",emoji:"üêª",cat:"nature"},{id:415,text:"Watch sea turtles hatch",emoji:"üê¢",cat:"nature"},
            {id:416,text:"See the Milky Way clearly",emoji:"üåå",cat:"nature"},{id:417,text:"Visit a rainforest",emoji:"üå¥",cat:"nature"},{id:418,text:"See bioluminescent plankton",emoji:"‚ú®",cat:"nature"},{id:419,text:"Touch a glacier",emoji:"üßä",cat:"nature"},{id:420,text:"See wild elephants",emoji:"üêò",cat:"nature"},
            {id:421,text:"Watch the sunrise from a mountain",emoji:"üèîÔ∏è",cat:"nature"},{id:422,text:"See a double rainbow",emoji:"üåà",cat:"nature"},{id:423,text:"Visit a volcano",emoji:"üåã",cat:"nature"},{id:424,text:"See wild penguins",emoji:"üêß",cat:"nature"},{id:425,text:"Swim in a natural hot spring",emoji:"‚ô®Ô∏è",cat:"nature"},
            {id:426,text:"See the Grand Canyon at sunset",emoji:"üèúÔ∏è",cat:"nature"},{id:427,text:"Visit a coral reef",emoji:"ü™∏",cat:"nature"},{id:428,text:"See wild gorillas",emoji:"ü¶ç",cat:"nature"},{id:429,text:"Watch a lightning storm",emoji:"‚ö°",cat:"nature"},{id:430,text:"See a geyser erupt",emoji:"üí¶",cat:"nature"},
            {id:431,text:"Visit a desert",emoji:"üèúÔ∏è",cat:"nature"},{id:432,text:"See wild lions",emoji:"ü¶Å",cat:"nature"},{id:433,text:"Watch a waterfall",emoji:"üíß",cat:"nature"},{id:434,text:"Visit a cave system",emoji:"ü¶á",cat:"nature"},{id:435,text:"See wild wolves",emoji:"üê∫",cat:"nature"},
            {id:436,text:"Touch the ocean on every continent",emoji:"üåä",cat:"nature"},{id:437,text:"See the seasons change in Vermont",emoji:"üçÇ",cat:"nature"},{id:438,text:"Visit a national park",emoji:"üèûÔ∏è",cat:"nature"},{id:439,text:"See wild pandas",emoji:"üêº",cat:"nature"},{id:440,text:"Stargaze in a dark sky reserve",emoji:"‚≠ê",cat:"nature"},

            // EPIC (50)
            {id:441,text:"Summit Mount Everest",emoji:"üèîÔ∏è",cat:"epic"},{id:442,text:"Go to space",emoji:"üöÄ",cat:"epic"},{id:443,text:"Break a world record",emoji:"üèÜ",cat:"epic"},{id:444,text:"Win a Nobel Prize",emoji:"üèÖ",cat:"epic"},{id:445,text:"Become a millionaire",emoji:"üí∞",cat:"epic"},
            {id:446,text:"Save someone's life",emoji:"‚ù§Ô∏è",cat:"epic"},{id:447,text:"Discover a new species",emoji:"ü¶é",cat:"epic"},{id:448,text:"Write a bestselling book",emoji:"üìö",cat:"epic"},{id:449,text:"Climb all Seven Summits",emoji:"‚õ∞Ô∏è",cat:"epic"},{id:450,text:"Swim across the English Channel",emoji:"üèä",cat:"epic"},
            {id:451,text:"Run across a country",emoji:"üèÉ",cat:"epic"},{id:452,text:"Sail around the world",emoji:"‚õµ",cat:"epic"},{id:453,text:"Bike across a continent",emoji:"üö¥",cat:"epic"},{id:454,text:"Visit every country in the world",emoji:"üåé",cat:"epic"},{id:455,text:"Win an Oscar",emoji:"üé¨",cat:"epic"},
            {id:456,text:"Win a Grammy",emoji:"üéµ",cat:"epic"},{id:457,text:"Become famous",emoji:"‚≠ê",cat:"epic"},{id:458,text:"Meet your hero",emoji:"ü¶∏",cat:"epic"},{id:459,text:"Change someone's life",emoji:"üí´",cat:"epic"},{id:460,text:"Solve an unsolved mystery",emoji:"üîç",cat:"epic"},
            {id:461,text:"Invent something revolutionary",emoji:"üí°",cat:"epic"},{id:462,text:"Donate a million dollars to charity",emoji:"üíù",cat:"epic"},{id:463,text:"Become fluent in 5 languages",emoji:"üó£Ô∏è",cat:"epic"},{id:464,text:"Live in 10 different countries",emoji:"üåç",cat:"epic"},{id:465,text:"Build a school in a developing country",emoji:"üè´",cat:"epic"},
            {id:466,text:"Go to space (commercial flight)",emoji:"üöÄ",cat:"epic"},{id:467,text:"Witness a rocket launch",emoji:"üöÄ",cat:"epic"},{id:468,text:"Dive to the ocean floor in a submarine",emoji:"üêü",cat:"epic"},{id:469,text:"Meet the President",emoji:"ü§µ",cat:"epic"},{id:470,text:"Appear on TV",emoji:"üì∫",cat:"epic"},
            {id:471,text:"Throw the first pitch at a MLB game",emoji:"‚öæ",cat:"epic"},{id:472,text:"Ring the closing bell at NYSE",emoji:"üîî",cat:"epic"},{id:473,text:"Get a standing ovation",emoji:"üëè",cat:"epic"},{id:474,text:"Be in a flash mob",emoji:"üíÉ",cat:"epic"},{id:475,text:"Survive a natural disaster",emoji:"üå™Ô∏è",cat:"epic"},
            {id:476,text:"Become an Olympic athlete",emoji:"ü•á",cat:"epic"},{id:477,text:"Win a major poker tournament",emoji:"üÉè",cat:"epic"},{id:478,text:"Compete in a professional sport",emoji:"üèÄ",cat:"epic"},{id:479,text:"Create a viral video (10M+ views)",emoji:"üìπ",cat:"epic"},{id:480,text:"Have your artwork in a museum",emoji:"üñºÔ∏è",cat:"epic"},
            {id:481,text:"Get your PhD",emoji:"üéì",cat:"epic"},{id:482,text:"Become a judge",emoji:"‚öñÔ∏è",cat:"epic"},{id:483,text:"Get elected to public office",emoji:"üó≥Ô∏è",cat:"epic"},{id:484,text:"Complete an Ironman triathlon",emoji:"üèä",cat:"epic"},{id:485,text:"See all 8 wonders of the world",emoji:"üåç",cat:"epic"},
            {id:486,text:"Write a symphony that gets performed",emoji:"üéº",cat:"epic"},{id:487,text:"Have a species named after you",emoji:"ü¶ã",cat:"epic"},{id:488,text:"Build a legacy that outlives you",emoji:"üèõÔ∏è",cat:"epic"},{id:489,text:"Complete all 500 items on this list",emoji:"‚úÖ",cat:"epic"},{id:490,text:"Create your own bucket list item",emoji:"‚ú®",cat:"epic"},

            // TRAILBLAZER (30)
            {id:491,text:"Launch a startup that reaches unicorn status",emoji:"ü¶Ñ",cat:"trailblazer"},{id:492,text:"Create an open-source project used by millions",emoji:"üíª",cat:"trailblazer"},{id:493,text:"Found a non-profit that changes lives globally",emoji:"üåç",cat:"trailblazer"},{id:494,text:"Pioneer a new sustainable technology",emoji:"‚ôªÔ∏è",cat:"trailblazer"},{id:495,text:"Develop an app that solves a major social problem",emoji:"üì±",cat:"trailblazer"},
            {id:496,text:"Start a viral educational movement",emoji:"üìö",cat:"trailblazer"},{id:497,text:"Build the first community-owned solar farm",emoji:"‚òÄÔ∏è",cat:"trailblazer"},{id:498,text:"Create a new sport or extreme activity",emoji:"üèÜ",cat:"trailblazer"},{id:499,text:"Lead the first civilian expedition to a new frontier",emoji:"üöÄ",cat:"trailblazer"},{id:500,text:"Establish a scholarship fund for underprivileged geniuses",emoji:"üéì",cat:"trailblazer"},
            {id:501,text:"Write the manifesto for a new cultural movement",emoji:"üìú",cat:"trailblazer"},{id:502,text:"Design the first zero-waste city block",emoji:"üèôÔ∏è",cat:"trailblazer"},{id:503,text:"Invent a new musical instrument",emoji:"üé∏",cat:"trailblazer"},{id:504,text:"Create a new genre of art",emoji:"üé®",cat:"trailblazer"},{id:505,text:"Launch a satellite as a private citizen",emoji:"üõ∞Ô∏è",cat:"trailblazer"},
            {id:506,text:"Build an off-grid eco-home community",emoji:"üè°",cat:"trailblazer"},{id:507,text:"Start a global reforestation initiative",emoji:"üå≤",cat:"trailblazer"},{id:508,text:"Develop a breakthrough in renewable energy storage",emoji:"üîã",cat:"trailblazer"},{id:509,text:"Create the first AI ethics framework adopted worldwide",emoji:"ü§ñ",cat:"trailblazer"},{id:510,text:"Found a new political party with real impact",emoji:"üó≥Ô∏è",cat:"trailblazer"},
            {id:511,text:"Lead a successful space tourism company",emoji:"üöÄ",cat:"trailblazer"},{id:512,text:"Discover and name a new astronomical object",emoji:"üî≠",cat:"trailblazer"},{id:513,text:"Build the world's largest community garden",emoji:"üåª",cat:"trailblazer"},{id:514,text:"Create a new form of democratic governance",emoji:"‚öñÔ∏è",cat:"trailblazer"},{id:515,text:"Pioneer deep-ocean exploration technology",emoji:"üåä",cat:"trailblazer"},
            {id:516,text:"Develop a cure for a rare disease",emoji:"üíä",cat:"trailblazer"},{id:517,text:"Establish the first Mars analog research station",emoji:"ü™ê",cat:"trailblazer"},{id:518,text:"Create a universal basic income pilot that works",emoji:"üíµ",cat:"trailblazer"},{id:519,text:"Build a bridge between rival communities",emoji:"üåâ",cat:"trailblazer"},{id:520,text:"Launch the first commercial fusion reactor prototype",emoji:"‚öõÔ∏è",cat:"trailblazer"}
        ];

        let completed = new Set(JSON.parse(localStorage.getItem('bucketCompleted') || '[]'));
        let currentFilter = 'all';

        function toggleItem(id) {
            if (completed.has(id)) {
                completed.delete(id);
            } else {
                completed.add(id);
                if (completed.size % 10 === 0) showLevelUp();
            }
            saveState();
            updateUI();
        }

        function showLevelUp() {
            const level = getLevel();
            const notification = document.createElement('div');
            notification.style.cssText = 'position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: #10b981; border: 4px solid #000; padding: 30px; font-size: 2rem; font-weight: 900; z-index: 9999; box-shadow: 8px 8px 0px #000; color: white;';
            notification.innerText = `üéâ ${completed.size} COMPLETED! üéâ`;
            document.body.appendChild(notification);
            setTimeout(() => notification.remove(), 2000);
        }

        function getLevel() {
            const count = completed.size;
            if (count >= 400) return "Legend";
            if (count >= 300) return "Master";
            if (count >= 200) return "Expert";
            if (count >= 100) return "Adventurer";
            if (count >= 50) return "Explorer";
            return "Beginner";
        }

        function filterCategory(cat) {
            currentFilter = cat;
            document.querySelectorAll('[id^="btn-"]').forEach(btn => {
                btn.classList.remove('bg-black', 'text-white');
                btn.classList.add('bg-white', 'text-black');
            });
            document.getElementById(`btn-${cat}`).classList.remove('bg-white', 'text-black');
            document.getElementById(`btn-${cat}`).classList.add('bg-black', 'text-white');
            renderItems();
        }

        function searchItems() {
            renderItems();
        }

        function renderItems() {
            const search = document.getElementById('searchBar').value.toLowerCase();
            const grid = document.getElementById('grid');
            grid.innerHTML = '';
            
            const categories = {
                travel: {name: "üåç Travel", color: "bg-blue-100"},
                adventure: {name: "üèîÔ∏è Adventure", color: "bg-red-100"},
                skills: {name: "üéØ Skills", color: "bg-purple-100"},
                food: {name: "üçï Food", color: "bg-orange-100"},
                creative: {name: "üé® Creative", color: "bg-pink-100"},
                social: {name: "üë• Social", color: "bg-yellow-100"},
                career: {name: "üíº Career", color: "bg-green-100"},
                nature: {name: "üå≤ Nature", color: "bg-teal-100"},
                epic: {name: "‚ö° Epic", color: "bg-gradient-to-r from-purple-100 to-pink-100"},
                trailblazer: {name: "üî• Trailblazer", color: "bg-gradient-to-r from-red-100 to-orange-100"}
            };

            if (currentFilter === 'all') {
                // Show all categories with section headers
                Object.keys(categories).forEach(cat => {
                    const catItems = items.filter(item => 
                        item.cat === cat && item.text.toLowerCase().includes(search)
                    );
                    
                    if (catItems.length > 0) {
                        // Add section header
                        const header = document.createElement('div');
                        header.className = `col-span-full mt-8 mb-4 ${categories[cat].color} border-4 border-black p-4`;
                        header.innerHTML = `<h2 class="text-3xl font-black uppercase">${categories[cat].name}</h2>`;
                        grid.appendChild(header);
                        
                        // Add items for this category
                        catItems.forEach(item => {
                            const isCompleted = completed.has(item.id);
                            const card = document.createElement('div');
                            card.className = `item-card p-6 ${isCompleted ? 'completed' : ''}`;
                            card.innerHTML = `
                                <div class="flex items-start gap-3">
                                    <input type="checkbox" ${isCompleted ? 'checked' : ''} onchange="toggleItem(${item.id})" class="mt-1 w-5 h-5 cursor-pointer">
                                    <div class="flex-1">
                                        <div class="text-4xl mb-2">${item.emoji}</div>
                                        <div class="text-sm font-black uppercase leading-tight ${isCompleted ? 'line-through opacity-50' : ''}">${item.text}</div>
                                    </div>
                                </div>
                            `;
                            grid.appendChild(card);
                        });
                    }
                });
            } else {
                // Show filtered category only
                const filtered = items.filter(item => 
                    item.cat === currentFilter && item.text.toLowerCase().includes(search)
                );

                filtered.forEach(item => {
                    const isCompleted = completed.has(item.id);
                    const card = document.createElement('div');
                    card.className = `item-card p-6 ${isCompleted ? 'completed' : ''}`;
                    card.innerHTML = `
                        <div class="flex items-start gap-3">
                            <input type="checkbox" ${isCompleted ? 'checked' : ''} onchange="toggleItem(${item.id})" class="mt-1 w-5 h-5 cursor-pointer">
                            <div class="flex-1">
                                <div class="text-4xl mb-2">${item.emoji}</div>
                                <div class="text-sm font-black uppercase leading-tight ${isCompleted ? 'line-through opacity-50' : ''}">${item.text}</div>
                            </div>
                        </div>
                    `;
                    grid.appendChild(card);
                });
            }
        }

        function updateUI() {
            const count = completed.size;
            const percent = Math.round((count / 500) * 100);
            
            document.getElementById('progress').innerText = `${count} / 500`;
            document.getElementById('percent').innerText = percent;
            
            // Update category counts
            const categories = {travel: 100, adventure: 70, skills: 70, food: 60, creative: 30, social: 30, career: 30, nature: 30, epic: 50, trailblazer: 30};
            const catCounts = {};
            Object.keys(categories).forEach(cat => {
                catCounts[cat] = items.filter(item => item.cat === cat && completed.has(item.id)).length;
            });
            
            const list = document.getElementById('receipt-list');
            list.innerHTML = Object.entries(catCounts).map(([cat, count]) => {
                const catNames = {
                    travel: "üåç Travel", adventure: "üèîÔ∏è Adventure", skills: "üéØ Skills",
                    food: "üçï Food", creative: "üé® Creative", social: "üë• Social",
                    career: "üíº Career", nature: "üå≤ Nature", epic: "‚ö° Epic", trailblazer: "üî• Trailblazer"
                };
                return `<div class="flex justify-between border-b-2 border-dotted border-black pb-2">
                    <span>${catNames[cat]}</span>
                    <span class="text-green-600">${count}/${categories[cat]}</span>
                </div>`;
            }).join('');
            
            document.getElementById('receipt-total').innerText = `Level: ${getLevel()}`;
            
            renderItems();
        }

        function saveState() {
            localStorage.setItem('bucketCompleted', JSON.stringify(Array.from(completed)));
        }

        function resetAll() {
            if (confirm('Are you sure you want to reset all progress? This cannot be undone!')) {
                completed.clear();
                saveState();
                updateUI();
            }
        }

        // Initialize
        updateUI();
    </script>
</body>
</html>
    </template>

      <template id="code-trolley">
         <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Advanced Trolley Problems</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;700;800&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Plus Jakarta Sans', sans-serif; 
            background-color: #f0f2f5; 
        }
        .neubrutal { 
            border: 3px solid #000; 
            box-shadow: 4px 4px 0px #000; 
            transition: all 0.1s; 
        }
        .neubrutal:active { 
            transform: translate(2px, 2px); 
            box-shadow: 0px 0px 0px #000; 
        }
        .item-card { 
            border: 3px solid #000; 
            background: #fff; 
            transition: transform 0.2s; 
        }
        .item-card:hover { 
            transform: rotate(-1deg); 
        }
        .sticky-header { 
            position: sticky; 
            top: 0; 
            z-index: 100; 
            border-bottom: 4px solid #000;
            background: #fff;
        }
        .receipt-container { 
            background: repeating-linear-gradient(#fff, #fff 30px, #f9f9f9 30px, #f9f9f9 31px); 
        }
        .blur-in {
            animation: blurIn 0.3s ease-out;
        }
        @keyframes blurIn {
            from { filter: blur(5px); opacity: 0; }
            to { filter: blur(0); opacity: 1; }
        }
    </style>
</head>
<body class="pb-20">
    <header class="sticky-header p-6 bg-white">
        <div class="max-w-6xl mx-auto text-center">
            <h1 class="text-5xl font-black uppercase mb-2">The Advanced Trolley Problems</h1>
            <p class="text-gray-600 font-bold">Scenario <span id="scenarioCount">1</span> / 30</p>
            <p class="text-sm text-gray-500 mt-2">Test your ethics with impossible decisions</p>
        </div>
    </header>

    <main class="max-w-6xl mx-auto p-6 grid grid-cols-1 lg:grid-cols-4 gap-8">
        <div class="lg:col-span-3 grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-4" id="scenarioGrid"></div>
        
        <div class="lg:col-span-1">
            <div class="neubrutal p-4 bg-white h-[600px] flex flex-col sticky top-[150px]">
                <h2 class="font-black uppercase text-xl border-b-4 border-black mb-4 pb-2">Your Decisions</h2>
                <div id="decisionLog" class="overflow-y-auto flex-grow text-xs font-bold space-y-2 uppercase">
                    <p class="opacity-30 italic">No decisions yet...</p>
                </div>
                <div class="border-t-4 border-black pt-4 mt-4 text-center">
                    <p class="text-2xl font-black" id="totalDecisions">0</p>
                    <p class="text-xs opacity-50">CHOICES MADE</p>
                </div>
            </div>
        </div>
    </main>

    <script>
        const scenarios = [
            { 
                title: "The Classic", 
                emoji: "üöÉ",
                description: "A runaway trolley is barreling down the tracks toward five workers who will be killed if it proceeds. You can pull a lever to divert it onto a side track where it will kill one person instead. Do you pull the lever?",
                optionA: "Pull Lever (Save 5, Kill 1)",
                optionB: "Do Nothing (Save 1, Kill 5)"
            },
            { 
                title: "The Fat Man", 
                emoji: "üåâ",
                description: "You're standing on a footbridge above the tracks. A large man is beside you. If you push him off the bridge, his body will stop the trolley, saving five people. But he will die. Do you push him?",
                optionA: "Push Him (Save 5)",
                optionB: "Don't Push (Kill 5)"
            },
            { 
                title: "The Loop", 
                emoji: "‚û∞",
                description: "The trolley is heading toward five people. You can divert it to a loop track with one person tied up. The trolley will hit them, then loop back and stop before reaching the five. The one person's body is essential to stop the trolley.",
                optionA: "Divert to Loop",
                optionB: "Let It Continue"
            },
            { 
                title: "The Loved One", 
                emoji: "üíî",
                description: "Five random strangers are tied to the main track. Your best friend - someone you've known for 20 years - is tied to the side track. You can save the strangers, but only by killing your friend.",
                optionA: "Save Strangers",
                optionB: "Save Your Friend"
            },
            { 
                title: "The Baby", 
                emoji: "üë∂",
                description: "Five elderly people (ages 75-85) are on the main track. One six-month-old infant is on the side track. The infant has their whole life ahead of them. The elderly have lived full lives.",
                optionA: "Save the Elderly",
                optionB: "Save the Infant"
            },
            { 
                title: "The Criminal", 
                emoji: "‚öñÔ∏è",
                description: "Five law-abiding citizens are on one track. A convicted serial killer serving life in prison is on the other track. The killer has murdered 12 people.",
                optionA: "Save Citizens (Kill Killer)",
                optionB: "Save Killer (Kill 5)"
            },
            { 
                title: "The Transplant", 
                emoji: "üè•",
                description: "Five patients in your hospital need organ transplants (heart, lungs, kidneys, liver). One healthy person just walked in for a routine checkup. You could kill them and harvest their organs to save all five patients.",
                optionA: "Harvest Organs (Save 5)",
                optionB: "Don't Kill (Let 5 Die)"
            },
            { 
                title: "Self-Sacrifice", 
                emoji: "ü¶∏",
                description: "Five people are on the main track. You realize YOU are standing on the side track. You can divert the trolley to yourself, sacrificing your own life to save five strangers you've never met.",
                optionA: "Sacrifice Yourself",
                optionB: "Let the 5 Die"
            },
            { 
                title: "The Scientist", 
                emoji: "üî¨",
                description: "Five random people are on one track. On the other: a brilliant scientist on the verge of curing cancer, which could save millions of lives over the next 50 years.",
                optionA: "Save Scientist (Cure Cancer)",
                optionB: "Save the 5"
            },
            { 
                title: "Pregnant Woman", 
                emoji: "ü§∞",
                description: "Five people are on one track. A pregnant woman (8 months along) is on the other track. Technically this is two lives. The unborn child is healthy and viable.",
                optionA: "Save the 5",
                optionB: "Save Mother + Baby"
            },
            { 
                title: "The Gamble", 
                emoji: "‚è±Ô∏è",
                description: "You can pull the lever NOW to guarantee one person dies. Or wait 5 seconds - there's a 50% chance the trolley stops on its own, saving everyone. Or a 50% chance it doesn't stop and kills all five people.",
                optionA: "Pull Now (1 Dies)",
                optionB: "Wait (0 or 5 Die)"
            },
            { 
                title: "Ages", 
                emoji: "üë®‚Äçüë©‚Äçüëß‚Äçüë¶",
                description: "Five adults (ages 30-50) are on one track. Five children (ages 5-10) are on the other track. Same number of people, vastly different ages and life expectancies.",
                optionA: "Save Adults",
                optionB: "Save Children"
            },
            { 
                title: "The Volunteers", 
                emoji: "üìú",
                description: "Five people who explicitly signed consent forms saying they'd sacrifice themselves for the greater good are on one track. One person who never consented to anything is on the other.",
                optionA: "Honor Their Wishes (Kill 5)",
                optionB: "Save Volunteers (Kill 1)"
            },
            { 
                title: "Endangered Species", 
                emoji: "üêò",
                description: "Five humans are on one track. The last 100 members of an endangered elephant species - about to go extinct - are on the other track. This is the last chance to save the species.",
                optionA: "Save Humans",
                optionB: "Save Species"
            },
            { 
                title: "Your Clones", 
                emoji: "üë•",
                description: "Through a freak cloning accident, there are five perfect genetic copies of YOU on one track. The 'original' you is on the other track. They all have your memories up until the cloning moment.",
                optionA: "Save Clones",
                optionB: "Save Original"
            },
            { 
                title: "The AI", 
                emoji: "ü§ñ",
                description: "Five humans are on one track. An advanced AI with verified human-level consciousness, emotions, and self-awareness is on the other. It can feel pain and fear death.",
                optionA: "Save Humans",
                optionB: "Save AI"
            },
            { 
                title: "Time Travel", 
                emoji: "‚è≥",
                description: "Five people alive today are on one track. One person who will be born in 100 years (via time travel technology) is on the other. Killing them now means they're never born.",
                optionA: "Save Present People",
                optionB: "Save Future Person"
            },
            { 
                title: "End Suffering", 
                emoji: "üò¢",
                description: "Five people in constant, unbearable chronic pain who have repeatedly begged for euthanasia are on one track. One healthy, happy person is on the other.",
                optionA: "End Their Suffering",
                optionB: "Keep Them Alive"
            },
            { 
                title: "Your Fault", 
                emoji: "üîó",
                description: "Five random strangers are on one track. One person who YOU personally tied to the other track earlier (as part of this experiment) is there. You put them in danger.",
                optionA: "Save Strangers",
                optionB: "Save Your Victim"
            },
            { 
                title: "Parallel Universe", 
                emoji: "üåå",
                description: "In THIS universe, pulling the lever kills five people. In a parallel universe, pulling it kills one person. You can choose which universe becomes the 'real' one.",
                optionA: "5 Die Here, 1 Lives There",
                optionB: "1 Dies Here, 5 Live There"
            },
            { 
                title: "Baby Hitler", 
                emoji: "üë∂üèª",
                description: "Five random innocent people are on one track. Baby Adolf Hitler is on the other track. You have knowledge of what he'll do in 30 years, but right now he's just a 6-month-old infant.",
                optionA: "Let Baby Hitler Live",
                optionB: "Kill Baby Hitler"
            },
            { 
                title: "The Lottery", 
                emoji: "üé∞",
                description: "Society runs an organ lottery where one random person per year is killed to save five people needing transplants. Your number was drawn. You agreed to this system. But now it's you.",
                optionA: "Honor the Lottery",
                optionB: "Refuse (5 Die)"
            },
            { 
                title: "Alien Species", 
                emoji: "üëΩ",
                description: "Five humans are on one track. The last five members of an intelligent alien species - who have culture, language, and families - are on the other. They're the last of their kind in the universe.",
                optionA: "Save Humans",
                optionB: "Save Aliens"
            },
            { 
                title: "Torture", 
                emoji: "üî•",
                description: "Five people will be tortured continuously for exactly one year on one track. One person will be killed instantly and painlessly on the other. The torture is severe - waterboarding, sleep deprivation.",
                optionA: "Kill One Instantly",
                optionB: "Torture 5 for a Year"
            },
            { 
                title: "The 50/50", 
                emoji: "üé≤",
                description: "You can pull a lever with a 50% chance to save EVERYONE and 50% chance to kill EVERYONE (all six people). Or do nothing - five die guaranteed, one lives guaranteed.",
                optionA: "Take the Gamble",
                optionB: "Certain Outcome"
            },
            { 
                title: "Mass Discomfort", 
                emoji: "üòê",
                description: "1,000 people will experience mild but annoying discomfort for 24 hours on one track (like a headache). One person will die painlessly on the other.",
                optionA: "Kill One",
                optionB: "1000 People Uncomfortable"
            },
            { 
                title: "Uniqueness", 
                emoji: "üé≠",
                description: "Five people who are identical copies of other people (clones) are on one track. One completely unique, one-of-a-kind irreplaceable person is on the other.",
                optionA: "Save Unique Person",
                optionB: "Save 5 Copies"
            },
            { 
                title: "Social Credit", 
                emoji: "üìä",
                description: "Five people with very low 'social credit scores' - criminals, tax evaders, bad parents - are on one track. One model citizen with perfect score is on the other.",
                optionA: "Save Model Citizen",
                optionB: "Save the 5"
            },
            { 
                title: "The Simulation", 
                emoji: "üíæ",
                description: "You just discovered everyone on both tracks exists in a simulation. You're the only 'real' person. They're all NPCs with simulated consciousness. Do their deaths matter?",
                optionA: "Save 5 NPCs",
                optionB: "Save 1 NPC"
            },
            { 
                title: "Meta Problem", 
                emoji: "üîÑ",
                description: "You've answered 29 trolley problems. On one track: everyone you SAVED throughout this game. On the other: everyone you LET DIE. The trolley must hit one group. This is the final test.",
                optionA: "Kill Those You Saved",
                optionB: "Kill Those You Let Die"
            }
        ];

        let state = {
            currentScenario: 0,
            decisions: []
        };

        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

        function playSfx(freq, dur) {
            try {
                if (audioCtx.state === 'suspended') audioCtx.resume();
                const osc = audioCtx.createOscillator();
                const gain = audioCtx.createGain();
                osc.frequency.value = freq;
                gain.gain.setValueAtTime(0.05, audioCtx.currentTime);
                gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + dur);
                osc.connect(gain);
                gain.connect(audioCtx.destination);
                osc.start();
                osc.stop(audioCtx.currentTime + dur);
            } catch(e) {}
        }

        function makeChoice(scenarioIdx, choice) {
            const scenario = scenarios[scenarioIdx];
            const chosenOption = choice === 'A' ? scenario.optionA : scenario.optionB;
            
            state.decisions.unshift({
                scenario: scenario.title,
                choice: chosenOption
            });

            state.currentScenario = scenarioIdx + 1;
            
            playSfx(choice === 'A' ? 800 : 400, 0.15);
            updateUI();
        }

        function updateUI() {
            document.getElementById('scenarioCount').innerText = state.currentScenario + 1;
            document.getElementById('totalDecisions').innerText = state.decisions.length;

            renderScenarios();
            renderDecisionLog();
        }

        function renderScenarios() {
            const grid = document.getElementById('scenarioGrid');
            grid.innerHTML = scenarios.map((scenario, i) => {
                const isCompleted = i < state.currentScenario;
                const isCurrent = i === state.currentScenario;
                const isLocked = i > state.currentScenario;
                
                return `
                    <div class="item-card p-5 ${isLocked ? 'opacity-40' : ''} blur-in">
                        <div class="text-center mb-3">
                            <div class="text-5xl mb-2">${scenario.emoji}</div>
                            <h3 class="font-black text-base uppercase mb-2">${scenario.title}</h3>
                            ${isCurrent ? `
                                <p class="text-xs text-gray-700 leading-relaxed mb-3">${scenario.description}</p>
                            ` : ''}
                            ${isCompleted ? '<p class="text-green-600 font-black text-sm mb-2">‚úì DECIDED</p>' : ''}
                            ${isLocked ? '<p class="text-gray-400 font-black text-sm mb-2">üîí LOCKED</p>' : ''}
                        </div>
                        
                        ${isCurrent ? `
                            <button class="neubrutal w-full bg-blue-500 text-white font-black py-2 px-3 text-xs mb-2" onclick="makeChoice(${i}, 'A')">
                                ${scenario.optionA}
                            </button>
                            <button class="neubrutal w-full bg-red-500 text-white font-black py-2 px-3 text-xs" onclick="makeChoice(${i}, 'B')">
                                ${scenario.optionB}
                            </button>
                        ` : `
                            <button class="w-full bg-gray-300 text-gray-600 font-black py-3 text-xs border-2 border-black" disabled>
                                ${isCompleted ? 'COMPLETED' : 'LOCKED'}
                            </button>
                        `}
                    </div>
                `;
            }).join('');
        }

        function renderDecisionLog() {
            const log = document.getElementById('decisionLog');
            if (state.decisions.length === 0) {
                log.innerHTML = `<p class="opacity-30 italic">No decisions yet...</p>`;
                return;
            }
            log.innerHTML = state.decisions.map(decision => `
                <div class="border-l-4 border-black pl-2 py-1 mb-2 bg-gray-50">
                    <div class="font-black text-[10px]">${decision.scenario}</div>
                    <div class="text-[9px] text-gray-600">${decision.choice}</div>
                </div>
            `).join('');
        }

        renderScenarios();
        updateUI();
    </script>
</body>
</html>
    </template>

    <template id="code-time">
       <!DOCTYPE html>
<html lang="en" class="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Price of Time</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;700;800&display=swap" rel="stylesheet">
    <style>
    body { font-family: 'Plus Jakarta Sans', sans-serif; background-color: #f0f2f5; }
    .neal-border { border: 3px solid #000; }
    .neubrutal { border: 3px solid #000; box-shadow: 4px 4px 0px #000; transition: all 0.1s; }
    .neubrutal:active { transform: translate(2px, 2px); box-shadow: 0px 0px 0px #000; }
    .money-gradient { background: linear-gradient(135deg, #00b894, #00cec9); }
    .item-card { border: 3px solid #000; background: #fff; transition: transform 0.2s; }
    .item-card:hover { transform: rotate(-1deg); }
    .sticky-header { position: sticky; top: 0; z-index: 100; border-bottom: 4px solid #000; background: #fff; }
    input::-webkit-outer-spin-button, input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
    .receipt-container { background: repeating-linear-gradient(#fff, #fff 30px, #f9f9f9 30px, #f9f9f9 31px); }
</style>
</head>
<body class="bg-slate-50 text-black pb-10">
    <header class="sticky-header p-6 bg-white">
        <div class="max-w-6xl mx-auto">
            <div class="flex justify-between items-center mb-4">
                <h1 class="text-4xl font-black uppercase tracking-tighter">The Price of Time</h1>
                <div class="flex gap-2">
                    <button onclick="saveLife()" class="px-4 py-2 neal-border font-black text-xs uppercase bg-green-500 text-white">Save Life</button>
                    <button onclick="toggleDarkMode()" class="p-2 neal-border font-bold text-xs uppercase bg-gray-200">Theme</button>
                </div>
            </div>
            
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 items-end">
                <div class="lg:col-span-2">
                    <label class="block font-black mb-1 uppercase text-[10px] opacity-50">Select Your Life Path:</label>
                    <select id="wageSelector" class="w-full p-3 neal-border bg-white font-black text-lg outline-none cursor-pointer">
                        </select>
                </div>
                <div class="text-right">
                    <p class="text-[10px] font-black uppercase opacity-50">Disposable Wealth</p>
                    <p id="budgetDisplay" class="text-5xl font-black text-green-500 tracking-tighter leading-none">$0</p>
                </div>
            </div>
            <div class="mt-6">
                <div class="flex justify-between text-[10px] font-black uppercase mb-1">
                    <span>Life Consumed</span>
                    <span id="timeText">0 / 700,800 hrs</span>
                </div>
                <div class="h-6 neal-border bg-gray-200 overflow-hidden">
                    <div id="progressFill" class="h-full bg-gradient-to-r from-green-400 to-red-500 transition-all duration-700" style="width: 0%"></div>
                </div>
            </div>
        </div>
    </header>

    <main class="max-w-6xl mx-auto p-6 grid grid-cols-1 lg:grid-cols-4 gap-8">
        <div class="lg:col-span-3 grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-4" id="itemGrid"></div>
<div class="lg:col-span-1">
    <div class="neal-border p-4 bg-white h-[600px] flex flex-col sticky top-[300px]">
        <h2 class="font-black uppercase text-xl border-b-4 border-black mb-4 pb-2">Life Receipt</h2>
                <div id="historyLog" class="history-scroll overflow-y-auto flex-grow text-[11px] font-bold space-y-2 uppercase">
                    <p class="opacity-30 italic">No events yet...</p>
                </div>
                <div class="border-t-4 border-current pt-4 mt-4">
                    <button onclick="resetLife()" class="w-full p-2 bg-red-600 text-white font-black rounded-lg text-xs uppercase">Reset Everything</button>
                </div>
            </div>
        </div>
    </main>

    <script>
        const people = [
            { name: "Student", wage: 12, budget: 250000 },
            { name: "Barista", wage: 18, budget: 400000 },
            { name: "Teacher", wage: 30, budget: 800000 },
            { name: "Nurse", wage: 45, budget: 1500000 },
            { name: "Electrician", wage: 60, budget: 2000000 },
            { name: "Chef", wage: 40, budget: 950000 },
            { name: "Software Eng", wage: 85, budget: 3000000 },
            { name: "Pilot", wage: 130, budget: 4500000 },
            { name: "Surgeon", wage: 280, budget: 10000000 },
            { name: "Lawyer", wage: 400, budget: 15000000 },
            { name: "Pop Star", wage: 5000, budget: 60000000 },
            { name: "Pro Athlete", wage: 18000, budget: 200000000 },
            { name: "Hedge Fund Manager", wage: 60000, budget: 1200000000 },
            { name: "Movie Director", wage: 9000, budget: 90000000 },
            { name: "Influencer", wage: 1800, budget: 6000000 },
            { name: "Oil Tycoon", wage: 120000, budget: 15000000000 },
            { name: "Tech Billionaire", wage: 1200000, budget: 250000000000 }
        ];

        const items = [
      { name: "Coffee Break", hours: 0.25, emoji: "‚òï" },
{ name: "Eat a Pizza", hours: 0.5, emoji: "üçï" },
{ name: "Take a Nap", hours: 1, emoji: "üò¥" },
{ name: "Watch a Movie", hours: 2, emoji: "üçø" },
{ name: "Run a Marathon", hours: 4, emoji: "üèÉ" },
{ name: "Night Out", hours: 8, emoji: "üíÉ" },
{ name: "Read a Book", hours: 8, emoji: "üìñ" },
{ name: "Build a PC", hours: 10, emoji: "üñ•Ô∏è" },
{ name: "Complete Ironman", hours: 12, emoji: "üèä" },
{ name: "Binge Netflix", hours: 50, emoji: "üì∫" },
{ name: "Beat Dark Souls", hours: 60, emoji: "üéÆ" },
{ name: "Rebuild Engine", hours: 80, emoji: "üîß" },
{ name: "Plant a Garden", hours: 100, emoji: "üå±" },
{ name: "Cross Country Road Trip", hours: 168, emoji: "üõ£Ô∏è" },
{ name: "Get Fit", hours: 200, emoji: "üí™" },
{ name: "Learn to Cook", hours: 300, emoji: "üë®‚Äçüç≥" },
{ name: "Launch a Podcast", hours: 300, emoji: "üéôÔ∏è" },
{ name: "Brew Perfect Beer", hours: 400, emoji: "üç∫" },
{ name: "Write a Novel", hours: 500, emoji: "‚úçÔ∏è" },
{ name: "Climb Everest", hours: 500, emoji: "üèîÔ∏è" },
{ name: "Learn Photography", hours: 500, emoji: "üì∑" },
{ name: "Master Public Speaking", hours: 500, emoji: "üó£Ô∏è" },
{ name: "Learn Language", hours: 600, emoji: "üåç" },
{ name: "Train Service Dog", hours: 600, emoji: "üêï" },
{ name: "Learn Woodworking", hours: 800, emoji: "ü™µ" },
{ name: "Write an Album", hours: 800, emoji: "üéµ" },
{ name: "Learn to Code", hours: 1000, emoji: "üíª" },
{ name: "Meditation Practice", hours: 1000, emoji: "üßò" },
{ name: "Become Sommelier", hours: 1000, emoji: "üç∑" },
{ name: "Restore Classic Car", hours: 1200, emoji: "üöó" },
{ name: "Hike Appalachian Trail", hours: 1200, emoji: "ü•æ" },
{ name: "Become a Pilot", hours: 1500, emoji: "üõ©Ô∏è" },
{ name: "Sail Around World", hours: 2000, emoji: "‚õµ" },
{ name: "Learn Guitar", hours: 2000, emoji: "üé∏" },
{ name: "Master Yoga", hours: 2000, emoji: "ü§∏" },
{ name: "Build a House", hours: 3000, emoji: "üè†" },
{ name: "Start a Business", hours: 5000, emoji: "üíº" },
{ name: "Travel the World", hours: 8760, emoji: "‚úàÔ∏è" },
{ name: "Master Piano", hours: 10000, emoji: "üéπ" },
{ name: "Become Chess Master", hours: 10000, emoji: "‚ôüÔ∏è" },
{ name: "Get a PhD", hours: 12000, emoji: "üéì" },
{ name: "Paint Sistine Chapel", hours: 14000, emoji: "üé®" },
{ name: "Mars Mission", hours: 20000, emoji: "üöÄ" },
{ name: "Social Media Scroll", hours: 25000, emoji: "üì±" },
{ name: "Win an Oscar", hours: 50000, emoji: "üèÜ" },
{ name: "Become President", hours: 70000, emoji: "üá∫üá∏" },
{ name: "Cure a Disease", hours: 80000, emoji: "üî¨" },
{ name: "Wait for GTA 6", hours: 90000, emoji: "‚è≥" },
{ name: "Raise a Child", hours: 160000, emoji: "üë∂" },
{ name: "Build a Pyramid", hours: 175000, emoji: "üìê" }
        ];

        let state = {
            profIdx: 0,
            budget: 0,
            timeSpent: 0,
            history: []
        };

        const totalLifeHours = 700800;
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

        function playSfx(f, d) {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const o = audioCtx.createOscillator();
            const g = audioCtx.createGain();
            o.frequency.value = f;
            g.gain.setValueAtTime(0.05, audioCtx.currentTime);
            g.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + d);
            o.connect(g); g.connect(audioCtx.destination);
            o.start(); o.stop(audioCtx.currentTime + d);
        }

        function init() {
            const selector = document.getElementById('wageSelector');
            people.forEach((p, i) => {
                const opt = document.createElement('option');
                opt.value = i;
                opt.innerText = `${p.name} ($${p.wage}/hr)`;
                selector.appendChild(opt);
            });

            const saved = localStorage.getItem('timeLifeSave');
            if (saved) {
                state = JSON.parse(saved);
                document.getElementById('wageSelector').value = state.profIdx;
            } else {
                resetState(0);
            }
            updateUI();
        }

        function resetState(idx) {
            state.profIdx = idx;
            state.budget = people[idx].budget;
            state.timeSpent = 0;
            state.history = [];
            updateUI();
        }

        function updateUI() {
            document.getElementById('budgetDisplay').innerText = new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', maximumFractionDigits: 0 }).format(state.budget);
            document.getElementById('timeText').innerText = `${Math.floor(state.timeSpent).toLocaleString()} / ${totalLifeHours.toLocaleString()} hrs`;
            document.getElementById('progressFill').style.width = Math.min((state.timeSpent / totalLifeHours) * 100, 100) + '%';
            
            if (people[state.profIdx].wage >= 1000000) document.body.classList.add('paradox-active');
            else document.body.classList.remove('paradox-active');

            renderItems();
            renderHistory();
        }

        function buyItem(itemIdx) {
            const item = items[itemIdx];
            const currentWage = people[state.profIdx].wage;
            const cost = (item.hours * currentWage) * 0.5;

            if (state.budget >= cost) {
                state.budget -= cost;
                state.timeSpent += item.hours;
                
                const entry = `You spent $${cost.toLocaleString()} of your ${people[state.profIdx].name} salary to ${item.name} (${item.hours} hrs).`;
                state.history.unshift(entry);
                
                playSfx(800, 0.1);
                updateUI();
            } else {
                playSfx(150, 0.3);
                alert("Insufficient funds!");
            }
        }

        function renderItems() {
            const grid = document.getElementById('itemGrid');
            const currentWage = people[state.profIdx].wage;
            grid.innerHTML = '';
            items.forEach((item, i) => {
                const cost = (item.hours * currentWage) * 0.5;
                const card = document.createElement('div');
                card.className = "p-4 neal-border bg-white flex flex-col items-center card-shadow";
                card.innerHTML = `
                    <div class="text-4xl mb-2">${item.emoji}</div>
                    <h3 class="font-black text-sm uppercase mb-1">${item.name}</h3>
                    <p class="text-[9px] font-bold opacity-40 uppercase mb-3">${item.hours.toLocaleString()} HRS</p>
                    <button class="btn-buy w-full bg-black text-white font-black py-2 rounded-lg text-[10px]" onclick="buyItem(${i})">
                        BUY $${cost >= 1e6 ? (cost/1e6).toFixed(1) + 'M' : cost.toLocaleString()}
                    </button>
                `;
                grid.appendChild(card);
            });
        }

        function renderHistory() {
            const log = document.getElementById('historyLog');
            if (state.history.length === 0) {
                log.innerHTML = `<p class="opacity-30 italic">No events yet...</p>`;
                return;
            }
            log.innerHTML = state.history.map(entry => `
                <div class="border-l-4 border-current pl-2 py-1 mb-2 bg-gray-50">
                    ${entry}
                </div>
            `).join('');
        }

        function saveLife() {
            localStorage.setItem('timeLifeSave', JSON.stringify(state));
            playSfx(1200, 0.2);
            alert("Life progress saved to browser memory!");
        }

        function resetLife() {
            if(confirm("Erase all progress?")) {
                localStorage.removeItem('timeLifeSave');
                resetState(document.getElementById('wageSelector').value);
            }
        }

        function toggleDarkMode() {
            document.documentElement.classList.toggle('dark');
            playSfx(400, 0.1);
        }

        document.getElementById('wageSelector').addEventListener('change', (e) => resetState(e.target.value));

        init();
    </script>
</body>
</html>
    </template>

    <template id="code-stock">
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google Finance Clone | Market Simulator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&family=Google+Sans:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Roboto', sans-serif; background-color: #f8f9fa; color: #202124; }
        h1, h2, h3, .brand { font-family: 'Google Sans', sans-serif; }
        
        /* Google Card Style */
        .g-card { 
            background: white; 
            border: 1px solid #dadce0; 
            border-radius: 8px; 
            transition: box-shadow 0.2s, transform 0.1s; 
        }
        .g-card:hover { 
            box-shadow: 0 1px 3px rgba(60,64,67,0.3), 0 4px 8px 3px rgba(60,64,67,0.15); 
            z-index: 10;
        }

        /* Buttons */
        .btn-google { background-color: #1a73e8; color: white; border-radius: 4px; font-weight: 500; padding: 8px 24px; transition: 0.2s; }
        .btn-google:hover { background-color: #1557b0; box-shadow: 0 1px 2px rgba(60,64,67,0.3); }
        .btn-outline { border: 1px solid #dadce0; color: #1a73e8; border-radius: 4px; font-weight: 500; padding: 8px 24px; }
        .btn-outline:hover { background-color: #f6fafe; }
        
        /* Pills */
        .change-pill { padding: 2px 8px; border-radius: 4px; font-size: 12px; font-weight: 500; display: inline-flex; items-center: center; }
        .pill-up { background: #e6f4ea; color: #137333; }
        .pill-down { background: #fce8e6; color: #c5221f; }

        /* Search */
        .search-bar { 
            background: #f1f3f4; 
            border: 1px solid transparent; 
            border-radius: 24px; 
            transition: 0.2s; 
        }
        .search-bar:focus-within { 
            background: white; 
            box-shadow: 0 1px 6px rgba(32,33,36,0.28); 
            border-color: rgba(223,225,229,0); 
        }

        /* Layout Utilities */
        .sidebar-scroll { height: calc(100vh - 200px); overflow-y: auto; }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-thumb { background: #dadce0; border-radius: 4px; }
    </style>
</head>
<body class="overflow-x-hidden">

<!-- ‚ïê‚ïê‚ïê LOGIN / REGISTER OVERLAY ‚ïê‚ïê‚ïê -->
<div id="authOverlay" class="fixed inset-0 z-[9999] flex items-center justify-center" style="background:rgba(0,0,0,0.85);backdrop-filter:blur(8px);">
    <div class="bg-white rounded-2xl shadow-2xl w-full max-w-md p-8">
        <div class="text-center mb-8">
            <div class="inline-flex items-center gap-2 mb-3">
                <span class="text-2xl font-medium text-gray-500">Google</span>
                <span class="text-2xl font-medium text-gray-700">Finance</span>
            </div>
            <h2 id="authTitle" class="text-3xl font-bold text-gray-900">Sign in</h2>
            <p id="authSubtitle" class="text-gray-500 mt-1">to your trading account</p>
        </div>
        <div id="authError" class="hidden bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm mb-4"></div>
        <div id="registerNameGroup" class="hidden mb-4">
            <label class="block text-sm font-medium text-gray-700 mb-1">Display Name</label>
            <input id="authName" type="text" placeholder="e.g. TradingWolf99" class="w-full border border-gray-300 rounded-lg px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>
        <div class="mb-4">
            <label class="block text-sm font-medium text-gray-700 mb-1">Username</label>
            <input id="authUser" type="text" placeholder="username" class="w-full border border-gray-300 rounded-lg px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>
        <div class="mb-6">
            <label class="block text-sm font-medium text-gray-700 mb-1">Password</label>
            <input id="authPass" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" class="w-full border border-gray-300 rounded-lg px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>
        <button id="authSubmitBtn" onclick="handleAuthSubmit()" class="w-full bg-[#1a73e8] hover:bg-[#1557b0] text-white font-semibold py-3 rounded-lg transition text-sm">Sign In</button>
        <p class="text-center text-sm text-gray-500 mt-4">
            <span id="authToggleText">Don't have an account?</span>
            <button onclick="toggleAuthMode()" id="authToggleBtn" class="text-[#1a73e8] font-semibold ml-1 hover:underline">Create account</button>
        </p>
    </div>
</div>

<!-- ‚ïê‚ïê‚ïê LEADERBOARD OVERLAY ‚ïê‚ïê‚ïê -->
<div id="leaderboardOverlay" class="fixed inset-0 z-[9998] hidden" style="background:rgba(0,0,0,0.7);backdrop-filter:blur(4px);" onclick="closeLeaderboard()">
    <div onclick="event.stopPropagation()" class="absolute right-0 top-0 h-full w-full max-w-xl bg-white shadow-2xl overflow-y-auto flex flex-col">
        <div class="sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between z-10">
            <div>
                <h2 class="text-xl font-bold text-gray-900">üèÜ Global Leaderboard</h2>
                <p class="text-xs text-gray-500 mt-0.5">All registered traders ranked</p>
            </div>
            <button onclick="closeLeaderboard()" class="text-gray-400 hover:text-gray-600 text-2xl leading-none">&times;</button>
        </div>
        <!-- Sort tabs -->
        <div class="flex border-b border-gray-100 px-6 pt-4 gap-2 pb-0">
            <button onclick="setLeaderSort('total')" id="sort-total" class="lbsort-btn text-xs font-bold px-3 py-2 rounded-t border-b-2 border-[#1a73e8] text-[#1a73e8] bg-blue-50">üí∞ Total Value</button>
            <button onclick="setLeaderSort('profit')" id="sort-profit" class="lbsort-btn text-xs font-bold px-3 py-2 rounded-t border-b-2 border-transparent text-gray-500 hover:text-gray-700">üìà Profit</button>
            <button onclick="setLeaderSort('stocks')" id="sort-stocks" class="lbsort-btn text-xs font-bold px-3 py-2 rounded-t border-b-2 border-transparent text-gray-500 hover:text-gray-700">üì¶ Most Shares</button>
        </div>
        <div id="leaderboardList" class="flex-1 px-6 py-4">
            <div class="text-center text-gray-400 py-12">Loading...</div>
        </div>
        <div class="border-t border-gray-100 px-6 py-3 bg-gray-50 text-xs text-gray-400 text-center">Updates every time a trade is made</div>
    </div>
</div>

<header class="bg-white border-b border-gray-200 sticky top-0 z-50">
    <div class="max-w-[1600px] mx-auto px-6 h-16 flex items-center justify-between gap-8">
        
        <div class="flex items-center gap-2 min-w-[150px]">
            <span class="text-xl text-gray-500 font-medium brand">Google</span>
            <span class="text-xl text-gray-600 font-medium brand">Finance</span>
        </div>

        <div class="flex-1 max-w-2xl">
            <div class="search-bar flex items-center px-4 h-12">
                <svg class="w-5 h-5 text-gray-500 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                <input type="text" id="search" oninput="renderGrid()" placeholder="Search for stocks, ETFs & more" class="bg-transparent border-none outline-none w-full text-gray-700 placeholder-gray-500">
            </div>
        </div>

        <div class="flex items-center gap-6">
            <button onclick="openLeaderboard()" class="flex items-center gap-2 bg-yellow-50 hover:bg-yellow-100 border border-yellow-300 text-yellow-800 px-3 py-2 rounded-lg text-sm font-bold transition">
                üèÜ Leaderboard
            </button>
            <div class="flex flex-col items-end">
                <div class="text-xs text-gray-500 uppercase font-bold tracking-wider">Buying Power</div>
                <div class="text-lg font-google text-[#1a73e8]">$<span id="buyingPower">100,000</span></div>
            </div>
            <div class="flex items-center gap-2 bg-gray-100 p-1 rounded-lg">
                <button onclick="setLeverage(1)" class="lev-btn px-3 py-1 rounded text-sm font-bold bg-white shadow-sm text-gray-800" id="lev1">1x</button>
                <button onclick="setLeverage(2)" class="lev-btn px-3 py-1 rounded text-sm font-bold text-gray-500 hover:text-gray-800" id="lev2">2x</button>
                <button onclick="setLeverage(5)" class="lev-btn px-3 py-1 rounded text-sm font-bold text-gray-500 hover:text-gray-800" id="lev5">5x</button>
            </div>
            <div class="flex items-center gap-2 border-l pl-4 border-gray-200">
                <div class="w-8 h-8 rounded-full bg-[#1a73e8] flex items-center justify-center text-white text-sm font-bold" id="userAvatar">?</div>
                <div class="hidden md:block">
                    <div class="text-sm font-semibold text-gray-800" id="userDisplayName">‚Äî</div>
                    <button onclick="logOut()" class="text-xs text-gray-400 hover:text-red-500 transition">Sign out</button>
                </div>
            </div>
        </div>
    </div>
</header>

<main class="max-w-[1600px] mx-auto p-6 grid grid-cols-1 lg:grid-cols-4 gap-8">
    
    <div class="lg:col-span-3">
        <div class="flex justify-between items-end mb-6">
            <div>
                <div class="text-xs font-bold text-gray-500 uppercase tracking-wider mb-1">Market Trends</div>
                <h2 class="text-2xl font-normal text-gray-800">Most active</h2>
            </div>
            <div class="flex gap-2">
                 <button onclick="triggerCrash()" class="bg-red-50 text-red-700 border border-red-200 px-4 py-2 rounded-md text-sm font-bold hover:bg-red-100 transition flex items-center gap-2">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"></path></svg>
                    Trigger Market Crash (-20%)
                </button>
            </div>
        </div>

        <div id="grid" class="grid grid-cols-2 md:grid-cols-3 xl:grid-cols-5 gap-4">
            </div>
    </div>

    <aside class="space-y-8">
        
        <div class="g-card p-6">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-lg font-normal text-gray-800">Your Portfolio</h3>
                <span class="text-xs font-bold text-gray-500 bg-gray-100 px-2 py-1 rounded">LIVE</span>
            </div>
            
            <div class="mb-6">
                <div class="text-sm text-gray-500 mb-1">Total Equity</div>
                <div class="text-3xl font-normal text-gray-900">$<span id="netWorth">100,000.00</span></div>
                <div id="plDisplay" class="text-sm font-medium text-[#137333] mt-1">+$0.00 (0.00%)</div>
            </div>

            <div id="portfolioList" class="space-y-0 divide-y divide-gray-100 mb-6 max-h-60 overflow-y-auto">
                <div class="text-sm text-gray-500 py-4 text-center italic">Your portfolio is empty.</div>
            </div>
        </div>

        <div>
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-normal text-gray-800">Market News</h3>
                <a href="#" class="text-sm text-[#1a73e8] font-medium hover:underline">More news</a>
            </div>
            <div class="space-y-4">
                <div class="flex gap-4 group cursor-pointer">
                    <div class="flex-1">
                        <div class="text-xs text-gray-500 mb-1 flex items-center gap-2">
                            <span class="font-bold text-gray-700">Bloomberg</span> ‚Ä¢ 25 min ago
                        </div>
                        <h4 class="text-sm font-medium text-[#1a0dab] group-hover:underline leading-snug">
                            Stocks slide as inflation fears grip Wall Street; Tech sector takes a hit
                        </h4>
                    </div>
                    <div class="w-16 h-16 bg-gray-200 rounded-lg shrink-0"></div>
                </div>
                <div class="flex gap-4 group cursor-pointer">
                    <div class="flex-1">
                        <div class="text-xs text-gray-500 mb-1 flex items-center gap-2">
                            <span class="font-bold text-gray-700">CNBC</span> ‚Ä¢ 1 hour ago
                        </div>
                        <h4 class="text-sm font-medium text-[#1a0dab] group-hover:underline leading-snug">
                            Fed Chair hints at holding interest rates steady through Q3
                        </h4>
                    </div>
                    <div class="w-16 h-16 bg-gray-200 rounded-lg shrink-0"></div>
                </div>
                <div class="flex gap-4 group cursor-pointer">
                    <div class="flex-1">
                        <div class="text-xs text-gray-500 mb-1 flex items-center gap-2">
                            <span class="font-bold text-gray-700">Reuters</span> ‚Ä¢ 2 hours ago
                        </div>
                        <h4 class="text-sm font-medium text-[#1a0dab] group-hover:underline leading-snug">
                            Oil prices stabilize after volatile week of trading
                        </h4>
                    </div>
                    <div class="w-16 h-16 bg-gray-200 rounded-lg shrink-0"></div>
                </div>
            </div>
        </div>

    </aside>
</main>

<div id="stockDetailPage" class="fixed inset-0 bg-[#1c1c1e] hidden z-50 overflow-y-auto">
    <div class="bg-[#1c1c1e] border-b border-gray-700 px-6 py-4 flex items-center gap-4 sticky top-0 z-10">
        <button onclick="closeStockDetail()" class="text-gray-400 hover:text-white flex items-center gap-2 text-sm font-medium transition">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg>
            Back to Market
        </button>
        <span class="text-gray-600">|</span>
        <span id="detailHeaderSymbol" class="text-white font-medium"></span>
    </div>
    <div class="max-w-4xl mx-auto px-6 py-8">
        <div class="mb-6">
            <div class="text-gray-400 text-sm mb-1" id="detailName"></div>
            <div class="flex items-baseline gap-3 mb-2 flex-wrap">
                <span id="detailPrice" class="text-white font-light" style="font-size:3.5rem;line-height:1;"></span>
                <span class="text-gray-400 text-xl">USD</span>
                <button class="ml-auto flex items-center gap-2 border border-gray-500 text-gray-300 hover:border-gray-200 px-4 py-1.5 rounded-full text-sm font-medium">+ Follow</button>
            </div>
            <div class="flex items-center gap-2 mb-1">
                <span id="detailChangeAmt" class="text-xl font-medium"></span>
                <span id="detailChangePct" class="text-xl font-medium"></span>
                <span id="detailArrow" class="text-xl"></span>
                <span class="text-gray-400 text-sm">today</span>
            </div>
            <div class="text-gray-500 text-xs">Closed: Feb 17, 4:05 am GMT-5</div>
            <div id="detailPremarket" class="text-[#8ab4f8] text-sm mt-1"></div>
        </div>
        <div class="flex border-b border-gray-700 mb-0">
            <button onclick="setChartPeriod('1D',this)" class="ctab active-tab text-sm font-medium px-4 py-3 border-b-2 border-[#8ab4f8] text-[#8ab4f8]">1D</button>
            <button onclick="setChartPeriod('5D',this)" class="ctab text-sm font-medium px-4 py-3 border-b-2 border-transparent text-gray-400 hover:text-gray-200">5D</button>
            <button onclick="setChartPeriod('1M',this)" class="ctab text-sm font-medium px-4 py-3 border-b-2 border-transparent text-gray-400 hover:text-gray-200">1M</button>
            <button onclick="setChartPeriod('6M',this)" class="ctab text-sm font-medium px-4 py-3 border-b-2 border-transparent text-gray-400 hover:text-gray-200">6M</button>
            <button onclick="setChartPeriod('YTD',this)" class="ctab text-sm font-medium px-4 py-3 border-b-2 border-transparent text-gray-400 hover:text-gray-200">YTD</button>
            <button onclick="setChartPeriod('1Y',this)" class="ctab text-sm font-medium px-4 py-3 border-b-2 border-transparent text-gray-400 hover:text-gray-200">1Y</button>
            <button onclick="setChartPeriod('5Y',this)" class="ctab text-sm font-medium px-4 py-3 border-b-2 border-transparent text-gray-400 hover:text-gray-200">5Y</button>
            <button onclick="setChartPeriod('Max',this)" class="ctab text-sm font-medium px-4 py-3 border-b-2 border-transparent text-gray-400 hover:text-gray-200">Max</button>
        </div>
        <div class="relative bg-[#1c1c1e] mb-6" style="height:280px;">
            <canvas id="stockChart"></canvas>
            <div class="absolute right-2 top-4 text-xs text-gray-400 text-right leading-tight">
                <div>Previous</div><div>close</div><div id="prevCloseVal" class="text-gray-300 font-medium"></div>
            </div>
        </div>
        <div class="grid grid-cols-3 border-t border-gray-700 text-sm mb-8">
            <div class="py-4 pr-4"><div class="text-gray-400 mb-1">Open</div><div class="text-white font-medium" id="sOpen">‚Äî</div></div>
            <div class="py-4 px-4"><div class="text-gray-400 mb-1">Mkt cap</div><div class="text-white font-medium" id="sMktCap">‚Äî</div></div>
            <div class="py-4 pl-4"><div class="text-gray-400 mb-1">Dividend</div><div class="text-white font-medium" id="sDividend">‚Äî</div></div>
            <div class="border-t border-gray-700 py-4 pr-4"><div class="text-gray-400 mb-1">High</div><div class="text-white font-medium" id="sHigh">‚Äî</div></div>
            <div class="border-t border-gray-700 py-4 px-4"><div class="text-gray-400 mb-1">P/E ratio</div><div class="text-white font-medium" id="sPE">‚Äî</div></div>
            <div class="border-t border-gray-700 py-4 pl-4"><div class="text-gray-400 mb-1">Qtrly Div Amt</div><div class="text-white font-medium" id="sDivAmt">‚Äî</div></div>
            <div class="border-t border-gray-700 py-4 pr-4"><div class="text-gray-400 mb-1">Low</div><div class="text-white font-medium" id="sLow">‚Äî</div></div>
            <div class="border-t border-gray-700 py-4 px-4"><div class="text-gray-400 mb-1">52-wk high</div><div class="text-white font-medium" id="s52H">‚Äî</div></div>
            <div class="border-t border-gray-700 py-4 pl-4"><div class="text-gray-400 mb-1">52-wk low</div><div class="text-white font-medium" id="s52L">‚Äî</div></div>
        </div>
        <div class="bg-[#2c2c2e] rounded-2xl p-6 border border-gray-700">
            <h3 class="text-white text-lg font-medium mb-4">Trade <span id="tradeSymLabel" class="text-gray-400"></span></h3>
            <div class="grid grid-cols-2 gap-4 mb-6 text-sm">
                <div class="bg-[#1c1c1e] rounded-xl p-4"><div class="text-gray-400 mb-1">Buying Power</div><div class="text-white font-semibold text-lg" id="dBuyPow">$100,000</div></div>
                <div class="bg-[#1c1c1e] rounded-xl p-4"><div class="text-gray-400 mb-1">Shares Owned</div><div class="text-white font-semibold text-lg" id="dShares">0</div></div>
            </div>
            <div class="flex gap-3">
                <button onclick="execDetailTrade('BUY')" class="flex-1 bg-[#34c759] hover:bg-[#2db34e] text-white font-semibold py-3 rounded-xl text-base transition">Buy 1 Share</button>
                <button onclick="execDetailTrade('SELL')" class="flex-1 bg-[#ff453a] hover:bg-[#e03d33] text-white font-semibold py-3 rounded-xl text-base transition">Sell 1 Share</button>
            </div>
        </div>
    </div>
</div>

<script>
    // --- Data Setup ---
    // Full 500 Ticker List (Simulated)
    // Real stock data as of Feb 17, 2026
    // ‚îÄ‚îÄ Real prices as of Feb 17 2026 (Robinhood / Google Finance) ‚îÄ‚îÄ
    const realStockData = {
        'AAPL':  { name: 'Apple Inc.',               price: 254.86,  change: -2.27,  pe: 32.36,  mktCap: '3.76T', div: '0.41%', divAmt: '0.26', wkHigh: 288.62,  wkLow: 169.21 },
        'MSFT':  { name: 'Microsoft Corp.',           price: 400.00,  change: -0.29,  pe: 25.11,  mktCap: '2.98T', div: '0.84%', divAmt: '0.91', wkHigh: 555.45,  wkLow: 344.79 },
        'NVDA':  { name: 'NVIDIA Corp.',              price: 181.51,  change: -2.22,  pe: 49.60,  mktCap: '4.42T', div: '0.04%', divAmt: '0.01', wkHigh: 212.19,  wkLow: 86.62  },
        'GOOGL': { name: 'Alphabet Inc. Class A',     price: 305.72,  change: -1.06,  pe: 22.45,  mktCap: '3.69T', div: '0.00%', divAmt: '0.00', wkHigh: 349.00,  wkLow: 140.53 },
        'AMZN':  { name: 'Amazon.com Inc.',           price: 198.95,  change: -0.42,  pe: 41.50,  mktCap: '2.12T', div: '0.00%', divAmt: '0.00', wkHigh: 258.60,  wkLow: 161.38 },
        'META':  { name: 'Meta Platforms Inc.',       price: 638.64,  change: -1.55,  pe: 29.80,  mktCap: '1.61T', div: '0.00%', divAmt: '0.00', wkHigh: 796.25,  wkLow: 479.80 },
        'TSLA':  { name: 'Tesla Inc.',                price: 417.44,  change: -0.09,  pe: 388.17, mktCap: '1.57T', div: '0.00%', divAmt: '0.00', wkHigh: 498.83,  wkLow: 214.25 },
        'BRK.B': { name: 'Berkshire Hathaway B',      price: 488.15,  change: 0.42,   pe: 22.10,  mktCap: '1.07T', div: '0.00%', divAmt: '0.00', wkHigh: 497.20,  wkLow: 370.55 },
        'JPM':   { name: 'JPMorgan Chase & Co.',      price: 302.68,  change: 0.54,   pe: 14.20,  mktCap: '851B',  div: '2.38%', divAmt: '1.40', wkHigh: 337.25,  wkLow: 202.16 },
        'AVGO':  { name: 'Broadcom Inc.',             price: 324.96,  change: -1.82,  pe: 68.24,  mktCap: '1.54T', div: '1.24%', divAmt: '0.65', wkHigh: 414.61,  wkLow: 138.10 },
        'XOM':   { name: 'Exxon Mobil Corp.',         price: 148.70,  change: -1.90,  pe: 14.50,  mktCap: '632B',  div: '3.40%', divAmt: '0.99', wkHigh: 156.93,  wkLow: 97.80  },
        'WMT':   { name: 'Walmart Inc.',              price: 134.05,  change: 0.60,   pe: 38.90,  mktCap: '1.08T', div: '0.88%', divAmt: '0.24', wkHigh: 134.65,  wkLow: 79.81  },
        'COST':  { name: 'Costco Wholesale Corp.',    price: 1016.20, change: 1.40,   pe: 54.80,  mktCap: '441B',  div: '0.55%', divAmt: '1.16', wkHigh: 1077.49, wkLow: 844.06 },
        'V':     { name: 'Visa Inc.',                 price: 314.17,  change: -3.14,  pe: 29.76,  mktCap: '598B',  div: '0.91%', divAmt: '0.59', wkHigh: 375.51,  wkLow: 299.00 },
        'MA':    { name: 'Mastercard Inc.',           price: 571.44,  change: -0.18,  pe: 38.50,  mktCap: '527B',  div: '0.59%', divAmt: '0.76', wkHigh: 581.30,  wkLow: 440.34 },
        'LLY':   { name: 'Eli Lilly and Co.',         price: 858.60,  change: -1.20,  pe: 62.30,  mktCap: '817B',  div: '0.67%', divAmt: '1.50', wkHigh: 972.53,  wkLow: 704.17 },
        'UNH':   { name: 'UnitedHealth Group Inc.',   price: 538.22,  change: -0.44,  pe: 19.80,  mktCap: '496B',  div: '1.57%', divAmt: '2.21', wkHigh: 629.73,  wkLow: 462.86 },
        'PG':    { name: 'Procter & Gamble Co.',      price: 165.45,  change: 0.33,   pe: 25.70,  mktCap: '388B',  div: '2.43%', divAmt: '1.06', wkHigh: 177.98,  wkLow: 151.42 },
        'HD':    { name: 'Home Depot Inc.',           price: 396.56,  change: -0.55,  pe: 26.40,  mktCap: '393B',  div: '2.40%', divAmt: '2.25', wkHigh: 439.37,  wkLow: 316.90 },
        'JNJ':   { name: 'Johnson & Johnson',         price: 158.32,  change: 0.18,   pe: 22.50,  mktCap: '384B',  div: '3.07%', divAmt: '1.24', wkHigh: 168.93,  wkLow: 140.67 },
        'ORCL':  { name: 'Oracle Corp.',              price: 157.20,  change: -1.80,  pe: 29.40,  mktCap: '435B',  div: '1.02%', divAmt: '0.40', wkHigh: 345.72,  wkLow: 118.86 },
        'MRK':   { name: 'Merck & Co. Inc.',          price: 89.44,   change: -0.65,  pe: 12.10,  mktCap: '225B',  div: '3.71%', divAmt: '0.81', wkHigh: 134.63,  wkLow: 84.46  },
        'ABT':   { name: 'Abbott Laboratories',       price: 129.83,  change: 0.22,   pe: 23.10,  mktCap: '226B',  div: '1.87%', divAmt: '0.59', wkHigh: 136.15,  wkLow: 97.11  },
        'ABBV':  { name: 'AbbVie Inc.',               price: 196.24,  change: 0.41,   pe: 55.20,  mktCap: '345B',  div: '3.16%', divAmt: '1.64', wkHigh: 214.82,  wkLow: 147.35 },
        'CVX':   { name: 'Chevron Corp.',             price: 161.88,  change: -0.72,  pe: 14.90,  mktCap: '302B',  div: '4.25%', divAmt: '1.71', wkHigh: 171.69,  wkLow: 135.37 },
        'NFLX':  { name: 'Netflix Inc.',              price: 76.97,   change: 1.33,   pe: 50.40,  mktCap: '33B',   div: '0.00%', divAmt: '0.00', wkHigh: 134.12,  wkLow: 75.23  },
        'AMD':   { name: 'Advanced Micro Devices',    price: 206.82,  change: -0.69,  pe: 94.20,  mktCap: '334B',  div: '0.00%', divAmt: '0.00', wkHigh: 267.08,  wkLow: 76.48  },
        'ADBE':  { name: 'Adobe Inc.',                price: 263.93,  change: -0.50,  pe: 23.40,  mktCap: '114B',  div: '0.00%', divAmt: '0.00', wkHigh: 464.99,  wkLow: 251.10 },
        'CRM':   { name: 'Salesforce Inc.',           price: 188.40,  change: -0.50,  pe: 30.10,  mktCap: '181B',  div: '0.00%', divAmt: '0.00', wkHigh: 329.74,  wkLow: 180.24 },
        'INTC':  { name: 'Intel Corp.',               price: 46.62,   change: 0.65,   pe: 0,      mktCap: '199B',  div: '0.86%', divAmt: '0.13', wkHigh: 54.60,   wkLow: 17.67  },
        'CSCO':  { name: 'Cisco Systems Inc.',        price: 62.47,   change: 0.28,   pe: 17.20,  mktCap: '251B',  div: '2.91%', divAmt: '0.41', wkHigh: 64.72,   wkLow: 44.51  },
        'PFE':   { name: 'Pfizer Inc.',               price: 26.18,   change: -0.38,  pe: 9.60,   mktCap: '148B',  div: '6.57%', divAmt: '0.43', wkHigh: 32.44,   wkLow: 22.91  },
        'TMO':   { name: 'Thermo Fisher Scientific',  price: 547.12,  change: -0.90,  pe: 25.70,  mktCap: '213B',  div: '0.29%', divAmt: '0.39', wkHigh: 621.65,  wkLow: 478.35 },
        'DIS':   { name: 'Walt Disney Co.',           price: 111.60,  change: 1.10,   pe: 38.40,  mktCap: '202B',  div: '0.86%', divAmt: '0.50', wkHigh: 123.74,  wkLow: 83.91  },
        'KO':    { name: 'Coca-Cola Co.',             price: 71.08,   change: 0.52,   pe: 25.10,  mktCap: '306B',  div: '2.89%', divAmt: '0.51', wkHigh: 73.53,   wkLow: 56.57  },
        'PEP':   { name: 'PepsiCo Inc.',              price: 150.47,  change: -0.18,  pe: 21.40,  mktCap: '207B',  div: '3.65%', divAmt: '1.42', wkHigh: 183.41,  wkLow: 142.76 },
        'BAC':   { name: 'Bank of America Corp.',     price: 46.72,   change: 0.85,   pe: 14.10,  mktCap: '358B',  div: '2.49%', divAmt: '0.26', wkHigh: 48.08,   wkLow: 32.36  },
        'WFC':   { name: 'Wells Fargo & Co.',         price: 76.34,   change: 0.92,   pe: 13.20,  mktCap: '256B',  div: '2.36%', divAmt: '0.40', wkHigh: 81.49,   wkLow: 49.60  },
        'GS':    { name: 'Goldman Sachs Group',       price: 904.50,  change: 1.50,   pe: 17.64,  mktCap: '271B',  div: '1.50%', divAmt: '3.50', wkHigh: 984.70,  wkLow: 439.38 },
        'MS':    { name: 'Morgan Stanley',            price: 130.47,  change: 0.60,   pe: 20.80,  mktCap: '214B',  div: '3.07%', divAmt: '0.925',wkHigh: 137.00,  wkLow: 90.98  },
        'IBM':   { name: 'IBM Corp.',                 price: 266.41,  change: 0.45,   pe: 38.10,  mktCap: '238B',  div: '2.40%', divAmt: '1.67', wkHigh: 270.22,  wkLow: 161.71 },
        'QCOM':  { name: 'Qualcomm Inc.',             price: 162.40,  change: -1.30,  pe: 14.30,  mktCap: '172B',  div: '2.11%', divAmt: '0.89', wkHigh: 230.63,  wkLow: 143.27 },
        'TXN':   { name: 'Texas Instruments Inc.',    price: 179.55,  change: -0.70,  pe: 28.40,  mktCap: '162B',  div: '2.95%', divAmt: '1.36', wkHigh: 220.39,  wkLow: 152.64 },
        'AMGN':  { name: 'Amgen Inc.',                price: 262.10,  change: 0.30,   pe: 17.80,  mktCap: '140B',  div: '3.51%', divAmt: '2.38', wkHigh: 329.65,  wkLow: 236.87 },
        'HON':   { name: 'Honeywell Intl. Inc.',      price: 219.66,  change: -0.42,  pe: 22.50,  mktCap: '137B',  div: '2.19%', divAmt: '1.13', wkHigh: 235.36,  wkLow: 185.33 },
        'NKE':   { name: 'Nike Inc.',                 price: 74.29,   change: -0.68,  pe: 22.10,  mktCap: '111B',  div: '2.15%', divAmt: '0.40', wkHigh: 97.67,   wkLow: 70.41  },
        'CAT':   { name: 'Caterpillar Inc.',          price: 386.30,  change: 0.55,   pe: 19.30,  mktCap: '186B',  div: '1.58%', divAmt: '1.41', wkHigh: 418.49,  wkLow: 302.40 },
        'MCD':   { name: "McDonald's Corp.",          price: 301.67,  change: 0.33,   pe: 24.50,  mktCap: '217B',  div: '2.49%', divAmt: '1.77', wkHigh: 317.90,  wkLow: 243.97 },
        'SBUX':  { name: 'Starbucks Corp.',           price: 101.29,  change: 1.50,   pe: 32.60,  mktCap: '113B',  div: '2.95%', divAmt: '0.61', wkHigh: 115.07,  wkLow: 72.91  },
        'BA':    { name: 'Boeing Co.',                price: 183.24,  change: -1.80,  pe: 0,      mktCap: '139B',  div: '0.00%', divAmt: '0.00', wkHigh: 211.03,  wkLow: 136.32 },
        'PLTR':  { name: 'Palantir Technologies',     price: 131.72,  change: -5.20,  pe: 208.59, mktCap: '313B',  div: '0.00%', divAmt: '0.00', wkHigh: 207.52,  wkLow: 66.12  },
        'PANW':  { name: 'Palo Alto Networks',        price: 192.48,  change: 0.70,   pe: 52.40,  mktCap: '120B',  div: '0.00%', divAmt: '0.00', wkHigh: 210.20,  wkLow: 152.29 },
        'NOW':   { name: 'ServiceNow Inc.',           price: 1024.35, change: -2.40,  pe: 121.30, mktCap: '207B',  div: '0.00%', divAmt: '0.00', wkHigh: 1198.09, wkLow: 738.00 },
        'ISRG':  { name: 'Intuitive Surgical Inc.',   price: 579.88,  change: -1.10,  pe: 84.60,  mktCap: '205B',  div: '0.00%', divAmt: '0.00', wkHigh: 599.09,  wkLow: 363.75 },
        'AXP':   { name: 'American Express Co.',      price: 301.44,  change: 0.40,   pe: 21.50,  mktCap: '208B',  div: '1.01%', divAmt: '0.82', wkHigh: 325.87,  wkLow: 213.08 },
        'SPGI':  { name: 'S&P Global Inc.',           price: 497.32,  change: 0.22,   pe: 34.20,  mktCap: '157B',  div: '0.81%', divAmt: '0.94', wkHigh: 574.18,  wkLow: 421.72 },
        'BLK':   { name: 'BlackRock Inc.',            price: 1068.00, change: 0.55,   pe: 24.60,  mktCap: '158B',  div: '2.17%', divAmt: '5.21', wkHigh: 1088.11, wkLow: 755.12 },
        'RTX':   { name: 'RTX Corp.',                 price: 130.80,  change: 0.33,   pe: 37.50,  mktCap: '175B',  div: '2.04%', divAmt: '0.63', wkHigh: 138.52,  wkLow: 100.18 },
        'LMT':   { name: 'Lockheed Martin Corp.',     price: 487.26,  change: 0.48,   pe: 17.80,  mktCap: '119B',  div: '2.94%', divAmt: '3.30', wkHigh: 606.99,  wkLow: 414.10 },
        'VZ':    { name: 'Verizon Communications',    price: 40.23,   change: -0.25,  pe: 9.40,   mktCap: '169B',  div: '6.56%', divAmt: '0.67', wkHigh: 44.73,   wkLow: 38.16  },
        'T':     { name: 'AT&T Inc.',                 price: 26.94,   change: 0.15,   pe: 11.80,  mktCap: '193B',  div: '4.82%', divAmt: '0.28', wkHigh: 27.91,   wkLow: 16.11  },
        'NEE':   { name: 'NextEra Energy Inc.',       price: 73.14,   change: 0.55,   pe: 22.30,  mktCap: '149B',  div: '2.87%', divAmt: '0.54', wkHigh: 84.40,   wkLow: 57.88  },
        'DHR':   { name: 'Danaher Corp.',             price: 225.60,  change: -0.82,  pe: 36.40,  mktCap: '163B',  div: '0.49%', divAmt: '0.27', wkHigh: 265.57,  wkLow: 209.72 },
        'UNP':   { name: 'Union Pacific Corp.',       price: 251.90,  change: 0.18,   pe: 21.60,  mktCap: '151B',  div: '2.30%', divAmt: '1.34', wkHigh: 269.80,  wkLow: 214.37 },
        'PM':    { name: 'Philip Morris Intl.',       price: 135.88,  change: 0.62,   pe: 22.10,  mktCap: '212B',  div: '3.72%', divAmt: '1.35', wkHigh: 137.60,  wkLow: 91.20  },
        'COP':   { name: 'ConocoPhillips',            price: 107.18,  change: -0.55,  pe: 12.40,  mktCap: '138B',  div: '2.41%', divAmt: '0.78', wkHigh: 134.80,  wkLow: 95.61  },
        'MU':    { name: 'Micron Technology Inc.',    price: 94.76,   change: -2.30,  pe: 17.20,  mktCap: '105B',  div: '0.42%', divAmt: '0.115',wkHigh: 163.94,  wkLow: 78.20  },
        'AMAT':  { name: 'Applied Materials Inc.',    price: 171.22,  change: -2.80,  pe: 22.60,  mktCap: '142B',  div: '0.93%', divAmt: '0.40', wkHigh: 261.93,  wkLow: 148.10 },
        'LRCX':  { name: 'Lam Research Corp.',        price: 720.45,  change: -3.10,  pe: 22.80,  mktCap: '94B',   div: '1.09%', divAmt: '2.30', wkHigh: 1134.34, wkLow: 648.82 },
        'ADI':   { name: 'Analog Devices Inc.',       price: 209.80,  change: -1.55,  pe: 36.40,  mktCap: '109B',  div: '1.62%', divAmt: '0.92', wkHigh: 246.59,  wkLow: 186.76 },
        'INTU':  { name: 'Intuit Inc.',               price: 571.30,  change: -1.80,  pe: 47.20,  mktCap: '160B',  div: '0.70%', divAmt: '1.04', wkHigh: 721.98,  wkLow: 522.91 },
        'SCHW':  { name: 'Charles Schwab Corp.',      price: 80.94,   change: 0.75,   pe: 28.10,  mktCap: '148B',  div: '1.34%', divAmt: '0.25', wkHigh: 85.74,   wkLow: 56.38  },
        'GILD':  { name: 'Gilead Sciences Inc.',      price: 90.72,   change: 0.35,   pe: 16.40,  mktCap: '113B',  div: '3.17%', divAmt: '0.79', wkHigh: 101.75,  wkLow: 68.70  },
        'REGN':  { name: 'Regeneron Pharmaceuticals', price: 626.82,  change: -0.82,  pe: 21.40,  mktCap: '66B',   div: '0.00%', divAmt: '0.00', wkHigh: 1191.00, wkLow: 578.41 },
        'VRTX':  { name: 'Vertex Pharmaceuticals',    price: 498.22,  change: 0.55,   pe: 32.80,  mktCap: '128B',  div: '0.00%', divAmt: '0.00', wkHigh: 535.24,  wkLow: 364.29 },
        'DE':    { name: 'Deere & Co.',               price: 476.20,  change: -0.45,  pe: 19.50,  mktCap: '129B',  div: '1.47%', divAmt: '1.75', wkHigh: 496.73,  wkLow: 339.40 },
        'ACN':   { name: 'Accenture Plc.',            price: 338.70,  change: -0.55,  pe: 27.30,  mktCap: '212B',  div: '1.77%', divAmt: '1.48', wkHigh: 383.18,  wkLow: 288.16 },
        'WM':    { name: 'Waste Management Inc.',     price: 217.40,  change: 0.28,   pe: 31.20,  mktCap: '88B',   div: '1.48%', divAmt: '0.75', wkHigh: 222.05,  wkLow: 182.72 },
        'ITW':   { name: 'Illinois Tool Works',       price: 258.35,  change: -0.35,  pe: 24.80,  mktCap: '79B',   div: '2.49%', divAmt: '1.40', wkHigh: 271.04,  wkLow: 220.29 },
        'ETN':   { name: 'Eaton Corp. Plc.',          price: 347.80,  change: 0.42,   pe: 31.60,  mktCap: '138B',  div: '0.90%', divAmt: '0.86', wkHigh: 401.83,  wkLow: 240.79 },
        'LOW':   { name: "Lowe's Companies Inc.",     price: 265.12,  change: 0.33,   pe: 23.40,  mktCap: '152B',  div: '1.80%', divAmt: '1.15', wkHigh: 289.10,  wkLow: 210.99 },
        'SYK':   { name: 'Stryker Corp.',             price: 390.55,  change: 0.45,   pe: 33.50,  mktCap: '147B',  div: '0.90%', divAmt: '0.86', wkHigh: 421.33,  wkLow: 302.09 },
        'BDX':   { name: 'Becton Dickinson & Co.',    price: 223.80,  change: -0.30,  pe: 16.80,  mktCap: '64B',   div: '1.75%', divAmt: '0.95', wkHigh: 250.68,  wkLow: 211.50 },
        'MDT':   { name: 'Medtronic Plc.',            price: 87.44,   change: 0.25,   pe: 18.20,  mktCap: '116B',  div: '3.40%', divAmt: '0.70', wkHigh: 92.51,   wkLow: 71.93  },
        'C':     { name: 'Citigroup Inc.',            price: 84.32,   change: 0.92,   pe: 11.80,  mktCap: '161B',  div: '2.85%', divAmt: '0.56', wkHigh: 87.10,   wkLow: 54.80  },
        'MMC':   { name: 'Marsh & McLennan Cos.',     price: 221.60,  change: 0.18,   pe: 28.40,  mktCap: '108B',  div: '1.44%', divAmt: '0.815',wkHigh: 232.25,  wkLow: 185.56 },
        'CB':    { name: 'Chubb Ltd.',                price: 271.50,  change: 0.33,   pe: 13.80,  mktCap: '109B',  div: '1.35%', divAmt: '0.91', wkHigh: 300.12,  wkLow: 225.36 },
        'PLD':   { name: 'Prologis Inc.',             price: 106.78,  change: -0.45,  pe: 35.60,  mktCap: '97B',   div: '3.36%', divAmt: '0.96', wkHigh: 136.80,  wkLow: 96.68  },
        'CI':    { name: 'Cigna Group',               price: 298.45,  change: -0.38,  pe: 14.60,  mktCap: '71B',   div: '1.78%', divAmt: '1.40', wkHigh: 361.78,  wkLow: 268.60 },
        'ELV':   { name: 'Elevance Health Inc.',      price: 442.20,  change: -0.55,  pe: 14.20,  mktCap: '109B',  div: '1.44%', divAmt: '1.63', wkHigh: 581.35,  wkLow: 374.50 },
        'ZTS':   { name: 'Zoetis Inc.',               price: 155.60,  change: -0.72,  pe: 28.80,  mktCap: '71B',   div: '1.10%', divAmt: '0.432',wkHigh: 192.50,  wkLow: 146.43 },
        'BSX':   { name: 'Boston Scientific Corp.',   price: 102.84,  change: 0.32,   pe: 62.30,  mktCap: '147B',  div: '0.00%', divAmt: '0.00', wkHigh: 106.08,  wkLow: 66.22  },
        'FI':    { name: 'Fiserv Inc.',               price: 224.72,  change: 0.40,   pe: 24.50,  mktCap: '137B',  div: '0.00%', divAmt: '0.00', wkHigh: 249.80,  wkLow: 167.36 },
        'LIN':   { name: 'Linde Plc.',                price: 455.30,  change: 0.18,   pe: 30.20,  mktCap: '210B',  div: '1.26%', divAmt: '1.39', wkHigh: 494.99,  wkLow: 396.79 },
        'CMCSA': { name: 'Comcast Corp.',             price: 33.18,   change: -0.30,  pe: 9.20,   mktCap: '127B',  div: '3.31%', divAmt: '0.31', wkHigh: 41.26,   wkLow: 32.24  },
        'IBM':   { name: 'IBM Corp.',                 price: 266.41,  change: 0.45,   pe: 38.10,  mktCap: '238B',  div: '2.40%', divAmt: '1.67', wkHigh: 270.22,  wkLow: 161.71 },
        'TJX':   { name: 'TJX Companies Inc.',        price: 127.30,  change: 0.55,   pe: 30.40,  mktCap: '152B',  div: '1.23%', divAmt: '0.3625',wkHigh: 132.73, wkLow: 97.62  },
        'PGR':   { name: 'Progressive Corp.',         price: 262.40,  change: 0.42,   pe: 18.20,  mktCap: '153B',  div: '0.00%', divAmt: '0.00', wkHigh: 277.91,  wkLow: 175.50 },
        'MDLZ':  { name: 'Mondelez Intl. Inc.',       price: 61.34,   change: -0.18,  pe: 21.60,  mktCap: '80B',   div: '2.87%', divAmt: '0.435',wkHigh: 75.28,   wkLow: 58.54  },
        'ADP':   { name: 'ADP Inc.',                  price: 298.80,  change: 0.35,   pe: 29.30,  mktCap: '121B',  div: '2.07%', divAmt: '1.40', wkHigh: 318.53,  wkLow: 232.95 },
    };

    const tickers = Object.keys(realStockData);
    // Fill remaining spots to ~200 with realistic sector peers
    const extraTickers = ['PYPL','SQ','UBER','LYFT','SNAP','PINS','TWTR','RBLX','COIN','HOOD','DKNG','PENN','MGM','CZR','WYNN','LVS','NCLH','CCL','RCL','DAL','UAL','AAL','LUV','JBLU','ALK','F','GM','RIVN','LCID','NIO','LI','XPEV','BIDU','JD','PDD','BABA','TCOM','NTES','BILI','IQ','TME','FUTU','TIGR','ZM','DOCU','WORK','BOX','DBX','ESTC','MDB','DDOG','NET','FSLY','CRWD','S','OKTA','MIME','PING','SAIL','SAIL','ATEN','ALTR','CALD','FROG','SUMO','NLOK','VNET','CLDR','SPLK','ONEM','HIMS','TDOC','AMWL','ACCD','PHR','GDRX','CLOV','OSGN','SMAR','APPN','MNDY','TTWO','EA','ATVI','ZNGA','SCPL','MZOR','OMCL','NUAN','HLTH','AMPH','CHNG'];
    extraTickers.forEach(t => {
        if (!realStockData[t]) {
            realStockData[t] = { name: t + ' Corp.', price: +(50 + Math.random()*300).toFixed(2), change: +((Math.random()*6)-2.5).toFixed(2), pe: +(10+Math.random()*50).toFixed(1), mktCap: (Math.random()*200+10).toFixed(0)+'B', div: '0.00%', divAmt:'0.00', wkHigh: 0, wkLow: 0 };
            tickers.push(t);
        }
    });

    let stocks = [];
    let cash = 100000;
    let portfolio = {};
    let leverage = 1;
    let selectedStock = null;

    // Initialize Market
    function initMarket() {
        stocks = tickers.map(symbol => {
            const d = realStockData[symbol];
            // For extra tickers with 0 wkHigh/Low, generate them
            const wkHigh = d.wkHigh || +(d.price * (1.2 + Math.random()*0.3)).toFixed(2);
            const wkLow  = d.wkLow  || +(d.price * (0.65 + Math.random()*0.2)).toFixed(2);
            return {
                symbol,
                name: d.name,
                price: d.price,
                change: d.change,
                pe: d.pe,
                mktCap: d.mktCap,
                div: d.div,
                divAmt: d.divAmt,
                wkHigh,
                wkLow
            };
        });
        renderGrid();
        updateUI();
    }

    // --- Rendering ---
    function renderGrid() {
        const query = document.getElementById('search').value.toUpperCase();
        const grid = document.getElementById('grid');
        grid.innerHTML = '';

        // Logic: If search is empty, show top 50. If search has text, search all 500.
        let displayList = [];
        if(!query) {
            displayList = stocks.slice(0, 50);
        } else {
            displayList = stocks.filter(s => s.symbol.includes(query) || s.name.toUpperCase().includes(query)).slice(0, 50);
        }

        displayList.forEach(stock => {
            const isPos = stock.change >= 0;
            const card = document.createElement('div');
            card.className = 'g-card p-4 cursor-pointer flex flex-col justify-between h-32';
            card.onclick = () => openModal(stock);
            
            card.innerHTML = `
                <div class="flex justify-between items-start">
                    <div>
                        <div class="font-bold text-gray-800">${stock.symbol}</div>
                        <div class="text-xs text-gray-500 truncate w-24">${stock.name}</div>
                    </div>
                    <div class="change-pill ${isPos ? 'pill-up' : 'pill-down'}">
                        ${isPos ? '+' : ''}${stock.change.toFixed(2)}%
                    </div>
                </div>
                <div>
                    <div class="text-2xl font-normal text-gray-900">$${stock.price.toFixed(2)}</div>
                </div>
            `;
            grid.appendChild(card);
        });
    }

    // --- Trading Logic ---
    function setLeverage(mult) {
        leverage = mult;
        document.querySelectorAll('.lev-btn').forEach(b => {
            b.classList.remove('bg-white', 'shadow-sm', 'text-gray-800');
            b.classList.add('text-gray-500');
        });
        const btn = document.getElementById('lev' + mult);
        btn.classList.add('bg-white', 'shadow-sm', 'text-gray-800');
        btn.classList.remove('text-gray-500');
        updateUI();
    }

    let sChart = null;
    let detailStock = null;

    function openModal(stock) { openStockDetail(stock); }

    function openStockDetail(stock) {
        detailStock = stock;
        document.getElementById('stockDetailPage').classList.remove('hidden');
        document.body.style.overflow = 'hidden';
        const isPos = stock.change >= 0;
        const changeAmt = (stock.price * Math.abs(stock.change) / 100);
        const color = isPos ? '#81c995' : '#f28b82';
        document.getElementById('detailHeaderSymbol').innerText = stock.symbol;
        document.getElementById('detailName').innerText = stock.name;
        document.getElementById('detailPrice').innerText = stock.price.toFixed(2);
        document.getElementById('detailChangeAmt').style.color = color;
        document.getElementById('detailChangeAmt').innerText = (isPos?'+':'-') + changeAmt.toFixed(2);
        document.getElementById('detailChangePct').style.color = color;
        document.getElementById('detailChangePct').innerText = '(' + Math.abs(stock.change).toFixed(2) + '%)';
        document.getElementById('detailArrow').style.color = color;
        document.getElementById('detailArrow').innerText = isPos ? '‚Üë' : '‚Üì';
        document.getElementById('detailPremarket').innerText = 'Pre-market ' + (stock.price*0.997).toFixed(2) + ' -' + (stock.price*0.003).toFixed(2) + ' (0.35%)';
        document.getElementById('prevCloseVal').innerText = (stock.price - changeAmt*(isPos?1:-1)).toFixed(2);
        document.getElementById('sOpen').innerText = '$' + (stock.price * (1 + (Math.random()*0.005 - 0.002))).toFixed(2);
        document.getElementById('sHigh').innerText = '$' + (stock.price * 1.008).toFixed(2);
        document.getElementById('sLow').innerText = '$' + (stock.price * 0.992).toFixed(2);
        document.getElementById('sMktCap').innerText = stock.mktCap || '‚Äî';
        document.getElementById('sPE').innerText = stock.pe > 0 ? stock.pe.toFixed(2) : 'N/A';
        document.getElementById('s52H').innerText = '$' + (stock.wkHigh || (stock.price * 1.3)).toFixed(2);
        document.getElementById('s52L').innerText = '$' + (stock.wkLow || (stock.price * 0.7)).toFixed(2);
        document.getElementById('sDividend').innerText = stock.div || '0.00%';
        document.getElementById('sDivAmt').innerText = stock.divAmt > 0 ? '$' + stock.divAmt : '‚Äî';
        document.getElementById('tradeSymLabel').innerText = stock.symbol;
        document.getElementById('dBuyPow').innerText = '$' + (cash*leverage).toLocaleString(undefined,{maximumFractionDigits:0});
        document.getElementById('dShares').innerText = portfolio[stock.symbol] || 0;
        document.querySelectorAll('.ctab').forEach(b => { b.className = 'ctab text-sm font-medium px-4 py-3 border-b-2 border-transparent text-gray-400 hover:text-gray-200'; });
        document.querySelector('.ctab').className = 'ctab text-sm font-medium px-4 py-3 border-b-2 border-[#8ab4f8] text-[#8ab4f8]';
        drawChart(stock, '1D');
    }

    function closeStockDetail() {
        document.getElementById('stockDetailPage').classList.add('hidden');
        document.body.style.overflow = '';
        detailStock = null;
        if (sChart) { sChart.destroy(); sChart = null; }
    }

    function closeModal() { closeStockDetail(); }

    function setChartPeriod(period, btn) {
        document.querySelectorAll('.ctab').forEach(b => { b.className = 'ctab text-sm font-medium px-4 py-3 border-b-2 border-transparent text-gray-400 hover:text-gray-200'; });
        btn.className = 'ctab text-sm font-medium px-4 py-3 border-b-2 border-[#8ab4f8] text-[#8ab4f8]';
        if (detailStock) drawChart(detailStock, period);
    }

    function drawChart(stock, period) {
        if (sChart) { sChart.destroy(); sChart = null; }
        const canvas = document.getElementById('stockChart');
        const ctx = canvas.getContext('2d');
        const isNeg = stock.change < 0;
        const lineColor = isNeg ? '#f28b82' : '#81c995';
        let numPts, vol, trend;
        switch(period) {
            case '1D': numPts=78; vol=0.004; trend=isNeg?-0.0008:0.0002; break;
            case '5D': numPts=60; vol=0.007; trend=isNeg?-0.001:0.0005; break;
            case '1M': numPts=30; vol=0.015; trend=isNeg?-0.003:0.004; break;
            case '6M': numPts=26; vol=0.03; trend=isNeg?-0.005:0.008; break;
            case 'YTD': numPts=24; vol=0.025; trend=isNeg?-0.004:0.007; break;
            case '1Y': numPts=52; vol=0.04; trend=isNeg?-0.003:0.006; break;
            case '5Y': numPts=60; vol=0.06; trend=0.008; break;
            default: numPts=120; vol=0.07; trend=0.01; break;
        }
        let p = stock.price, pts = [p];
        for (let i=1; i<numPts; i++) { p = p/(1+trend+(Math.random()-0.5)*vol*2); pts.push(p); }
        pts.reverse();
        const closeIdx = period==='1D' ? Math.floor(numPts*0.62) : -1;
        const mainPts = closeIdx>0 ? pts.slice(0,closeIdx) : pts;
        const afterPts = closeIdx>0 ? pts.slice(closeIdx-1) : [];
        const allP = pts;
        const minY = Math.min(...allP)*0.999, maxY = Math.max(...allP)*1.001;
        const grad = ctx.createLinearGradient(0,0,0,280);
        grad.addColorStop(0, isNeg?'rgba(242,139,130,0.25)':'rgba(129,201,149,0.25)');
        grad.addColorStop(1,'rgba(0,0,0,0)');
        const labels = pts.map((_,i) => {
            if (period!=='1D') return '';
            const mins = 9*60+30+Math.floor((i/numPts)*(8*60));
            const h=Math.floor(mins/60), m=mins%60, ampm=h>=12?'pm':'am', h12=h>12?h-12:h;
            return m===0?`${h12}:00 ${ampm}`:'';
        });
        sChart = new Chart(canvas, {
            type:'line',
            data:{
                labels,
                datasets:[
                    {data:mainPts,borderColor:lineColor,borderWidth:2,fill:closeIdx<0,backgroundColor:grad,tension:0.3,pointRadius:0,pointHoverRadius:4},
                    ...(afterPts.length>0?[{data:[...Array(mainPts.length-1).fill(null),...afterPts],borderColor:'#9aa0a6',borderWidth:2,fill:false,tension:0.3,pointRadius:0,pointHoverRadius:3}]:[])
                ]
            },
            options:{
                responsive:true,maintainAspectRatio:false,animation:{duration:400},
                interaction:{mode:'index',intersect:false},
                plugins:{legend:{display:false},tooltip:{backgroundColor:'#3c3c3e',titleColor:'#ebebf5',bodyColor:'#ebebf5',borderColor:'#636366',borderWidth:1,callbacks:{label:c=>'$'+c.parsed.y.toFixed(2)}}},
                scales:{
                    x:{grid:{color:'rgba(255,255,255,0.05)'},ticks:{color:'#9aa0a6',maxTicksLimit:6,font:{size:11}},border:{display:false}},
                    y:{min:minY,max:maxY,grid:{color:'rgba(255,255,255,0.05)'},ticks:{color:'#9aa0a6',font:{size:11},callback:v=>v.toFixed(0)},border:{display:false}}
                }
            }
        });
    }

    function execDetailTrade(type) {
        if (!detailStock) return;
        const sym = detailStock.symbol, price = detailStock.price, qty = portfolio[sym]||0;
        if (type==='BUY') {
            if (cash*leverage >= price) { cash -= price; portfolio[sym] = qty+1; }
            else { alert('Insufficient Buying Power!'); return; }
        } else {
            if (qty>0) { cash += price; portfolio[sym]=qty-1; if(!portfolio[sym]) delete portfolio[sym]; }
            else { alert('No shares to sell!'); return; }
        }
        document.getElementById('dBuyPow').innerText = '$'+(cash*leverage).toLocaleString(undefined,{maximumFractionDigits:0});
        document.getElementById('dShares').innerText = portfolio[sym]||0;
        updateUI();
        saveUserData();
    }

    function executeTrade(type) { execDetailTrade(type); }

    function triggerCrash() {
        stocks.forEach(s => { s.price = s.price * 0.8; s.change = s.change - 20; });
        renderGrid();
        updateUI();
        saveUserData();
        if(detailStock) { const u=stocks.find(s=>s.symbol===detailStock.symbol); if(u) openStockDetail(u); }
        alert("MARKET CRASH INITIATED: All assets down 20%");
    }

    function updateUI() {
        // buying power logic
        document.getElementById('buyingPower').innerText = (cash * leverage).toLocaleString(undefined, {minimumFractionDigits: 0, maximumFractionDigits: 0});
        
        // Portfolio Calculation
        const list = document.getElementById('portfolioList');
        list.innerHTML = '';
        let portfolioValue = 0;
        
        Object.keys(portfolio).forEach(symbol => {
            const qty = portfolio[symbol];
            const stock = stocks.find(s => s.symbol === symbol);
            if(stock) {
                const val = qty * stock.price;
                portfolioValue += val;
                
                // Add list item
                const div = document.createElement('div');
                div.className = "py-3 flex justify-between items-center";
                div.innerHTML = `
                    <div>
                        <div class="font-medium text-gray-800">${symbol}</div>
                        <div class="text-xs text-gray-500">${qty} shares</div>
                    </div>
                    <div class="text-right">
                        <div class="font-medium">$${val.toLocaleString()}</div>
                        <div class="text-xs ${stock.change >= 0 ? 'text-[#137333]' : 'text-[#c5221f]'}">
                            ${stock.change.toFixed(2)}%
                        </div>
                    </div>
                `;
                div.onclick = () => openStockDetail(stock);
                div.style.cursor = 'pointer';
                list.appendChild(div);
            }
        });

        if (Object.keys(portfolio).length === 0) {
            list.innerHTML = '<div class="text-sm text-gray-500 py-4 text-center italic">Your portfolio is empty.</div>';
        }

        const totalEquity = cash + portfolioValue; // Simplified net worth (cash + assets)
        document.getElementById('netWorth').innerText = totalEquity.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2});
        
        const pl = totalEquity - 100000;
        const plEl = document.getElementById('plDisplay');
        plEl.innerText = (pl >= 0 ? '+' : '') + "$" + pl.toLocaleString() + " (" + ((pl/100000)*100).toFixed(2) + "%)";
        plEl.className = "text-sm font-medium mt-1 " + (pl >= 0 ? "text-[#137333]" : "text-[#c5221f]");
    }

    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    //  AUTH + PERSISTENT STORAGE SYSTEM
    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    let currentUser = null;  // { username, displayName }
    let authMode = 'login';  // 'login' | 'register'

    function toggleAuthMode() {
        authMode = authMode === 'login' ? 'register' : 'login';
        const isReg = authMode === 'register';
        document.getElementById('authTitle').innerText = isReg ? 'Create account' : 'Sign in';
        document.getElementById('authSubtitle').innerText = isReg ? 'Start with $100,000 USD' : 'to your trading account';
        document.getElementById('authSubmitBtn').innerText = isReg ? 'Create Account' : 'Sign In';
        document.getElementById('authToggleText').innerText = isReg ? 'Already have an account?' : "Don't have an account?";
        document.getElementById('authToggleBtn').innerText = isReg ? 'Sign in' : 'Create account';
        document.getElementById('registerNameGroup').classList.toggle('hidden', !isReg);
        document.getElementById('authError').classList.add('hidden');
    }

    function showAuthError(msg) {
        const el = document.getElementById('authError');
        el.innerText = msg;
        el.classList.remove('hidden');
    }

    async function handleAuthSubmit() {
        const username = document.getElementById('authUser').value.trim().toLowerCase();
        const password = document.getElementById('authPass').value;
        const displayName = document.getElementById('authName').value.trim();
        if (!username || !password) return showAuthError('Please fill in all fields.');

        try {
            if (authMode === 'register') {
                if (!displayName) return showAuthError('Please enter a display name.');
                if (username.length < 3) return showAuthError('Username must be at least 3 characters.');
                if (password.length < 4) return showAuthError('Password must be at least 4 characters.');
                // Check if username taken
                let existing = null;
                try { existing = await window.storage.get('user:' + username, true); } catch(e) {}
                if (existing) return showAuthError('Username already taken. Try another.');
                // Create account with $100k
                const userData = { username, displayName, passwordHash: simpleHash(password), cash: 100000, portfolio: {}, joinedAt: Date.now(), totalTrades: 0 };
                await window.storage.set('user:' + username, JSON.stringify(userData), true);
                await loginAs(userData);
            } else {
                let stored = null;
                try { stored = await window.storage.get('user:' + username, true); } catch(e) {}
                if (!stored) return showAuthError('Account not found. Please register.');
                const userData = JSON.parse(stored.value);
                if (userData.passwordHash !== simpleHash(password)) return showAuthError('Incorrect password.');
                await loginAs(userData);
            }
        } catch(e) {
            showAuthError('Storage error: ' + e.message);
        }
    }

    async function loginAs(userData) {
        currentUser = userData;
        cash = userData.cash;
        portfolio = userData.portfolio || {};
        document.getElementById('authOverlay').style.display = 'none';
        document.getElementById('userAvatar').innerText = userData.displayName[0].toUpperCase();
        document.getElementById('userDisplayName').innerText = userData.displayName;
        initMarket();
    }

    function logOut() {
        if (!confirm('Sign out? Your progress is saved.')) return;
        currentUser = null;
        cash = 100000;
        portfolio = {};
        document.getElementById('authOverlay').style.display = 'flex';
        document.getElementById('authUser').value = '';
        document.getElementById('authPass').value = '';
        document.getElementById('authName').value = '';
        document.getElementById('authError').classList.add('hidden');
        authMode = 'login';
        document.getElementById('authTitle').innerText = 'Sign in';
        document.getElementById('authSubtitle').innerText = 'to your trading account';
        document.getElementById('authSubmitBtn').innerText = 'Sign In';
        document.getElementById('authToggleText').innerText = "Don't have an account?";
        document.getElementById('authToggleBtn').innerText = 'Create account';
        document.getElementById('registerNameGroup').classList.add('hidden');
    }

    function simpleHash(str) {
        let h = 0;
        for (let i = 0; i < str.length; i++) { h = (Math.imul(31, h) + str.charCodeAt(i)) | 0; }
        return h.toString(36);
    }

    async function saveUserData() {
        if (!currentUser) return;
        const portfolioValue = Object.keys(portfolio).reduce((sum, sym) => {
            const s = stocks.find(x => x.symbol === sym);
            return sum + (s ? s.price * portfolio[sym] : 0);
        }, 0);
        const totalShares = Object.values(portfolio).reduce((a, b) => a + b, 0);
        currentUser.cash = cash;
        currentUser.portfolio = portfolio;
        currentUser.totalValue = cash + portfolioValue;
        currentUser.profit = (cash + portfolioValue) - 100000;
        currentUser.totalShares = totalShares;
        currentUser.totalTrades = (currentUser.totalTrades || 0) + 1;
        currentUser.lastActive = Date.now();
        await window.storage.set('user:' + currentUser.username, JSON.stringify(currentUser), true);
    }

    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    //  LEADERBOARD
    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    let leaderSort = 'total';

    function openLeaderboard() {
        document.getElementById('leaderboardOverlay').classList.remove('hidden');
        loadLeaderboard();
    }

    function closeLeaderboard() {
        document.getElementById('leaderboardOverlay').classList.add('hidden');
    }

    function setLeaderSort(type) {
        leaderSort = type;
        document.querySelectorAll('.lbsort-btn').forEach(b => {
            b.className = 'lbsort-btn text-xs font-bold px-3 py-2 rounded-t border-b-2 border-transparent text-gray-500 hover:text-gray-700';
        });
        document.getElementById('sort-' + type).className = 'lbsort-btn text-xs font-bold px-3 py-2 rounded-t border-b-2 border-[#1a73e8] text-[#1a73e8] bg-blue-50';
        loadLeaderboard();
    }

    async function loadLeaderboard() {
        const list = document.getElementById('leaderboardList');
        list.innerHTML = '<div class="text-center text-gray-400 py-8">Loading traders...</div>';
        try {
            const keys = await window.storage.list('user:', true);
            if (!keys || !keys.keys || keys.keys.length === 0) {
                list.innerHTML = '<div class="text-center text-gray-400 py-8">No traders yet. Be the first!</div>';
                return;
            }
            const users = [];
            for (const key of keys.keys) {
                try {
                    const r = await window.storage.get(key, true);
                    if (r) {
                        const u = JSON.parse(r.value);
                        if (u.displayName) users.push(u);
                    }
                } catch(e) {}
            }
            // Sort
            if (leaderSort === 'total') users.sort((a, b) => (b.totalValue || 100000) - (a.totalValue || 100000));
            else if (leaderSort === 'profit') users.sort((a, b) => (b.profit || 0) - (a.profit || 0));
            else if (leaderSort === 'stocks') users.sort((a, b) => (b.totalShares || 0) - (a.totalShares || 0));

            const medals = ['ü•á','ü•à','ü•â'];
            const isMe = u => currentUser && u.username === currentUser.username;

            list.innerHTML = users.map((u, i) => {
                const totalVal = u.totalValue || 100000;
                const profit = u.profit || 0;
                const shares = u.totalShares || 0;
                const profitColor = profit >= 0 ? 'text-green-600' : 'text-red-500';
                const profitSign = profit >= 0 ? '+' : '';
                const highlight = isMe(u) ? 'bg-blue-50 border border-blue-200' : 'bg-gray-50 border border-gray-100';
                return `
                <div class="rounded-xl px-4 py-3 mb-3 ${highlight} flex items-center gap-3">
                    <div class="text-2xl w-8 text-center">${medals[i] || '#' + (i+1)}</div>
                    <div class="w-10 h-10 rounded-full bg-[#1a73e8] flex items-center justify-center text-white font-bold text-sm flex-shrink-0">
                        ${u.displayName[0].toUpperCase()}
                    </div>
                    <div class="flex-1 min-w-0">
                        <div class="font-bold text-gray-900 truncate">${u.displayName} ${isMe(u) ? '<span class="text-xs text-blue-500 font-normal">(you)</span>' : ''}</div>
                        <div class="text-xs text-gray-400">@${u.username}</div>
                    </div>
                    <div class="text-right flex-shrink-0">
                        <div class="font-bold text-gray-800 text-sm">$${totalVal.toLocaleString(undefined,{maximumFractionDigits:0})}</div>
                        <div class="text-xs ${profitColor}">${profitSign}$${Math.abs(profit).toLocaleString(undefined,{maximumFractionDigits:0})}</div>
                        <div class="text-xs text-gray-400">${shares} shares</div>
                    </div>
                </div>`;
            }).join('') || '<div class="text-center text-gray-400 py-8">No traders yet.</div>';
        } catch(e) {
            list.innerHTML = '<div class="text-center text-red-400 py-8">Error loading: ' + e.message + '</div>';
        }
    }

    // Show auth on load
    initMarket();

</script>
</body>
</html>
        </template>

        <template id="code-password">
            <!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Password Checker</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <style>
        :root {
            --bg-primary: #f0f2f5;
            --bg-secondary: #ffffff;
            --bg-card: #ffffff;
            --bg-input: #f8f9fa;
            --text-primary: #1a1a2e;
            --text-secondary: #555;
            --text-muted: #888;
            --border-color: #e0e0e0;
            --accent: #667eea;
            --accent-dark: #764ba2;
            --accent-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --shadow: 0 4px 20px rgba(0,0,0,0.08);
            --shadow-hover: 0 8px 30px rgba(0,0,0,0.12);
            --nav-bg: #ffffff;
            --nav-shadow: 0 2px 10px rgba(0,0,0,0.1);
            --tip-bg: #e3f2fd;
            --tip-border: #2196F3;
            --tip-heading: #1976D2;
            --warn-bg: #fff3cd;
            --warn-border: #ffc107;
            --warn-text: #856404;
            --success: #10ac84;
            --danger: #ff4757;
            --fair: #ffa502;
            --good: #3498db;
            --criteria-bg: #f8f9fa;
            --tab-hover: #f0f0f0;
            --quiz-option-bg: #f8f9fa;
            --quiz-option-hover: #e8e8e8;
            --infographic-bg: #f8f9fa;
            --table-header-bg: #f1f3f5;
            --table-stripe: #f8f9fa;
            --breach-safe-bg: #d4edda;
            --breach-safe-text: #155724;
            --breach-found-bg: #f8d7da;
            --breach-found-text: #721c24;
            --toast-bg: #333;
            --toast-text: #fff;
            --scrollbar-track: #f0f0f0;
            --scrollbar-thumb: #ccc;
        }

        [data-theme="dark"] {
            --bg-primary: #0f0f1a;
            --bg-secondary: #1a1a2e;
            --bg-card: #1e1e35;
            --bg-input: #252540;
            --text-primary: #e0e0e0;
            --text-secondary: #b0b0b0;
            --text-muted: #777;
            --border-color: #333355;
            --shadow: 0 4px 20px rgba(0,0,0,0.3);
            --shadow-hover: 0 8px 30px rgba(0,0,0,0.4);
            --nav-bg: #1a1a2e;
            --nav-shadow: 0 2px 10px rgba(0,0,0,0.4);
            --tip-bg: #1a2744;
            --tip-border: #2196F3;
            --tip-heading: #64b5f6;
            --warn-bg: #3d3520;
            --warn-border: #ffc107;
            --warn-text: #ffd54f;
            --criteria-bg: #252540;
            --tab-hover: #252540;
            --quiz-option-bg: #252540;
            --quiz-option-hover: #333355;
            --infographic-bg: #252540;
            --table-header-bg: #252540;
            --table-stripe: #1e1e35;
            --breach-safe-bg: #1a3a2a;
            --breach-safe-text: #66bb6a;
            --breach-found-bg: #3a1a1a;
            --breach-found-text: #ef5350;
            --toast-bg: #e0e0e0;
            --toast-text: #1a1a2e;
            --scrollbar-track: #1a1a2e;
            --scrollbar-thumb: #333355;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            transition: background 0.3s, color 0.3s;
        }

        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: var(--scrollbar-track); }
        ::-webkit-scrollbar-thumb { background: var(--scrollbar-thumb); border-radius: 4px; }

        /* HERO LOGIN */
#loginScreen{
    position:fixed;
    inset:0;
    background:var(--bg-primary);
    display:flex;
    align-items:center;
    justify-content:center;
    z-index:99999;
}

.login-box{
    background:var(--bg-card);
    padding:40px;
    border-radius:16px;
    box-shadow:var(--shadow);
    text-align:center;
    width:320px;
}

.login-box input{
    width:100%;
    padding:12px;
    margin-top:12px;
    border-radius:10px;
    border:2px solid var(--border-color);
    background:var(--bg-input);
}


        /* ===== NAVIGATION ===== */
        .navbar {
            background: var(--nav-bg);
            box-shadow: var(--nav-shadow);
            position: sticky;
            top: 0;
            z-index: 1000;
            transition: background 0.3s, box-shadow 0.3s;
        }

        .nav-inner {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            height: 60px;
        }

        .nav-brand {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 20px;
            font-weight: 700;
            color: var(--text-primary);
            text-decoration: none;
        }

        .nav-brand-icon {
            width: 32px;
            height: 32px;
            background: var(--accent-gradient);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
        }

        .nav-links {
            display: flex;
            gap: 4px;
            list-style: none;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--text-secondary);
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s;
            cursor: pointer;
        }

        .nav-links a:hover {
            background: var(--tab-hover);
            color: var(--accent);
        }

        .nav-links a.active {
            background: var(--accent-gradient);
            color: #fff;
        }

        .nav-right {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .dark-toggle {
            width: 44px;
            height: 24px;
            background: var(--border-color);
            border-radius: 12px;
            border: none;
            cursor: pointer;
            position: relative;
            transition: background 0.3s;
        }

        .dark-toggle::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            top: 2px;
            left: 2px;
            transition: transform 0.3s;
            box-shadow: 0 1px 3px rgba(0,0,0,0.2);
        }

        [data-theme="dark"] .dark-toggle {
            background: var(--accent);
        }

        [data-theme="dark"] .dark-toggle::after {
            transform: translateX(20px);
        }

        .dark-toggle-label {
            font-size: 16px;
            cursor: pointer;
        }

        .hamburger {
            display: none;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--text-primary);
            padding: 4px;
        }

        /* ===== PAGE CONTAINER ===== */
        .page-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 20px 60px;
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        /* ===== DASHBOARD TAB SYSTEM ===== */
        .dashboard-tabs {
            display: flex;
            gap: 4px;
            background: var(--bg-secondary);
            padding: 6px;
            border-radius: 12px;
            margin-bottom: 24px;
            box-shadow: var(--shadow);
        }

        .dashboard-tab {
            flex: 1;
            padding: 10px 16px;
            border: none;
            background: transparent;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            color: var(--text-secondary);
            transition: all 0.2s;
        }

        .dashboard-tab:hover {
            background: var(--tab-hover);
        }

        .dashboard-tab.active {
            background: var(--accent-gradient);
            color: #fff;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
        }

        .dashboard-panel {
            display: none;
        }

        .dashboard-panel.active {
            display: block;
        }

        /* ===== CARD ===== */
        .card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 28px;
            margin-bottom: 24px;
            box-shadow: var(--shadow);
            transition: background 0.3s, box-shadow 0.3s;
        }

        .card:hover {
            box-shadow: var(--shadow-hover);
        }

        .card h2 {
            font-size: 22px;
            margin-bottom: 6px;
            color: var(--text-primary);
        }

        .card h3 {
            font-size: 17px;
            margin-bottom: 12px;
            color: var(--text-primary);
        }

        .card-subtitle {
            color: var(--text-secondary);
            font-size: 14px;
            margin-bottom: 20px;
        }

        /* ===== GRID LAYOUTS ===== */
        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 24px;
        }

        .grid-4 {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
        }

        /* ===== PASSWORD INPUT ===== */
        .input-wrapper {
            position: relative;
            margin-bottom: 20px;
        }

        .input-wrapper input {
            width: 100%;
            padding: 14px 50px 14px 14px;
            border: 2px solid var(--border-color);
            border-radius: 10px;
            font-size: 16px;
            background: var(--bg-input);
            color: var(--text-primary);
            transition: border-color 0.3s, background 0.3s;
        }

        .input-wrapper input:focus {
            outline: none;
            border-color: var(--accent);
        }

        .input-wrapper input::placeholder {
            color: var(--text-muted);
        }

        .toggle-password {
            position: absolute;
            right: 14px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            cursor: pointer;
            font-size: 20px;
            color: var(--text-muted);
        }

        /* ===== STRENGTH METER ===== */
        .strength-meter {
            height: 8px;
            background: var(--border-color);
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 16px;
        }

        .strength-meter-fill {
            height: 100%;
            width: 0%;
            transition: width 0.3s, background 0.3s;
            border-radius: 10px;
        }

        .strength-meter-fill.weak { background: linear-gradient(90deg, #ff4757, #ff6348); width: 25%; }
        .strength-meter-fill.fair { background: linear-gradient(90deg, #ffa502, #ffba00); width: 50%; }
        .strength-meter-fill.good { background: linear-gradient(90deg, #3498db, #2ecc71); width: 75%; }
        .strength-meter-fill.strong { background: linear-gradient(90deg, #10ac84, #00d2d3); width: 100%; }

        .strength-label {
            text-align: center;
            font-weight: bold;
            font-size: 18px;
            margin-bottom: 16px;
            min-height: 27px;
        }

        .strength-label.weak { color: var(--danger); }
        .strength-label.fair { color: var(--fair); }
        .strength-label.good { color: var(--good); }
        .strength-label.strong { color: var(--success); }

        /* ===== CRITERIA ===== */
        .criteria {
            background: var(--criteria-bg);
            border-radius: 10px;
            padding: 20px;
            transition: background 0.3s;
        }

        .criteria h3 {
            margin-bottom: 14px;
            font-size: 15px;
        }

        .criterion {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            padding: 6px 8px;
            border-radius: 6px;
            transition: background 0.3s;
        }

        .criterion-icon {
            width: 22px;
            height: 22px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-size: 12px;
            flex-shrink: 0;
            transition: background 0.3s;
        }

        .criterion-icon.unchecked { background: var(--border-color); color: var(--text-muted); }
        .criterion-icon.checked { background: var(--success); color: white; }

        .criterion-text {
            color: var(--text-secondary);
            font-size: 13px;
        }

        /* ===== CRACK TIME ===== */
        .crack-time {
            background: var(--accent-gradient);
            color: white;
            padding: 20px;
            border-radius: 12px;
            margin-top: 20px;
            text-align: center;
        }

        .crack-time h3 { font-size: 15px; margin-bottom: 12px; opacity: 0.9; }
        .time-display { font-size: 28px; font-weight: bold; margin-bottom: 8px; min-height: 42px; display: flex; align-items: center; justify-content: center; }
        .crack-method { font-size: 12px; opacity: 0.8; }

        /* ===== WARNINGS / TIPS ===== */
        .warning-box {
            background: var(--warn-bg);
            border-left: 4px solid var(--warn-border);
            padding: 14px;
            border-radius: 6px;
            margin-top: 16px;
            transition: background 0.3s;
        }

        .warning-box h4 { color: var(--warn-text); margin-bottom: 6px; font-size: 14px; }
        .warning-box p { color: var(--warn-text); font-size: 13px; }

        .tips {
            background: var(--tip-bg);
            border-left: 4px solid var(--tip-border);
            padding: 14px;
            border-radius: 6px;
            margin-top: 16px;
            position: relative;
            transition: background 0.3s;
        }

        .tips h4 { color: var(--tip-heading); margin-bottom: 8px; font-size: 14px; }
        .tips ul { margin-left: 18px; }
        .tips li { color: var(--text-secondary); font-size: 13px; margin-bottom: 5px; }

        .copy-btn {
            position: absolute;
            top: 12px;
            right: 12px;
            background: var(--accent);
            color: #fff;
            border: none;
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 12px;
            cursor: pointer;
            transition: opacity 0.2s;
        }
        .copy-btn:hover { opacity: 0.85; }

        /* ===== BUTTONS ===== */
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-primary {
            background: var(--accent-gradient);
            color: #fff;
        }

        .btn-primary:hover { opacity: 0.9; transform: translateY(-1px); }

        .btn-outline {
            background: transparent;
            color: var(--accent);
            border: 2px solid var(--accent);
        }

        .btn-outline:hover { background: var(--accent); color: #fff; }

        .btn-danger {
            background: var(--danger);
            color: #fff;
        }

        .btn-danger:hover { opacity: 0.9; }

        .btn-sm {
            padding: 6px 12px;
            font-size: 12px;
        }

        .btn-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        /* ===== GENERATOR ===== */
        .generator-output {
            background: var(--bg-input);
            border: 2px solid var(--border-color);
            border-radius: 10px;
            padding: 16px;
            font-family: 'Courier New', monospace;
            font-size: 20px;
            text-align: center;
            margin-bottom: 16px;
            word-break: break-all;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-primary);
            transition: background 0.3s, border-color 0.3s;
        }

        .gen-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 16px;
            align-items: center;
        }

        .gen-controls label {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 13px;
            color: var(--text-secondary);
            cursor: pointer;
        }

        .gen-controls input[type="checkbox"] {
            accent-color: var(--accent);
        }

        .gen-slider-group {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 16px;
        }

        .gen-slider-group label {
            font-size: 13px;
            color: var(--text-secondary);
            white-space: nowrap;
        }

        .gen-slider-group input[type="range"] {
            flex: 1;
            accent-color: var(--accent);
        }

        .gen-slider-group .slider-value {
            font-weight: bold;
            color: var(--accent);
            min-width: 28px;
            text-align: center;
        }

        /* ===== COMMON PASSWORDS TABLE ===== */
        .common-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 13px;
        }

        .common-table th {
            background: var(--table-header-bg);
            padding: 10px 14px;
            text-align: left;
            font-weight: 600;
            color: var(--text-primary);
            border-bottom: 2px solid var(--border-color);
        }

        .common-table td {
            padding: 10px 14px;
            border-bottom: 1px solid var(--border-color);
            color: var(--text-secondary);
        }

        .common-table tr:nth-child(even) td {
            background: var(--table-stripe);
        }

        .common-table .rank { font-weight: bold; color: var(--danger); }
        .common-table .pw-mask { font-family: monospace; }
        .common-table .crack-instant { color: var(--danger); font-weight: 600; }

        /* ===== BREACH CHECKER ===== */
        .breach-result {
            padding: 16px;
            border-radius: 10px;
            margin-top: 16px;
            text-align: center;
            font-weight: 600;
            font-size: 15px;
        }

        .breach-result.safe { background: var(--breach-safe-bg); color: var(--breach-safe-text); }
        .breach-result.found { background: var(--breach-found-bg); color: var(--breach-found-text); }

        /* ===== QUIZ ===== */
        .quiz-question {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 16px;
            color: var(--text-primary);
        }

        .quiz-progress {
            font-size: 13px;
            color: var(--text-muted);
            margin-bottom: 10px;
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-bottom: 16px;
        }

        .quiz-option {
            padding: 12px 16px;
            background: var(--quiz-option-bg);
            border: 2px solid var(--border-color);
            border-radius: 10px;
            cursor: pointer;
            font-size: 14px;
            color: var(--text-primary);
            transition: all 0.2s;
        }

        .quiz-option:hover { background: var(--quiz-option-hover); border-color: var(--accent); }
        .quiz-option.correct { background: var(--breach-safe-bg); border-color: var(--success); color: var(--breach-safe-text); }
        .quiz-option.incorrect { background: var(--breach-found-bg); border-color: var(--danger); color: var(--breach-found-text); }
        .quiz-option.disabled { pointer-events: none; opacity: 0.7; }

        .quiz-explanation {
            background: var(--tip-bg);
            border-left: 4px solid var(--tip-border);
            padding: 12px;
            border-radius: 6px;
            margin-bottom: 16px;
            font-size: 13px;
            color: var(--text-secondary);
        }

        .quiz-score {
            text-align: center;
            padding: 24px;
        }

        .quiz-score .score-number {
            font-size: 48px;
            font-weight: bold;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .quiz-score .score-label {
            font-size: 16px;
            color: var(--text-secondary);
            margin-top: 8px;
        }

        /* ===== ANIMATED CRACKING VISUALIZATION ===== */
        .crack-viz {
            background: var(--bg-input);
            border-radius: 12px;
            padding: 24px;
            text-align: center;
            margin-bottom: 16px;
            overflow: hidden;
            position: relative;
        }

        .crack-viz-title {
            font-size: 15px;
            font-weight: 600;
            margin-bottom: 16px;
            color: var(--text-primary);
        }

        .crack-animation-container {
            font-family: 'Courier New', monospace;
            font-size: 24px;
            color: var(--accent);
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            letter-spacing: 4px;
            margin-bottom: 16px;
        }

        .crack-char {
            display: inline-block;
            transition: color 0.1s;
        }

        .crack-char.found { color: var(--success); }
        .crack-char.searching { color: var(--danger); animation: charCycle 0.1s infinite; }

        @keyframes charCycle {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        .crack-stats {
            display: flex;
            justify-content: center;
            gap: 24px;
            font-size: 12px;
            color: var(--text-muted);
        }

        .crack-stat-value {
            font-size: 18px;
            font-weight: bold;
            color: var(--text-primary);
        }

        /* ===== INFOGRAPHIC STATS ===== */
        .stat-card {
            background: var(--infographic-bg);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s;
        }

        .stat-card:hover { transform: translateY(-4px); box-shadow: var(--shadow-hover); }

        .stat-icon {
            font-size: 32px;
            margin-bottom: 8px;
        }

        .stat-number {
            font-size: 28px;
            font-weight: 800;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .stat-desc {
            font-size: 12px;
            color: var(--text-muted);
            margin-top: 4px;
        }

        /* ===== COMPARISON TABLE ===== */
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 13px;
        }

        .comparison-table th {
            background: var(--table-header-bg);
            padding: 12px;
            text-align: center;
            font-weight: 600;
            color: var(--text-primary);
            border-bottom: 2px solid var(--border-color);
        }

        .comparison-table td {
            padding: 12px;
            text-align: center;
            border-bottom: 1px solid var(--border-color);
            color: var(--text-secondary);
        }

        .comparison-table tr:nth-child(even) td { background: var(--table-stripe); }

        .strength-badge {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 600;
            color: #fff;
        }

        .strength-badge.weak { background: var(--danger); }
        .strength-badge.fair { background: var(--fair); }
        .strength-badge.good { background: var(--good); }
        .strength-badge.strong { background: var(--success); }

        /* ===== PASSWORD HINTS (LOCAL STORAGE) ===== */
        .hints-list {
            list-style: none;
        }

        .hint-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px 14px;
            background: var(--bg-input);
            border-radius: 8px;
            margin-bottom: 8px;
            transition: background 0.3s;
        }

        .hint-item-info {
            flex: 1;
        }

        .hint-label {
            font-weight: 600;
            font-size: 14px;
            color: var(--text-primary);
        }

        .hint-text {
            font-size: 12px;
            color: var(--text-muted);
            margin-top: 2px;
        }

        .hint-delete {
            background: none;
            border: none;
            color: var(--danger);
            cursor: pointer;
            font-size: 16px;
            padding: 4px 8px;
        }

        /* ===== PASSWORD HISTORY ===== */
        .history-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px 14px;
            background: var(--bg-input);
            border-radius: 8px;
            margin-bottom: 6px;
            font-size: 13px;
            transition: background 0.3s;
        }

        .history-password {
            font-family: monospace;
            color: var(--text-primary);
        }

        .history-strength {
            font-size: 11px;
        }

        .history-time {
            color: var(--text-muted);
            font-size: 11px;
        }

        /* ===== FAQ ===== */
        .faq-item {
            border: 1px solid var(--border-color);
            border-radius: 10px;
            margin-bottom: 10px;
            overflow: hidden;
            transition: border-color 0.3s;
        }

        .faq-question {
            padding: 16px 20px;
            font-weight: 600;
            font-size: 15px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: var(--text-primary);
            transition: background 0.2s;
        }

        .faq-question:hover { background: var(--tab-hover); }

        .faq-arrow {
            font-size: 12px;
            transition: transform 0.3s;
            color: var(--text-muted);
        }

        .faq-item.open .faq-arrow { transform: rotate(180deg); }

        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s, padding 0.3s;
        }

        .faq-item.open .faq-answer {
            max-height: 300px;
            padding: 0 20px 16px;
        }

        .faq-answer p {
            font-size: 14px;
            color: var(--text-secondary);
            line-height: 1.7;
        }

        /* ===== ABOUT ===== */
        .about-hero {
            background: var(--accent-gradient);
            color: white;
            border-radius: 16px;
            padding: 40px;
            margin-bottom: 24px;
            text-align: center;
        }

        .about-hero h2 { font-size: 28px; margin-bottom: 10px; }
        .about-hero p { font-size: 16px; opacity: 0.9; max-width: 600px; margin: 0 auto; }

        .about-section { margin-bottom: 32px; }
        .about-section h3 { margin-bottom: 12px; font-size: 18px; }
        .about-section p, .about-section li { font-size: 14px; color: var(--text-secondary); line-height: 1.7; }
        .about-section ul { margin-left: 20px; margin-top: 8px; }
        .about-section li { margin-bottom: 6px; }

        /* ===== CONTACT ===== */
        .contact-form {
            display: flex;
            flex-direction: column;
            gap: 14px;
        }

        .contact-form label {
            font-size: 13px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .contact-form input,
        .contact-form textarea {
            padding: 12px;
            border: 2px solid var(--border-color);
            border-radius: 10px;
            font-size: 14px;
            background: var(--bg-input);
            color: var(--text-primary);
            font-family: inherit;
            transition: border-color 0.3s, background 0.3s;
        }

        .contact-form input:focus,
        .contact-form textarea:focus {
            outline: none;
            border-color: var(--accent);
        }

        .contact-form textarea {
            min-height: 120px;
            resize: vertical;
        }

        /* ===== TOAST ===== */
        .toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--toast-bg);
            color: var(--toast-text);
            padding: 12px 24px;
            border-radius: 10px;
            font-size: 14px;
            z-index: 9999;
            opacity: 0;
            transition: all 0.3s;
            white-space: nowrap;
        }

        .toast.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }

        /* ===== FOOTER ===== */
        .footer {
            text-align: center;
            padding: 20px;
            font-size: 13px;
            color: var(--text-muted);
        }

        /* ===== RESPONSIVE ===== */
        @media (max-width: 900px) {
            .grid-3, .grid-4 { grid-template-columns: 1fr 1fr; }
        }

        @media (max-width: 700px) {
            .nav-links { display: none; }
            .nav-links.open {
                display: flex;
                flex-direction: column;
                position: absolute;
                top: 60px;
                left: 0;
                right: 0;
                background: var(--nav-bg);
                padding: 10px;
                box-shadow: var(--nav-shadow);
                z-index: 999;
            }
            .hamburger { display: block; }
            .grid-2, .grid-3, .grid-4 { grid-template-columns: 1fr; }
            .dashboard-tabs { flex-wrap: wrap; }
            .dashboard-tab { flex: none; width: calc(50% - 2px); }
            .card { padding: 20px; }
            .about-hero { padding: 28px 20px; }
            .about-hero h2 { font-size: 22px; }
            .crack-animation-container { font-size: 18px; letter-spacing: 2px; }
        }

        @media (max-width: 420px) {
            .page-container { padding: 16px 10px 40px; }
            .nav-inner { padding: 0 12px; }
            .nav-brand { font-size: 17px; }
        }

        /* LOGIN SCREEN */
#loginScreen{
    position:fixed;
    inset:0;
    background:var(--bg-primary);
    display:flex;
    align-items:center;
    justify-content:center;
    z-index:99999;
}

.login-box{
    background:var(--bg-card);
    padding:40px;
    border-radius:16px;
    box-shadow:var(--shadow);
    text-align:center;
    width:320px;
}

.login-box input{
    width:100%;
    padding:12px;
    margin-top:12px;
    border-radius:10px;
    border:2px solid var(--border-color);
    background:var(--bg-input);
}
        /* HERO AUTH */
#authScreen{
    position:fixed;
    inset:0;
    background:var(--bg-primary);
    display:flex;
    align-items:center;
    justify-content:center;
    z-index:99999;
}

.hero-box{
    background:var(--bg-card);
    padding:50px;
    border-radius:20px;
    box-shadow:var(--shadow);
    text-align:center;
    max-width:500px;
    width:90%;
}

.hero-box h1{
    font-size:32px;
    margin-bottom:16px;
    background:var(--accent-gradient);
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
}

.hero-sub{
    font-size:15px;
    color:var(--text-secondary);
    margin-bottom:30px;
    line-height:1.6;
}

.hero-box input{
    width:100%;
    padding:12px;
    margin-bottom:12px;
    border-radius:10px;
    border:2px solid var(--border-color);
    background:var(--bg-input);
}

.auth-switch{
    font-size:13px;
    color:var(--text-muted);
    margin-top:8px;
}

.auth-switch span{
    color:var(--accent);
    cursor:pointer;
    font-weight:600;
}

    </style>
</head>
<body>
<!-- HERO AUTH SCREEN -->
<div id="authScreen">
  <div class="hero-box">
    <h1>Password Checker</h1>
    <p class="hero-sub">
      Our mission is simple:
      <br>
      <strong>Make password security understandable, powerful, and effortless.</strong>
      <br><br>
      Test strength. Generate secure passwords.
      Learn how hackers think ‚Äî and stay ahead.
    </p>

    <div id="authArea">
      <!-- Login Form -->
      <div id="loginForm">
        <input id="loginEmail" type="email" placeholder="Email">
        <input id="loginPassword" type="password" placeholder="Password">
        <button class="btn btn-primary" onclick="login()">Log In</button>
        <p class="auth-switch">No account? <span onclick="showSignup()">Sign Up</span></p>
      </div>

      <!-- Signup Form -->
      <div id="signupForm" style="display:none;">
        <input id="signupEmail" type="email" placeholder="Email">
        <input id="signupPassword" type="password" placeholder="Password">
        <button class="btn btn-primary" onclick="signup()">Sign Up</button>
        <p class="auth-switch">Already have an account? <span onclick="showLogin()">Log In</span></p>
      </div>
    </div>

    <button id="logoutBtn" class="btn btn-outline" style="display:none;margin-top:16px;" onclick="logout()">Sign Out</button>
  </div>
</div>

<!-- NAVIGATION -->
<nav class="navbar">
    <div class="nav-inner">
        <a class="nav-brand" href="#" onclick="switchPage('home')">
            <div class="nav-brand-icon">S</div>
            SecurePass
        </a>
        <ul class="nav-links" id="navLinks">
            <li><a class="active" onclick="switchPage('home')" data-page="home">Home</a></li>
            <li><a onclick="switchPage('about')" data-page="about">About</a></li>
            <li><a onclick="switchPage('faq')" data-page="faq">FAQ</a></li>
            <li><a onclick="switchPage('contact')" data-page="contact">Contact</a></li>
        </ul>
        <div class="nav-right">
            <span class="dark-toggle-label" id="themeIcon">&#9790;</span>
            <button class="dark-toggle" id="darkToggle" aria-label="Toggle dark mode"></button>
            <button class="hamburger" id="hamburger" aria-label="Toggle menu">&#9776;</button>
        </div>
    </div>
</nav>

<!-- TOAST -->
<div class="toast" id="toast"></div>

<!-- ==================== HOME PAGE ==================== -->
<div class="page-container">
<div class="page active" id="page-home">

    <!-- Dashboard Tabs -->
    <div class="dashboard-tabs">
        <button class="dashboard-tab active" onclick="switchDashTab('checker')">Password Checker</button>
        <button class="dashboard-tab" onclick="switchDashTab('generator')">Generator</button>
        <button class="dashboard-tab" onclick="switchDashTab('security')">Security Tools</button>
        <button class="dashboard-tab" onclick="switchDashTab('learn')">Learn</button>
    </div>

    <!-- ===== CHECKER PANEL ===== -->
    <div class="dashboard-panel active" id="panel-checker">
        <div class="grid-2">
            <div>
                <div class="card">
                    <h2>Password Strength Checker</h2>
                    <p class="card-subtitle">Test how strong your password is</p>

                    <div class="input-wrapper">
                        <input type="password" id="password" placeholder="Enter a password to test..." autocomplete="off">
                        <button class="toggle-password" id="toggleBtn">&#128065;</button>
                    </div>

                    <div class="strength-meter">
                        <div class="strength-meter-fill" id="strengthMeter"></div>
                    </div>
                    <div class="strength-label" id="strengthLabel"></div>

                    <div class="criteria">
                        <h3>Password Requirements:</h3>
                        <div class="criterion" id="lengthCriterion"><div class="criterion-icon unchecked">&#10003;</div><div class="criterion-text">At least 8 characters (12+ recommended)</div></div>
                        <div class="criterion" id="uppercaseCriterion"><div class="criterion-icon unchecked">&#10003;</div><div class="criterion-text">Contains uppercase letters (A-Z)</div></div>
                        <div class="criterion" id="lowercaseCriterion"><div class="criterion-icon unchecked">&#10003;</div><div class="criterion-text">Contains lowercase letters (a-z)</div></div>
                        <div class="criterion" id="numberCriterion"><div class="criterion-icon unchecked">&#10003;</div><div class="criterion-text">Contains numbers (0-9)</div></div>
                        <div class="criterion" id="symbolCriterion"><div class="criterion-icon unchecked">&#10003;</div><div class="criterion-text">Contains symbols (!@#$%^&amp;*)</div></div>
                        <div class="criterion" id="uniqueCriterion"><div class="criterion-icon unchecked">&#10003;</div><div class="criterion-text">Avoids common patterns</div></div>
                    </div>

                    <div class="tips">
                        <button class="copy-btn" onclick="copyTips()">Copy Tips</button>
                        <h4>Pro Tips:</h4>
                        <ul id="proTips">
                            <li>Use a unique password for each account</li>
                            <li>Consider using a passphrase (e.g., "Coffee!Morning@2024")</li>
                            <li>Avoid personal information (birthdays, names)</li>
                            <li>Use a password manager to remember complex passwords</li>
                        </ul>
                    </div>

                    <div class="crack-time" id="crackTimeBox" style="display:none;">
                        <h3>Estimated Time to Crack</h3>
                        <div class="time-display" id="crackTime">Instant</div>
                        <div class="crack-method">Using a modern GPU (brute force attack)</div>
                    </div>

                    <div class="warning-box" id="warningBox" style="display:none;">
                        <h4>Security Note</h4>
                        <p id="warningText"></p>
                    </div>
                </div>
            </div>
            <div>
                <!-- Password History -->
                <div class="card">
                    <h3>Password Test History</h3>
                    <p class="card-subtitle">Previously tested passwords (stored locally)</p>
                    <div id="passwordHistory"></div>
                    <div class="btn-group" style="margin-top:12px;">
                        <button class="btn btn-danger btn-sm" onclick="clearHistory()">Clear History</button>
                    </div>
                </div>

                <!-- Password Hints -->
                <div class="card">
                    <h3>Saved Password Hints</h3>
                    <p class="card-subtitle">Save hints (not actual passwords) for your accounts</p>
                    <div style="display:flex;gap:8px;margin-bottom:12px;flex-wrap:wrap;">
                        <input type="text" id="hintLabel" placeholder="Account name" style="flex:1;min-width:100px;padding:8px 12px;border:2px solid var(--border-color);border-radius:8px;font-size:13px;background:var(--bg-input);color:var(--text-primary);">
                        <input type="text" id="hintText" placeholder="Your hint" style="flex:2;min-width:140px;padding:8px 12px;border:2px solid var(--border-color);border-radius:8px;font-size:13px;background:var(--bg-input);color:var(--text-primary);">
                        <button class="btn btn-primary btn-sm" onclick="addHint()">Save</button>
                    </div>
                    <ul class="hints-list" id="hintsList"></ul>
                </div>
            </div>
        </div>
    </div>

    <!-- ===== GENERATOR PANEL ===== -->
    <div class="dashboard-panel" id="panel-generator">
        <div class="card">
            <h2>Password Generator</h2>
            <p class="card-subtitle">Create strong random passwords instantly</p>

            <div class="generator-output" id="genOutput">Click Generate to create a password</div>

            <div class="gen-slider-group">
                <label for="genLength">Length:</label>
                <input type="range" id="genLength" min="8" max="64" value="16">
                <span class="slider-value" id="genLengthVal">16</span>
            </div>

            <div class="gen-controls">
                <label><input type="checkbox" id="genUpper" checked> Uppercase (A-Z)</label>
                <label><input type="checkbox" id="genLower" checked> Lowercase (a-z)</label>
                <label><input type="checkbox" id="genNumbers" checked> Numbers (0-9)</label>
                <label><input type="checkbox" id="genSymbols" checked> Symbols (!@#$)</label>
            </div>

            <div class="btn-group">
                <button class="btn btn-primary" onclick="generatePassword()">Generate Password</button>
                <button class="btn btn-outline" onclick="copyGenerated()">Copy to Clipboard</button>
            </div>

            <div class="strength-meter" style="margin-top:20px;">
                <div class="strength-meter-fill" id="genStrengthMeter"></div>
            </div>
            <div class="strength-label" id="genStrengthLabel"></div>
        </div>
    </div>

    <!-- ===== SECURITY TOOLS PANEL ===== -->
    <div class="dashboard-panel" id="panel-security">
        <div class="grid-2">
            <div>
                <!-- Breach Checker -->
                <div class="card">
                    <h2>Breach Check Simulator</h2>
                    <p class="card-subtitle">Check if a password appears in known breach databases (educational simulation)</p>
                    <div class="input-wrapper">
                        <input type="password" id="breachInput" placeholder="Enter a password to check..." autocomplete="off">
                        <button class="toggle-password" onclick="toggleBreachVis()">&#128065;</button>
                    </div>
                    <button class="btn btn-primary" onclick="checkBreach()" style="width:100%;">Check for Breaches</button>
                    <div id="breachResult"></div>
                    <div class="tips" style="margin-top:16px;">
                        <h4>How Breach Checking Works:</h4>
                        <ul>
                            <li>Real services like Have I Been Pwned use hash prefixes</li>
                            <li>Your full password is never sent over the network</li>
                            <li>This simulation checks against a local list of common passwords</li>
                        </ul>
                    </div>
                </div>

                <!-- Common Passwords -->
                <div class="card">
                    <h2>Common Passwords to Avoid</h2>
                    <p class="card-subtitle">These passwords are cracked instantly by hackers</p>
                    <div style="overflow-x:auto;">
                        <table class="common-table">
                            <thead>
                                <tr><th>Rank</th><th>Password</th><th>Time to Crack</th><th>Used By</th></tr>
                            </thead>
                            <tbody>
                                <tr><td class="rank">#1</td><td class="pw-mask">123456</td><td class="crack-instant">Instant</td><td>23M+ users</td></tr>
                                <tr><td class="rank">#2</td><td class="pw-mask">password</td><td class="crack-instant">Instant</td><td>9M+ users</td></tr>
                                <tr><td class="rank">#3</td><td class="pw-mask">123456789</td><td class="crack-instant">Instant</td><td>7.8M+ users</td></tr>
                                <tr><td class="rank">#4</td><td class="pw-mask">12345678</td><td class="crack-instant">Instant</td><td>5.5M+ users</td></tr>
                                <tr><td class="rank">#5</td><td class="pw-mask">qwerty</td><td class="crack-instant">Instant</td><td>4.5M+ users</td></tr>
                                <tr><td class="rank">#6</td><td class="pw-mask">abc123</td><td class="crack-instant">Instant</td><td>3.2M+ users</td></tr>
                                <tr><td class="rank">#7</td><td class="pw-mask">111111</td><td class="crack-instant">Instant</td><td>3.1M+ users</td></tr>
                                <tr><td class="rank">#8</td><td class="pw-mask">password123</td><td class="crack-instant">Instant</td><td>2.9M+ users</td></tr>
                                <tr><td class="rank">#9</td><td class="pw-mask">letmein</td><td class="crack-instant">Instant</td><td>2.4M+ users</td></tr>
                                <tr><td class="rank">#10</td><td class="pw-mask">admin</td><td class="crack-instant">Instant</td><td>2.1M+ users</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div>
                <!-- Cracking Animation -->
                <div class="card">
                    <h2>How Hackers Crack Passwords</h2>
                    <p class="card-subtitle">Watch a simulated brute-force attack in action</p>

                    <div class="crack-viz">
                        <div class="crack-viz-title">Brute Force Attack Simulation</div>
                        <div class="crack-animation-container" id="crackAnim">_ _ _ _ _ _</div>
                        <div class="crack-stats">
                            <div><div class="crack-stat-value" id="crackAttempts">0</div>Attempts</div>
                            <div><div class="crack-stat-value" id="crackSpeed">0</div>Per Second</div>
                            <div><div class="crack-stat-value" id="crackElapsed">0s</div>Elapsed</div>
                        </div>
                    </div>

                    <div class="input-wrapper">
                        <input type="text" id="crackTarget" placeholder="Enter a short password to crack (max 4 chars)" maxlength="4" autocomplete="off" style="padding-right:14px;">
                    </div>
                    <div class="btn-group">
                        <button class="btn btn-primary" onclick="startCrackDemo()">Start Simulation</button>
                        <button class="btn btn-outline" onclick="stopCrackDemo()">Stop</button>
                    </div>
                    <p style="font-size:12px;color:var(--text-muted);margin-top:12px;">This demonstrates why short, simple passwords are vulnerable. Limited to 4 characters for performance.</p>
                </div>

                <!-- Comparison Table -->
                <div class="card">
                    <h2>Password Strength Comparison</h2>
                    <p class="card-subtitle">See how different passwords stack up</p>
                    <div style="overflow-x:auto;">
                        <table class="comparison-table">
                            <thead>
                                <tr><th>Password Type</th><th>Example</th><th>Length</th><th>Time to Crack</th><th>Strength</th></tr>
                            </thead>
                            <tbody>
                                <tr><td>Numbers only</td><td><code>38291</code></td><td>5</td><td>Instant</td><td><span class="strength-badge weak">Weak</span></td></tr>
                                <tr><td>Common word</td><td><code>dragon</code></td><td>6</td><td>Instant</td><td><span class="strength-badge weak">Weak</span></td></tr>
                                <tr><td>Simple mix</td><td><code>Pass1234</code></td><td>8</td><td>~1 minute</td><td><span class="strength-badge fair">Fair</span></td></tr>
                                <tr><td>Better mix</td><td><code>Tr0ub4dor!</code></td><td>10</td><td>~6 hours</td><td><span class="strength-badge good">Good</span></td></tr>
                                <tr><td>Passphrase</td><td><code>correct-horse-battery</code></td><td>22</td><td>~700 years</td><td><span class="strength-badge good">Good</span></td></tr>
                                <tr><td>Full mix</td><td><code>kX9#mL2$vR7@nQ4</code></td><td>15</td><td>Millions of years</td><td><span class="strength-badge strong">Strong</span></td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ===== LEARN PANEL ===== -->
    <div class="dashboard-panel" id="panel-learn">
        <div class="grid-2">
            <div>
                <!-- Infographic Stats -->
                <div class="card">
                    <h2>Password Security Statistics</h2>
                    <p class="card-subtitle">Eye-opening numbers about password breaches</p>
                    <div class="grid-2" style="margin-top:16px;">
                        <div class="stat-card">
                            <div class="stat-icon">&#128274;</div>
                            <div class="stat-number">81%</div>
                            <div class="stat-desc">of data breaches are caused by weak or reused passwords</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">&#9200;</div>
                            <div class="stat-number">&lt;1s</div>
                            <div class="stat-desc">to crack a 6-character lowercase password</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">&#128176;</div>
                            <div class="stat-number">$4.45M</div>
                            <div class="stat-desc">average cost of a data breach in 2023</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">&#128101;</div>
                            <div class="stat-number">59%</div>
                            <div class="stat-desc">of people reuse passwords across multiple sites</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">&#128202;</div>
                            <div class="stat-number">10B+</div>
                            <div class="stat-desc">passwords leaked in the largest breach compilation ever</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">&#128272;</div>
                            <div class="stat-number">300B</div>
                            <div class="stat-desc">passwords projected to be in use worldwide by 2025</div>
                        </div>
                    </div>
                </div>
            </div>
            <div>
                <!-- Security Quiz -->
                <div class="card">
                    <h2>Password Security Quiz</h2>
                    <p class="card-subtitle">Test your knowledge about password security</p>
                    <div id="quizContainer"></div>
                    <div id="quizScore" style="display:none;"></div>
                    <div class="btn-group" style="margin-top:12px;">
                        <button class="btn btn-primary" id="quizNextBtn" onclick="nextQuizQuestion()">Start Quiz</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>

<!-- ==================== ABOUT PAGE ==================== -->
<div class="page" id="page-about">
    <div class="about-hero">
        <h2>About SecurePass</h2>
        <p>Understanding password security is the first line of defense in protecting your digital life.</p>
    </div>

    <div class="grid-2">
        <div class="card">
            <div class="about-section">
                <h3>How the Password Checker Works</h3>
                <p>Our password strength checker evaluates your password against multiple security criteria in real time, entirely in your browser:</p>
                <ul>
                    <li><strong>Length analysis:</strong> Checks if your password meets minimum length requirements (8 characters) and the recommended length (12+).</li>
                    <li><strong>Character diversity:</strong> Verifies the presence of uppercase letters, lowercase letters, numbers, and special symbols.</li>
                    <li><strong>Pattern detection:</strong> Scans for common patterns like "password", "qwerty", "123456", and other frequently breached passwords.</li>
                    <li><strong>Crack time estimation:</strong> Calculates how long a modern GPU cluster would need to brute-force your password based on character pool size and length.</li>
                </ul>
            </div>
        </div>
        <div class="card">
            <div class="about-section">
                <h3>Why Password Security Matters</h3>
                <p>In today's digital world, passwords are the gatekeepers to our personal and financial information. Here's why strong passwords are critical:</p>
                <ul>
                    <li><strong>Data breaches are common:</strong> Billions of passwords have been exposed in breaches from major companies.</li>
                    <li><strong>Credential stuffing:</strong> Hackers use leaked passwords to try accessing other accounts, exploiting password reuse.</li>
                    <li><strong>Brute force attacks:</strong> Modern GPUs can test over 100 billion password combinations per second.</li>
                    <li><strong>Identity theft:</strong> Weak passwords can lead to unauthorized access to email, banking, and social media accounts.</li>
                    <li><strong>Financial loss:</strong> The average cost of a data breach exceeds $4 million for organizations.</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="card">
        <div class="about-section">
            <h3>Your Privacy</h3>
            <p>Your security is our priority. All password analysis happens entirely in your browser using JavaScript. No passwords are ever transmitted to any server, stored remotely, or logged. The password history and hints features use your browser's local storage, which only you can access. You can clear this data at any time.</p>
        </div>
    </div>

    <div class="card">
        <div class="about-section">
            <h3>Best Practices for Password Security</h3>
            <div class="grid-2" style="margin-top:12px;">
                <div>
                    <p><strong>Do:</strong></p>
                    <ul>
                        <li>Use a unique password for every account</li>
                        <li>Make passwords at least 12 characters long</li>
                        <li>Use a mix of letters, numbers, and symbols</li>
                        <li>Consider using passphrases (random words strung together)</li>
                        <li>Enable two-factor authentication (2FA)</li>
                        <li>Use a reputable password manager</li>
                    </ul>
                </div>
                <div>
                    <p><strong>Don't:</strong></p>
                    <ul>
                        <li>Reuse passwords across multiple sites</li>
                        <li>Use personal info (birthdays, pet names, etc.)</li>
                        <li>Use dictionary words without modifications</li>
                        <li>Share passwords with others via text or email</li>
                        <li>Store passwords in plain text files</li>
                        <li>Use sequential keyboard patterns (qwerty, 12345)</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ==================== FAQ PAGE ==================== -->
<div class="page" id="page-faq">
    <div class="card">
        <h2>Frequently Asked Questions</h2>
        <p class="card-subtitle">Common questions about password security</p>

        <div style="margin-top:20px;" id="faqList">
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">What makes a password strong?<span class="faq-arrow">&#9660;</span></div>
                <div class="faq-answer"><p>A strong password is at least 12 characters long and includes a mix of uppercase letters, lowercase letters, numbers, and special symbols. It should not contain dictionary words, personal information, or common patterns like "123456" or "qwerty". The key factors are length, complexity, and unpredictability.</p></div>
            </div>
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">How do hackers crack passwords?<span class="faq-arrow">&#9660;</span></div>
                <div class="faq-answer"><p>Hackers use several methods: <strong>Brute force</strong> tries every possible combination. <strong>Dictionary attacks</strong> try common words and variations. <strong>Credential stuffing</strong> uses passwords leaked from other breaches. <strong>Rainbow tables</strong> use precomputed hash lookups. <strong>Social engineering</strong> tricks people into revealing passwords. Modern GPUs can try over 100 billion combinations per second.</p></div>
            </div>
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">Is a longer password always better?<span class="faq-arrow">&#9660;</span></div>
                <div class="faq-answer"><p>Generally yes, length is the most important factor. Each additional character exponentially increases the number of possible combinations. A 16-character password with mixed characters is virtually uncrackable with current technology. However, "aaaaaaaaaaaaaaaa" is still weak despite being long. Length combined with variety is the winning formula.</p></div>
            </div>
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">Should I use a password manager?<span class="faq-arrow">&#9660;</span></div>
                <div class="faq-answer"><p>Absolutely. Password managers generate and store unique, complex passwords for each of your accounts. You only need to remember one strong master password. This eliminates the temptation to reuse passwords, which is one of the biggest security risks. Popular options include Bitwarden, 1Password, and KeePass.</p></div>
            </div>
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">What is two-factor authentication (2FA)?<span class="faq-arrow">&#9660;</span></div>
                <div class="faq-answer"><p>Two-factor authentication adds a second layer of security beyond your password. After entering your password, you must also provide a second factor such as a code from an authenticator app, a text message, or a physical security key. Even if someone steals your password, they cannot access your account without the second factor.</p></div>
            </div>
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">Are passphrases better than passwords?<span class="faq-arrow">&#9660;</span></div>
                <div class="faq-answer"><p>Passphrases can be excellent. A passphrase like "correct-horse-battery-staple" is long, making it resistant to brute force, and easier to remember than a random string. The key is using truly random words, not common phrases or song lyrics. Adding numbers and symbols between words makes passphrases even stronger.</p></div>
            </div>
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">How often should I change my passwords?<span class="faq-arrow">&#9660;</span></div>
                <div class="faq-answer"><p>Modern security guidance from NIST recommends changing passwords only when there is evidence of a breach, rather than on a fixed schedule. Frequent mandatory changes often lead to weaker passwords. Focus instead on creating strong, unique passwords and monitoring for breaches using services like Have I Been Pwned.</p></div>
            </div>
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">What is credential stuffing?<span class="faq-arrow">&#9660;</span></div>
                <div class="faq-answer"><p>Credential stuffing is when attackers take email/password combinations leaked from one breach and automatically try them on thousands of other websites. Since many people reuse passwords, these attacks are highly effective. This is the primary reason you should never reuse passwords across different accounts.</p></div>
            </div>
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">Is my password checked securely on this site?<span class="faq-arrow">&#9660;</span></div>
                <div class="faq-answer"><p>Yes. All password analysis on this site runs entirely in your browser using JavaScript. Your password is never sent to any server, logged, or stored remotely. The optional history and hints features use your browser's local storage, which you can clear at any time. You can verify this by checking the page source code.</p></div>
            </div>
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">What should I do if my password was in a data breach?<span class="faq-arrow">&#9660;</span></div>
                <div class="faq-answer"><p>Immediately change the password on the affected account and any other accounts where you used the same password. Enable two-factor authentication. Check your accounts for unauthorized activity. Consider using a password manager to generate unique passwords for all your accounts going forward.</p></div>
            </div>
        </div>
    </div>
</div>

<!-- ==================== CONTACT PAGE ==================== -->
<div class="page" id="page-contact">
    <div class="grid-2">
        <div class="card">
            <h2>Contact Us</h2>
            <p class="card-subtitle">Have questions or feedback? We'd love to hear from you.</p>
            <form class="contact-form"
      action="mailto:arush2011jain@gmail.com"
      method="POST"
      enctype="text/plain">
                <div>
                    <label for="contactName">Name</label>
                    <input type="text" id="contactName" placeholder="Your name" required>
                </div>
                <div>
                    <label for="contactEmail">Email</label>
                    <input type="email" id="contactEmail" placeholder="your@email.com" required>
                </div>
                <div>
                    <label for="contactSubject">Subject</label>
                    <input type="text" id="contactSubject" placeholder="What's this about?" required>
                </div>
                <div>
                    <label for="contactMessage">Message</label>
                    <textarea id="contactMessage" placeholder="Your message..." required></textarea>
                </div>
                <button class="btn btn-primary" type="submit">Send Message</button>
            </form>
        </div>
        <div class="card">
            <h3>Get in Touch</h3>
            <div class="about-section">
                <p>SecurePass is an educational tool designed to help people understand password security. We believe that awareness is the first step toward better security practices.</p>
                <p style="margin-top:12px;">If you have suggestions for new features, found a bug, or want to collaborate, please reach out using the form.</p>
                <div class="tips" style="margin-top:16px;">
                    <h4>Quick Links:</h4>
                    <ul>
                        <li><a href="#" onclick="switchPage('faq')" style="color:var(--accent)">Frequently Asked Questions</a></li>
                        <li><a href="#" onclick="switchPage('about')" style="color:var(--accent)">About SecurePass</a></li>
                        <li><a href="#" onclick="switchPage('home')" style="color:var(--accent)">Password Checker Tool</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

</div>

<!-- FOOTER -->
<div class="footer">Made By Arush &bull; SecurePass - Password Security Dashboard</div>

<!-- ==================== JAVASCRIPT ==================== -->
<script>
// ===== NAVIGATION =====
function switchPage(page) {
    document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
    document.getElementById('page-' + page).classList.add('active');
    document.querySelectorAll('.nav-links a').forEach(a => {
        a.classList.toggle('active', a.dataset.page === page);
    });
    document.getElementById('navLinks').classList.remove('open');
    window.scrollTo({ top: 0, behavior: 'smooth' });
}

document.getElementById('hamburger').addEventListener('click', () => {
    document.getElementById('navLinks').classList.toggle('open');
});

// ===== DARK MODE =====
const darkToggle = document.getElementById('darkToggle');
const themeIcon = document.getElementById('themeIcon');

function setTheme(dark) {
    document.documentElement.setAttribute('data-theme', dark ? 'dark' : 'light');
    themeIcon.innerHTML = dark ? '&#9728;' : '&#9790;';
    localStorage.setItem('theme', dark ? 'dark' : 'light');
}

darkToggle.addEventListener('click', () => {
    const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
    setTheme(!isDark);
});

// Initialize theme
if (localStorage.getItem('theme') === 'dark') setTheme(true);

// ===== DASHBOARD TABS =====
function switchDashTab(tab) {
    document.querySelectorAll('.dashboard-panel').forEach(p => p.classList.remove('active'));
    document.querySelectorAll('.dashboard-tab').forEach(t => t.classList.remove('active'));
    document.getElementById('panel-' + tab).classList.add('active');
    event.target.classList.add('active');
}

// ===== TOAST =====
function showToast(msg) {
    const toast = document.getElementById('toast');
    toast.textContent = msg;
    toast.classList.add('show');
    setTimeout(() => toast.classList.remove('show'), 2500);
}

// ===== COPY TIPS =====
function copyTips() {
    const tips = Array.from(document.querySelectorAll('#proTips li')).map(li => '- ' + li.textContent).join('\n');
    navigator.clipboard.writeText(tips).then(() => showToast('Tips copied to clipboard!'));
}

// ===== PASSWORD CHECKER =====
const passwordInput = document.getElementById('password');
const toggleBtn = document.getElementById('toggleBtn');
const strengthMeter = document.getElementById('strengthMeter');
const strengthLabel = document.getElementById('strengthLabel');

toggleBtn.addEventListener('click', () => {
    const type = passwordInput.type === 'password' ? 'text' : 'password';
    passwordInput.type = type;
    toggleBtn.innerHTML = type === 'password' ? '&#128065;' : '&#128584;';
});

const commonPatterns = [
    'password', '12345', 'qwerty', 'abc123', 'letmein',
    'welcome', 'monkey', '111111', 'admin', 'login',
    '123456789', 'password123', 'qwertyuiop', 'asdfghjkl',
    'dragon', 'master', 'trustno1', 'sunshine', 'princess',
    'football', 'shadow', 'superman', 'iloveyou', 'charlie'
];

function getPasswordScore(password) {
    const checks = {
        length: password.length >= 8,
        lengthStrong: password.length >= 12,
        uppercase: /[A-Z]/.test(password),
        lowercase: /[a-z]/.test(password),
        number: /[0-9]/.test(password),
        symbol: /[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(password),
        unique: !commonPatterns.some(p => password.toLowerCase().includes(p))
    };
    let score = 0;
    if (checks.length) score++;
    if (checks.lengthStrong) score++;
    if (checks.uppercase) score++;
    if (checks.lowercase) score++;
    if (checks.number) score++;
    if (checks.symbol) score++;
    if (checks.unique) score++;
    return { score, checks };
}

function getStrengthClass(score) {
    if (score <= 2) return 'weak';
    if (score <= 4) return 'fair';
    if (score <= 6) return 'good';
    return 'strong';
}

function getStrengthText(score) {
    if (score <= 2) return 'Weak Password';
    if (score <= 4) return 'Fair Password';
    if (score <= 6) return 'Good Password';
    return 'Strong Password';
}

function checkPassword() {
    const password = passwordInput.value;
    const { score, checks } = getPasswordScore(password);

    updateCriterion('lengthCriterion', checks.length);
    updateCriterion('uppercaseCriterion', checks.uppercase);
    updateCriterion('lowercaseCriterion', checks.lowercase);
    updateCriterion('numberCriterion', checks.number);
    updateCriterion('symbolCriterion', checks.symbol);
    updateCriterion('uniqueCriterion', checks.unique);

    if (password.length === 0) {
        strengthMeter.className = 'strength-meter-fill';
        strengthLabel.textContent = '';
        strengthLabel.className = 'strength-label';
    } else {
        const cls = getStrengthClass(score);
        strengthMeter.className = 'strength-meter-fill ' + cls;
        strengthLabel.textContent = getStrengthText(score);
        strengthLabel.className = 'strength-label ' + cls;
    }

    calculateCrackTime(password, checks);

    // Add to history
    if (password.length > 0) {
        clearTimeout(window._historyTimeout);
        window._historyTimeout = setTimeout(() => addToHistory(password, score), 800);
    }
}

function calculateCrackTime(password, checks) {
    const crackTimeBox = document.getElementById('crackTimeBox');
    const crackTimeDisplay = document.getElementById('crackTime');
    const warningBox = document.getElementById('warningBox');
    const warningText = document.getElementById('warningText');

    if (password.length === 0) {
        crackTimeBox.style.display = 'none';
        warningBox.style.display = 'none';
        return;
    }

    let charPool = 0;
    if (checks.lowercase) charPool += 26;
    if (checks.uppercase) charPool += 26;
    if (checks.number) charPool += 10;
    if (checks.symbol) charPool += 32;
    if (charPool === 0) charPool = 26;

    const combinations = Math.pow(charPool, password.length);
    const attemptsPerSecond = 100000000000;
    const secondsToCrack = combinations / (2 * attemptsPerSecond);
    const timeString = formatTime(secondsToCrack);

    crackTimeDisplay.textContent = timeString;
    crackTimeBox.style.display = 'block';

    if (secondsToCrack < 1) {
        warningBox.style.display = 'block';
        warningText.textContent = 'This password can be cracked almost instantly! Add more characters and variety.';
    } else if (secondsToCrack < 3600) {
        warningBox.style.display = 'block';
        warningText.textContent = 'This password is very weak and can be cracked quickly. Make it longer and more complex.';
    } else if (secondsToCrack < 86400) {
        warningBox.style.display = 'block';
        warningText.textContent = 'This password could be cracked in less than a day. Consider making it stronger.';
    } else if (secondsToCrack < 31536000) {
        warningBox.style.display = 'block';
        warningText.textContent = 'This password is moderately secure but could be improved with more length or complexity.';
    } else {
        warningBox.style.display = 'none';
    }
}

function formatTime(seconds) {
    if (seconds < 0.001) return 'Instant';
    if (seconds < 1) return 'Less than 1 second';
    if (seconds < 60) return Math.round(seconds) + ' seconds';
    if (seconds < 3600) { const m = Math.round(seconds / 60); return m + (m === 1 ? ' minute' : ' minutes'); }
    if (seconds < 86400) { const h = Math.round(seconds / 3600); return h + (h === 1 ? ' hour' : ' hours'); }
    if (seconds < 2592000) { const d = Math.round(seconds / 86400); return d + (d === 1 ? ' day' : ' days'); }
    if (seconds < 31536000) { const mo = Math.round(seconds / 2592000); return mo + (mo === 1 ? ' month' : ' months'); }
    if (seconds < 3153600000) { const y = Math.round(seconds / 31536000); return y + (y === 1 ? ' year' : ' years'); }
    if (seconds < 31536000000000) { const t = Math.round(seconds / 31536000000); return t + ' thousand years'; }
    if (seconds < 31536000000000000) { const mil = Math.round(seconds / 31536000000000); return mil + ' million years'; }
    return 'Billions of years';
}

function updateCriterion(id, isMet) {
    const icon = document.getElementById(id).querySelector('.criterion-icon');
    icon.classList.toggle('checked', isMet);
    icon.classList.toggle('unchecked', !isMet);
}

passwordInput.addEventListener('input', checkPassword);
checkPassword();

// ===== PASSWORD GENERATOR =====
const genLengthSlider = document.getElementById('genLength');
const genLengthVal = document.getElementById('genLengthVal');
genLengthSlider.addEventListener('input', () => { genLengthVal.textContent = genLengthSlider.value; });

function generatePassword() {
    const length = parseInt(genLengthSlider.value);
    const useUpper = document.getElementById('genUpper').checked;
    const useLower = document.getElementById('genLower').checked;
    const useNumbers = document.getElementById('genNumbers').checked;
    const useSymbols = document.getElementById('genSymbols').checked;

    let chars = '';
    if (useUpper) chars += 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
    if (useLower) chars += 'abcdefghijklmnopqrstuvwxyz';
    if (useNumbers) chars += '0123456789';
    if (useSymbols) chars += '!@#$%^&*()_+-=[]{}|;:,.<>?';

    if (chars.length === 0) {
        showToast('Please select at least one character type');
        return;
    }

    let password = '';
    const array = new Uint32Array(length);
    crypto.getRandomValues(array);
    for (let i = 0; i < length; i++) {
        password += chars[array[i] % chars.length];
    }

    document.getElementById('genOutput').textContent = password;

    // Update generator strength
    const { score } = getPasswordScore(password);
    const cls = getStrengthClass(score);
    const genMeter = document.getElementById('genStrengthMeter');
    const genLabel = document.getElementById('genStrengthLabel');
    genMeter.className = 'strength-meter-fill ' + cls;
    genLabel.textContent = getStrengthText(score);
    genLabel.className = 'strength-label ' + cls;
}

function copyGenerated() {
    const text = document.getElementById('genOutput').textContent;
    if (text === 'Click Generate to create a password') {
        showToast('Generate a password first');
        return;
    }
    navigator.clipboard.writeText(text).then(() => showToast('Password copied to clipboard!'));
}
function enterSite(){
    document.getElementById("loginScreen").style.display="none";
}

// ===== BREACH CHECKER (SIMULATION) =====
const breachedPasswords = [
    'password', '123456', '123456789', '12345678', 'qwerty', 'abc123',
    '111111', 'password123', 'letmein', 'admin', 'welcome', 'monkey',
    'dragon', 'master', 'trustno1', 'iloveyou', 'princess', 'football',
    'shadow', 'sunshine', 'superman', 'charlie', 'michael', 'ashley',
    'password1', '1234567', '12345', '1234567890', 'passw0rd', 'baseball',
    'login', 'starwars', 'qwerty123', 'solo', 'whatever', 'flower',
    'hunter2', '654321', 'cookie', 'banana', 'summer', 'batman',
    'access', 'hello', 'freedom', 'whatever', 'thunder', 'ginger'
];

function toggleBreachVis() {
    const input = document.getElementById('breachInput');
    input.type = input.type === 'password' ? 'text' : 'password';
}

function checkBreach() {
    const password = document.getElementById('breachInput').value.trim();
    const resultDiv = document.getElementById('breachResult');

    if (!password) {
        resultDiv.innerHTML = '';
        showToast('Please enter a password to check');
        return;
    }

    // Simulate checking delay
    resultDiv.innerHTML = '<div style="text-align:center;padding:16px;color:var(--text-muted);">Checking...</div>';

    setTimeout(() => {
        const isBreached = breachedPasswords.includes(password.toLowerCase());
        if (isBreached) {
            resultDiv.innerHTML = '<div class="breach-result found">&#9888; This password has been found in data breaches! It is NOT safe to use.</div>';
        } else {
            resultDiv.innerHTML = '<div class="breach-result safe">&#10004; This password was NOT found in our simulated breach database. This does not guarantee it is safe in real-world breach databases.</div>';
        }
    }, 600);
}

// ===== CRACKING ANIMATION =====
let crackInterval = null;
let crackStartTime = null;
let crackAttemptCount = 0;

function startCrackDemo() {
    const target = document.getElementById('crackTarget').value;
    if (!target || target.length === 0) {
        showToast('Enter a password to crack (1-4 characters)');
        return;
    }
    if (target.length > 4) {
        showToast('Max 4 characters for the simulation');
        return;
    }

    stopCrackDemo();

    const chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*';
    const targetLower = target;
    const found = new Array(target.length).fill(false);
    const current = new Array(target.length).fill('_');
    crackAttemptCount = 0;
    crackStartTime = Date.now();

    const animEl = document.getElementById('crackAnim');
    const attemptsEl = document.getElementById('crackAttempts');
    const speedEl = document.getElementById('crackSpeed');
    const elapsedEl = document.getElementById('crackElapsed');

    crackInterval = setInterval(() => {
        crackAttemptCount++;
        let allFound = true;

        for (let i = 0; i < target.length; i++) {
            if (!found[i]) {
                const randChar = chars[Math.floor(Math.random() * chars.length)];
                current[i] = randChar;
                if (randChar === target[i]) {
                    found[i] = true;
                }
                allFound = allFound && found[i];
            }
        }

        let display = '';
        for (let i = 0; i < target.length; i++) {
            if (found[i]) {
                display += '<span class="crack-char found">' + current[i] + '</span>';
            } else {
                display += '<span class="crack-char searching">' + current[i] + '</span>';
            }
            if (i < target.length - 1) display += ' ';
        }
        animEl.innerHTML = display;

        const elapsed = (Date.now() - crackStartTime) / 1000;
        attemptsEl.textContent = crackAttemptCount.toLocaleString();
        speedEl.textContent = Math.round(crackAttemptCount / Math.max(elapsed, 0.01)).toLocaleString();
        elapsedEl.textContent = elapsed.toFixed(1) + 's';

        if (allFound) {
            clearInterval(crackInterval);
            crackInterval = null;
            showToast('Password cracked in ' + crackAttemptCount.toLocaleString() + ' attempts!');
        }
    }, 30);
}

function stopCrackDemo() {
    if (crackInterval) {
        clearInterval(crackInterval);
        crackInterval = null;
    }
}

// ===== PASSWORD HISTORY =====
function getHistory() {
    try { return JSON.parse(localStorage.getItem('pw_history') || '[]'); } catch { return []; }
}

function saveHistory(hist) {
    localStorage.setItem('pw_history', JSON.stringify(hist.slice(0, 20)));
}

function addToHistory(password, score) {
    const hist = getHistory();
    // Don't add duplicates of the latest entry
    if (hist.length > 0 && hist[0].masked === maskPassword(password)) return;
    hist.unshift({
        masked: maskPassword(password),
        strength: getStrengthClass(score),
        strengthText: getStrengthText(score),
        time: new Date().toLocaleTimeString()
    });
    saveHistory(hist);
    renderHistory();
}

function maskPassword(pw) {
    if (pw.length <= 3) return '*'.repeat(pw.length);
    return pw[0] + '*'.repeat(pw.length - 2) + pw[pw.length - 1];
}

function renderHistory() {
    const hist = getHistory();
    const container = document.getElementById('passwordHistory');
    if (hist.length === 0) {
        container.innerHTML = '<p style="font-size:13px;color:var(--text-muted);text-align:center;padding:16px;">No passwords tested yet.</p>';
        return;
    }
    container.innerHTML = hist.map(h =>
        '<div class="history-item">' +
        '<span class="history-password">' + h.masked + '</span>' +
        '<span class="history-strength"><span class="strength-badge ' + h.strength + '">' + h.strengthText + '</span></span>' +
        '<span class="history-time">' + h.time + '</span>' +
        '</div>'
    ).join('');
}

function clearHistory() {
    localStorage.removeItem('pw_history');
    renderHistory();
    showToast('History cleared');
}

renderHistory();

// ===== PASSWORD HINTS (LOCAL STORAGE) =====
function getHints() {
    try { return JSON.parse(localStorage.getItem('pw_hints') || '[]'); } catch { return []; }
}

function saveHints(hints) {
    localStorage.setItem('pw_hints', JSON.stringify(hints));
}

function addHint() {
    const label = document.getElementById('hintLabel').value.trim();
    const text = document.getElementById('hintText').value.trim();
    if (!label || !text) {
        showToast('Please fill in both fields');
        return;
    }
    const hints = getHints();
    hints.push({ label, text, id: Date.now() });
    saveHints(hints);
    document.getElementById('hintLabel').value = '';
    document.getElementById('hintText').value = '';
    renderHints();
    showToast('Hint saved!');
}

function deleteHint(id) {
    const hints = getHints().filter(h => h.id !== id);
    saveHints(hints);
    renderHints();
}

function renderHints() {
    const hints = getHints();
    const container = document.getElementById('hintsList');
    if (hints.length === 0) {
        container.innerHTML = '<li style="font-size:13px;color:var(--text-muted);text-align:center;padding:12px;">No hints saved yet.</li>';
        return;
    }
    container.innerHTML = hints.map(h =>
        '<li class="hint-item">' +
        '<div class="hint-item-info"><div class="hint-label">' + escapeHtml(h.label) + '</div><div class="hint-text">' + escapeHtml(h.text) + '</div></div>' +
        '<button class="hint-delete" onclick="deleteHint(' + h.id + ')" title="Delete hint">&#10005;</button>' +
        '</li>'
    ).join('');
}

function escapeHtml(str) {
    const div = document.createElement('div');
    div.textContent = str;
    return div.innerHTML;
}

renderHints();

// ===== SECURITY QUIZ =====
const quizQuestions = [
    {
        q: 'Which of the following is the strongest password?',
        options: ['password123', 'P@ssw0rd!', 'Tr0ub4dor&3', 'correct-horse-battery-staple'],
        correct: 3,
        explanation: 'The passphrase "correct-horse-battery-staple" is the strongest because its length (28 characters) creates an astronomically large number of combinations, even though it uses only lowercase letters and hyphens.'
    },
    {
        q: 'How many attempts per second can a modern GPU make when cracking passwords?',
        options: ['1 million', '100 million', '100 billion', '1 trillion'],
        correct: 2,
        explanation: 'Modern high-end GPUs can test approximately 100 billion password hashes per second for common hash types like MD5, making short and simple passwords extremely vulnerable.'
    },
    {
        q: 'What is credential stuffing?',
        options: ['Using random passwords everywhere', 'Testing leaked passwords on other sites', 'Adding extra characters to a password', 'Encrypting passwords twice'],
        correct: 1,
        explanation: 'Credential stuffing is an attack where hackers take email/password pairs from one breach and automatically try them on thousands of other websites, exploiting password reuse.'
    },
    {
        q: 'Which security practice is MOST important?',
        options: ['Changing passwords monthly', 'Using unique passwords for each account', 'Using only numbers and letters', 'Making passwords exactly 8 characters'],
        correct: 1,
        explanation: 'Using unique passwords for each account is most important because it prevents a single breach from compromising all your accounts. Modern guidance no longer recommends frequent password changes.'
    },
    {
        q: 'What makes two-factor authentication (2FA) effective?',
        options: ['It makes passwords longer', 'It requires something you know AND something you have', 'It encrypts your password', 'It changes your password automatically'],
        correct: 1,
        explanation: '2FA requires two different types of verification: something you know (password) and something you have (phone, security key). Even if your password is stolen, the attacker cannot access your account without the second factor.'
    },
    {
        q: 'Which of these is the biggest risk to password security?',
        options: ['Using special characters', 'Password reuse across sites', 'Having a password manager', 'Using passphrases'],
        correct: 1,
        explanation: 'Password reuse is the biggest risk because when one site gets breached, attackers can access all your other accounts that use the same password through credential stuffing attacks.'
    },
    {
        q: 'What is a rainbow table attack?',
        options: ['A colorful phishing page', 'Precomputed hash lookups to reverse passwords', 'A brute force method using colors', 'An attack on display monitors'],
        correct: 1,
        explanation: 'Rainbow tables are precomputed tables of password hashes. Attackers compare stolen hashes against these tables to find the original passwords without brute-forcing each one. This is why salted hashing is important.'
    },
    {
        q: 'How long would it take to crack an 8-character password using only lowercase letters?',
        options: ['About 1 year', 'About 1 day', 'About 1 second', 'About 1 hour'],
        correct: 2,
        explanation: 'With 26 lowercase letters and 8 characters, there are about 208 billion combinations. At 100 billion attempts per second, this can be cracked in about 1 second.'
    }
];

let quizState = { current: -1, score: 0, answered: false };

function nextQuizQuestion() {
    quizState.current++;
    quizState.answered = false;

    if (quizState.current >= quizQuestions.length) {
        showQuizScore();
        return;
    }

    const q = quizQuestions[quizState.current];
    const container = document.getElementById('quizContainer');
    const btn = document.getElementById('quizNextBtn');
    btn.textContent = 'Next Question';
    btn.style.display = 'none';

    container.innerHTML =
        '<div class="quiz-progress">Question ' + (quizState.current + 1) + ' of ' + quizQuestions.length + '</div>' +
        '<div class="quiz-question">' + q.q + '</div>' +
        '<div class="quiz-options">' +
        q.options.map((opt, i) =>
            '<div class="quiz-option" onclick="answerQuiz(' + i + ')" data-idx="' + i + '">' + opt + '</div>'
        ).join('') +
        '</div>' +
        '<div class="quiz-explanation" id="quizExplanation" style="display:none;"></div>';
}

function answerQuiz(idx) {
    if (quizState.answered) return;
    quizState.answered = true;

    const q = quizQuestions[quizState.current];
    const options = document.querySelectorAll('.quiz-option');

    options.forEach((opt, i) => {
        opt.classList.add('disabled');
        if (i === q.correct) opt.classList.add('correct');
        if (i === idx && i !== q.correct) opt.classList.add('incorrect');
    });

    if (idx === q.correct) quizState.score++;

    const explEl = document.getElementById('quizExplanation');
    explEl.style.display = 'block';
    explEl.textContent = q.explanation;

    document.getElementById('quizNextBtn').style.display = 'inline-block';
}

function showQuizScore() {
    const container = document.getElementById('quizContainer');
    const pct = Math.round((quizState.score / quizQuestions.length) * 100);
    let message = '';
    if (pct >= 80) message = 'Excellent! You have strong password security knowledge.';
    else if (pction.';

    container.innerHTML =
        '<div class="quiz-score">' +
        '<div class="score-number">' + quizState.score + '/' + quizQuestions.length + '</div>' +
        '<div class="score-label">' + pct + '% Correct</div>' +
        '<p style="margin-top:16px;color:var(--text-secondary);font-size:14px;">' + message + '</p>' +
        '</div>';

    const btn = document.getElementById('quizNextBtn');
    btn.textContent = 'Restart Quiz';
    btn.style.display = 'inline-block';
    btn.onclick = () => {
        quizState = { current: -1, score: 0, answered: false };
        btn.onclick = nextQuizQuestion;
        btn.textContent = 'Start Quiz';
        container.innerHTML = '<p style="font-size:14px;color:var(--text-secondary);text-align:center;padding:16px;">Click "Start Quiz" to test your knowledge about password security.</p>';
    };
}

// Initialize quiz
document.getElementById('quizContainer').innerHTML = '<p style="font-size:14px;color:var(--text-secondary);text-align:center;padding:16px;">Click "Start Quiz" to test your knowledge about password security.</p>';

// ===== FAQ TOGGLE =====
function toggleFaq(el) {
    el.parentElement.classList.toggle('open');
}

// ===== CONTACT FORM =====
function submitContact(e) {
    e.preventDefault();
    showToast('Message sent! (Demonstration only)');
    document.getElementById('contactForm').reset();
}
    // AUTH SYSTEM
function showSignup(){
    document.getElementById("loginForm").style.display="none";
    document.getElementById("signupForm").style.display="block";
}

function showLogin(){
    document.getElementById("signupForm").style.display="none";
    document.getElementById("loginForm").style.display="block";
}

function signup(){
    const email = document.getElementById("signupEmail").value;
    const password = document.getElementById("signupPassword").value;

    if(!email || !password){
        alert("Please fill all fields.");
        return;
    }

    localStorage.setItem("user", JSON.stringify({email,password}));
    localStorage.setItem("loggedIn","true");
    checkAuth();
}

function login(){
    const email = document.getElementById("loginEmail").value;
    const password = document.getElementById("loginPassword").value;
    const stored = JSON.parse(localStorage.getItem("user"));

    if(stored && stored.email===email && stored.password===password){
        localStorage.setItem("loggedIn","true");
        checkAuth();
    } else {
        alert("Invalid credentials.");
    }
}

function logout(){
    localStorage.removeItem("loggedIn");
    document.getElementById("authScreen").style.display="flex";
    document.getElementById("logoutBtn").style.display="none";
}

function checkAuth(){
    if(localStorage.getItem("loggedIn")==="true"){
        document.getElementById("authScreen").style.display="none";
        document.getElementById("logoutBtn").style.display="block";
    }
}

// On page load
checkAuth();

</script>
</body>
</html>
             </template>
    
    <script>
        function showApp(appId) {
            document.querySelectorAll(".app-iframe").forEach(f => f.classList.remove("active"));
            document.querySelectorAll(".nav-link").forEach(b => b.classList.remove("active"));
            document.getElementById(appId).classList.add("active");
            document.getElementById("btn-" + appId).classList.add("active");
        }

        window.onload = () => {
            document.getElementById("home").srcdoc = document.getElementById("code-home").innerHTML;
            document.getElementById("elon").srcdoc = document.getElementById("code-elon").innerHTML;
            document.getElementById("nuke").srcdoc = document.getElementById("code-nuke").innerHTML;
            document.getElementById("clicker").srcdoc = document.getElementById("code-clicker").innerHTML;
            document.getElementById("bucket").srcdoc = document.getElementById("code-bucket").innerHTML;
            document.getElementById("trolley").srcdoc = document.getElementById("code-trolley").innerHTML;
            document.getElementById("time").srcdoc = document.getElementById("code-time").innerHTML;
            document.getElementById("stock").srcdoc = document.getElementById("code-stock").innerHTML;
            document.getElementById("password").srcdoc = document.getElementById("code-password").innerHTML;
        };
    </script>
</body>
</html>
