<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ARUSH.FUN | The Simulation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;900&family=Space+Grotesk:wght@700&family=VT323&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { --neon: #00ff99; --void: #050505; --retro-gray: #c0c0c0; }
        body { font-family: 'Plus Jakarta Sans', sans-serif; background: #f0f2f5; overflow-x: hidden; }
        .neal-card { border: 4px solid #000; border-radius: 16px; transition: 0.2s cubic-bezier(0.25, 1, 0.5, 1); cursor: pointer; position: relative; overflow: hidden; }
        .neal-card:hover { transform: translateY(-8px) rotate(-1deg); box-shadow: 8px 8px 0px #000; }
        .brutal-btn { border: 3px solid #000; box-shadow: 4px 4px 0px #000; transition: 0.1s; background: white; font-weight: 900; text-transform: uppercase; letter-spacing: 0.05em; }
        .brutal-btn:active { transform: translate(2px, 2px); box-shadow: 0px 0px 0px #000; }
        .view-container { display: none; min-height: 100vh; width: 100vw; position: fixed; top: 0; left: 0; overflow-y: auto; background: white; z-index: 10; }
        .view-container.active { display: block; }
        @keyframes shake { 0% { transform: translate(1px, 1px) rotate(0deg); } 10% { transform: translate(-1px, -2px) rotate(-1deg); } 20% { transform: translate(-3px, 0px) rotate(1deg); } 30% { transform: translate(3px, 2px) rotate(0deg); } 40% { transform: translate(1px, -1px) rotate(1deg); } 50% { transform: translate(-1px, 2px) rotate(-1deg); } 60% { transform: translate(-3px, 1px) rotate(0deg); } 70% { transform: translate(3px, 1px) rotate(-1deg); } 80% { transform: translate(-1px, -1px) rotate(1deg); } 90% { transform: translate(1px, 2px) rotate(0deg); } 100% { transform: translate(1px, -2px) rotate(-1deg); } }
        .shake-hard { animation: shake 0.5s infinite; }
        .glitch-text { text-shadow: 2px 0 red, -2px 0 blue; animation: shake 0.3s infinite; }
        .retro-ui { font-family: 'VT323', monospace; background: #000; color: #0f0; }
        .universe-bg { background: radial-gradient(circle at center, #1a1a2e 0%, #000 100%); color: #fff; font-family: 'Space Grotesk', sans-serif; }
        .particle { position: absolute; border-radius: 50%; pointer-events: none; animation: implode 1s forwards; }
        @keyframes implode { 0% { opacity: 1; transform: scale(1); } 100% { opacity: 0; transform: scale(0); left: 50%; top: 50%; } }
        ::-webkit-scrollbar { width: 10px; }
        ::-webkit-scrollbar-track { background: #eee; }
        ::-webkit-scrollbar-thumb { background: #000; border: 2px solid #eee; border-radius: 10px; }
    </style>
</head>
<body>

<div id="homeView" class="view-container active p-8 bg-[#fdfbf7]">
    <div class="max-w-7xl mx-auto text-center mb-16 pt-10">
        <h1 class="text-9xl font-[900] tracking-tighter mb-4 italic uppercase relative inline-block">
            ARUSH<span class="text-blue-600">.</span>FUN
            <span class="absolute -top-4 -right-12 text-sm bg-black text-white px-2 py-1 rotate-12 font-mono">v2.0 GOD-TIER</span>
        </h1>
        <p class="text-2xl font-bold uppercase tracking-[0.4em] opacity-40">The Simulation Suite</p>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-7xl mx-auto pb-20">
        <div onclick="loadGame('time')" class="neal-card bg-yellow-300 p-8 flex flex-col justify-between h-64 group">
            <div class="text-7xl group-hover:scale-110 transition">â³</div>
            <div><h3 class="text-3xl font-black uppercase">The Price of Time</h3><p class="font-bold opacity-60">Life Actuary Simulator</p></div>
        </div>
        <div onclick="loadGame('elon')" class="neal-card bg-green-400 p-8 flex flex-col justify-between h-64 group">
            <div class="text-7xl group-hover:scale-110 transition">ğŸš€</div>
            <div><h3 class="text-3xl font-black uppercase">Spend Elon's Money</h3><p class="font-bold opacity-60">Market Shaker Edition</p></div>
        </div>
        <div onclick="loadGame('butterfly')" class="neal-card bg-blue-400 p-8 flex flex-col justify-between h-64 group">
            <div class="text-7xl group-hover:scale-110 transition">ğŸ¦‹</div>
            <div><h3 class="text-3xl font-black uppercase">Butterfly Effect</h3><p class="font-bold opacity-60">Chaos Graph Engine</p></div>
        </div>
        <!-- shortened â€“ add the others back when you want -->
    </div>
</div>

<div id="gameStage" class="view-container">
    <nav id="gameNav" class="sticky top-0 z-50 bg-white border-b-4 border-black px-6 py-3 flex justify-between items-center shadow-lg">
        <button onclick="goHome()" class="brutal-btn px-4 py-2 text-sm flex items-center gap-2"><span>â†©</span> ARUSH.FUN</button>
        <div id="gameHeaderInfo" class="font-black uppercase text-xl tracking-tight">GAME TITLE</div>
        <div class="w-24"></div>
    </nav>
    <div id="gameContent" class="min-h-screen"></div>
</div>

<script>
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// Global state & navigation
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const gameState = { activeGame: null };

function goHome() {
    document.getElementById('gameStage').classList.remove('active');
    document.getElementById('homeView').classList.add('active');
    if (window.gameInterval) clearInterval(window.gameInterval);
    document.getElementById('gameContent').innerHTML = '';
    document.body.classList.remove('universe-bg', 'shake-hard');
    document.getElementById('gameNav').className = "sticky top-0 z-50 bg-white border-b-4 border-black px-6 py-3 flex justify-between items-center shadow-lg";
}

function loadGame(id) {
    document.getElementById('homeView').classList.remove('active');
    const stage = document.getElementById('gameStage');
    stage.classList.add('active');
    stage.scrollTop = 0;
    gameState.activeGame = id;

    const content = document.getElementById('gameContent');
    const header = document.getElementById('gameHeaderInfo');

    stage.className = "view-container active";
    document.getElementById('gameNav').className = "sticky top-0 z-50 bg-white border-b-4 border-black px-6 py-3 flex justify-between items-center shadow-lg";

    switch(id) {
        case 'time':      initTimeGame(content, header); break;
        case 'elon':      initElonGame(content, header); break;
        case 'butterfly': initButterfly(content, header); break;
        // case 'ark':       initArk(content, header); break;
        // case 'capsule':   initCapsule(content, header, stage); break;
        // case 'trolley':   initTrolley(content, header); break;
        // case 'debt':      initDebt(content, header); break;
        // case 'password':  initPassword(content, header); break;
        // case 'universe':  initUniverse(content, header, stage); break;
        default:
            content.innerHTML = '<div class="p-10 text-3xl font-black text-center">Game not implemented yet ğŸ˜­</div>';
    }
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// 1. The Price of Time
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function initTimeGame(container, header) {
    header.innerText = "The Price of Time";
    let hours = 700800; // ~80 years
    let used = 0;

    const baseItems = [
        "1 Extra Hour of Sleep", "Undo an Embarrassing Moment", "Relive Your Best Day",
        "Skip a Boring Lecture", "Master a Skill Instantly", "See 10 Years Ahead",
        "Pause Time for 5 Minutes", "Reverse One Regret", "Slow Aging by 1 Year",
        "Delete One Awkward Memory"
    ];

    const timeItems = [];
    for(let i = 1; i <= 75; i++){
        timeItems.push({
            name: baseItems[i % baseItems.length] + " #" + i,
            cost: i * 10,
            desc: "Costs " + (i*10) + " hours of your life."
        });
    }

    container.innerHTML = `
        <div class="flex flex-col lg:flex-row h-[calc(100vh-80px)] overflow-hidden bg-yellow-50">
            <div class="lg:w-2/3 p-6 overflow-y-auto border-r-4 border-black">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4" id="timeMarket"></div>
            </div>
            <div class="lg:w-1/3 bg-white p-6 flex flex-col border-t-4 lg:border-t-0 border-black">
                <div class="mb-8 flex justify-center relative">
                    <svg width="200" height="200" class="transform -rotate-90">
                        <circle cx="100" cy="100" r="90" stroke="#eee" stroke-width="20" fill="none"/>
                        <circle id="lifeCircle" cx="100" cy="100" r="90" stroke="black" stroke-width="20" fill="none" stroke-dasharray="565" stroke-dashoffset="0" class="transition-all duration-500"/>
                    </svg>
                    <div class="absolute inset-0 flex flex-col items-center justify-center">
                        <span id="hoursText" class="text-3xl font-black">${hours.toLocaleString()}</span>
                        <span class="text-xs font-bold uppercase opacity-50">Hours Left</span>
                    </div>
                </div>
                <div id="ledger" class="flex-grow overflow-y-auto font-mono text-sm bg-gray-100 p-4 border-2 border-dashed border-gray-400">
                    <p class="opacity-50 text-center">--- LIFE STARTED ---</p>
                </div>
            </div>
        </div>`;

    const marketDiv = document.getElementById('timeMarket');
    timeItems.forEach(item => {
        const btn = document.createElement('button');
        btn.className = "brutal-btn p-4 text-left flex justify-between items-center group hover:bg-red-50 w-full";
        btn.innerHTML = `
            <div>
                <div class="font-black">${item.name}</div>
                <div class="text-xs opacity-60">${item.desc}</div>
            </div>
            <div class="font-black text-xl">-${item.cost.toLocaleString()}h</div>`;
        btn.onclick = () => buyTimeItem(item);
        marketDiv.appendChild(btn);
    });

    function buyTimeItem(item) {
        if (hours - item.cost < 0) {
            alert("MORTALITY ALERT: You will die before finishing this.");
            return;
        }
        hours -= item.cost;
        used += item.cost;
        updateClock();

        const entry = document.createElement('div');
        entry.className = "border-b border-gray-300 py-2 flex justify-between";
        entry.innerHTML = `<span>${item.name}</span><span class="font-bold">-${item.cost}h</span>`;
        document.getElementById('ledger').prepend(entry);
    }

    function updateClock() {
        const percent = hours / 700800;
        const offset = 565 * (1 - percent);
        document.getElementById('lifeCircle').style.strokeDashoffset = offset;
        document.getElementById('hoursText').innerText = hours.toLocaleString();
        if (hours < 10000) document.getElementById('lifeCircle').style.stroke = "red";
    }
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// 2. Spend Elon's Money
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function initElonGame(container, header) {
    header.innerText = "Spend Elon's Fortune";
    let money = 250_000_000_000;

    container.innerHTML = `
        <div class="p-4 bg-white">
            <div class="sticky top-20 bg-black text-green-400 p-2 font-mono text-sm mb-4 whitespace-nowrap overflow-hidden z-40">
                <div id="newsTicker" class="inline-block animate-[marquee_30s_linear_infinite]">
                    BREAKING: ELON MUSK SELLS EVERYTHING FOR SHOPPING SPREE ... TESLA -87% ... 
                </div>
            </div>
            <div class="text-center py-8">
                <div id="elonBalance" class="text-6xl md:text-8xl font-black text-green-600 tracking-tighter">$${money.toLocaleString()}</div>
                <div class="h-4 w-full bg-gray-200 mt-4 rounded-full overflow-hidden relative">
                    <div id="cashPile" class="h-full bg-green-500 w-full transition-all duration-500"></div>
                </div>
            </div>
            <div id="elonGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 max-w-7xl mx-auto"></div>
        </div>`;

    const cheapItems = ["Coffee", "Sneakers", "Drone", "Yacht", "Island", "Rocket", "AI Lab", "Moon Base"];
    const items = [];
    for (let i = 0; i < 60; i++) {
        let price = i < 20 ? (i+1)*1_000 : i < 40 ? (i+1)*1_000_000 : (i+1)*1_000_000_000;
        items.push({
            name: cheapItems[i % cheapItems.length] + " #" + (i+1),
            price: price,
            icon: i < 20 ? "ğŸ›’" : i < 40 ? "ğŸ’" : "ğŸª"
        });
    }

    const grid = document.getElementById('elonGrid');
    items.forEach(item => {
        grid.innerHTML += `
            <div class="neal-card bg-white p-6 flex flex-col items-center">
                <div class="text-5xl mb-4">${item.icon}</div>
                <div class="font-black uppercase text-center">${item.name}</div>
                <div class="text-green-600 font-bold mb-4">$${item.price.toLocaleString()}</div>
                <button onclick="spend(${item.price}, '${item.name.replace(/'/g,"\\'")}')" class="brutal-btn w-full bg-green-100 hover:bg-green-300">BUY</button>
            </div>`;
    });

    window.spend = (cost, name) => {
        if (money >= cost) {
            money -= cost;
            document.getElementById('elonBalance').innerText = "$" + money.toLocaleString();
            const percent = Math.min(100, (money / 250_000_000_000) * 100);
            document.getElementById('cashPile').style.width = percent + "%";
            if (name.includes("Moon")) alert("BREAKING: NASA confused");
        } else {
            alert("Not enough even for Elon anymore...");
        }
    };
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// 3. Butterfly Effect (simplified â€“ chain of choices)
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function initButterfly(container, header) {
    header.innerText = "Butterfly Effect Simulator";
    let chaos = 0;

    const events = [
        "You wake up 10 minutes earlier.",
        "You ignore a message from an old friend.",
        "You take the scenic route to work.",
        "You speak up in the meeting.",
        "You buy crypto at the top.",
        "You move to another city.",
        "You quit your job.",
        "Reality begins to flicker..."
    ];

    container.innerHTML = `
        <div class="flex flex-col items-center justify-center min-h-[80vh] bg-slate-100 p-8">
            <div id="storyBox" class="text-center max-w-2xl">
                <h2 id="storyText" class="text-4xl font-black mb-10">It all started when...</h2>
                <div id="storyOptions" class="flex flex-wrap gap-6 justify-center"></div>
            </div>
            <div class="mt-12 font-mono font-bold text-2xl text-red-600" id="chaosMeter">Chaos: 0%</div>
        </div>`;

    let current = 0;

    function render() {
        const textEl = document.getElementById('storyText');
        const opts = document.getElementById('storyOptions');
        const meter = document.getElementById('chaosMeter');

        if (current >= events.length) {
            textEl.innerText = "The universe has been sufficiently destabilized. Good job.";
            opts.innerHTML = `<button onclick="initButterfly(document.getElementById('gameContent'), document.getElementById('gameHeaderInfo'))" class="brutal-btn p-6 text-xl">Restart Reality</button>`;
            return;
        }

        textEl.innerText = events[current];
        opts.innerHTML = '';

        ["Embrace chaos (+8%)", "Play it safe (+2%)"].forEach((label, i) => {
            const btn = document.createElement('button');
            btn.className = "brutal-btn px-8 py-4 text-lg hover:bg-blue-100";
            btn.textContent = label;
            btn.onclick = () => {
                chaos += i === 0 ? 8 : 2;
                meter.innerText = `Chaos: ${chaos}%`;
                if (chaos > 40) document.body.classList.add('shake-hard');
                current++;
                render();
            };
            opts.appendChild(btn);
        });
    }

    render();
}

</script>
</body>
</html>
