
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ARUSH.FUN SimOS</title>
  <meta name="description" content="ARUSH.FUN SimOS - category-defining interactive decision lab." />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap" rel="stylesheet" />
  <style>
    :root {
      --bg: #090d16;
      --bg-2: #0f172a;
      --panel: rgba(18, 24, 38, 0.66);
      --panel-hover: rgba(26, 34, 52, 0.72);
      --text: #e5e7eb;
      --muted: #94a3b8;
      --accent: #facc15;
      --accent-2: #38bdf8;
      --line: rgba(111, 125, 157, .28);
      --radius: 16px;
      --shadow: 0 18px 38px rgba(0,0,0,.34);
    }
    body.theme-light {
      --bg: #eff3fa;
      --bg-2: #d9e2f1;
      --panel: rgba(255, 255, 255, 0.72);
      --panel-hover: rgba(255, 255, 255, 0.88);
      --text: #0f172a;
      --muted: #475569;
      --line: rgba(100, 116, 139, .25);
      --shadow: 0 18px 38px rgba(31, 41, 55, .18);
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Plus Jakarta Sans', system-ui, sans-serif;
      color: var(--text);
      min-height: 100vh;
      overflow: hidden;
      background: radial-gradient(1200px 900px at 10% -20%, #1a2540 0%, var(--bg) 52%), var(--bg);
      transition: background .35s ease, color .25s ease;
    }
    #bgGrid {
      position: fixed;
      inset: 0;
      pointer-events: none;
      background-image:
        linear-gradient(rgba(148,163,184,.08) 1px, transparent 1px),
        linear-gradient(90deg, rgba(148,163,184,.08) 1px, transparent 1px);
      background-size: 34px 34px;
      mask-image: radial-gradient(circle at center, black 45%, transparent 95%);
      animation: gridFloat 20s linear infinite;
      z-index: 0;
    }
    @keyframes gridFloat { from { transform: translateY(0); } to { transform: translateY(34px); } }

    .simos-shell {
      position: relative;
      z-index: 1;
      display: grid;
      grid-template-columns: 1fr 360px;
      grid-template-rows: 76px 1fr;
      gap: 14px;
      height: 100vh;
      padding: 14px;
    }
    .glass {
      background: var(--panel);
      border: 1px solid var(--line);
      border-radius: var(--radius);
      backdrop-filter: blur(18px) saturate(120%);
      box-shadow: var(--shadow);
      transition: background .22s ease, transform .16s ease, border-color .16s ease;
    }
    .glass:hover { background: var(--panel-hover); }

    .topbar {
      grid-column: 1 / 3;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 14px;
    }
    .brand { display: flex; align-items: center; gap: 10px; font-weight: 800; letter-spacing: .02em; }
    .badge { font-size: 11px; font-weight: 800; color: #111827; background: var(--accent); border-radius: 999px; padding: 2px 8px; }
    .top-actions { display:flex; gap:8px; align-items:center; }

    .btn {
      border: 1px solid var(--line);
      background: #111827;
      color: #e5e7eb;
      border-radius: 10px;
      padding: 9px 12px;
      font-size: 12px;
      font-weight: 700;
      cursor: pointer;
      transition: transform .14s ease, border-color .14s ease, filter .14s ease;
    }
    body.theme-light .btn { background: #f8fafc; color: #0f172a; }
    .btn:hover { transform: translateY(-1px); border-color: #60a5fa; filter: brightness(1.04); }
    .btn.primary { background: linear-gradient(135deg,#facc15,#f59e0b); color:#111827; border-color: #fbbf24; }
    .btn.alt { background: #0b1220; color: #93c5fd; }

    .app-stage {
      position: relative;
      overflow: hidden;
    }
    #appViewport {
      position: absolute;
      inset: 0;
      overflow: auto;
      padding: 18px;
      transition: filter .24s ease;
    }
    #appViewport .sel,
    #appViewport .inp,
    #appViewport select,
    #appViewport input,
    #appViewport textarea {
      border: 1px solid #334155;
      border-radius: 9px;
      background: #111827;
      color: #e5e7eb;
      padding: 8px 10px;
      font: inherit;
    }
    body.theme-light #appViewport .sel,
    body.theme-light #appViewport .inp,
    body.theme-light #appViewport select,
    body.theme-light #appViewport input,
    body.theme-light #appViewport textarea {
      background: #f8fafc;
      color: #0f172a;
      border-color: #94a3b8;
    }
    #appViewport label.field {
      display: grid;
      gap: 4px;
      font-size: 11px;
      color: var(--muted);
      border: 1px solid #27314a;
      border-radius: 10px;
      padding: 8px;
      background: rgba(11,18,32,.65);
    }
    .module-enter { animation: moduleIn .34s cubic-bezier(.22,.8,.22,1); }
    .module-exit { animation: moduleOut .18s ease-in; }
    @keyframes moduleIn { from { opacity:0; transform:translateY(8px) scale(.993); filter: blur(2px);} to { opacity:1; transform:translateY(0) scale(1); filter: blur(0);} }
    @keyframes moduleOut { from { opacity:1; transform:translateY(0);} to { opacity:.05; transform:translateY(6px); filter: blur(3px);} }

    .skeleton {
      display:grid;
      gap:10px;
      padding:4px;
    }
    .sk { height: 15px; border-radius: 8px; background: linear-gradient(90deg, rgba(100,116,139,.2), rgba(148,163,184,.36), rgba(100,116,139,.2)); background-size: 220% 100%; animation: shimmer 1.4s linear infinite; }
    .sk.big { height: 52px; }
    @keyframes shimmer { from { background-position: 220% 0; } to { background-position: -20% 0; } }

    .stats-panel { padding: 14px; overflow: auto; }

    .dock {
      position: fixed;
      left: 50%; transform: translateX(-50%);
      bottom: 14px;
      display: flex;
      gap: 8px;
      padding: 8px;
      max-width: 95vw;
      overflow-x: auto;
      scrollbar-width: none;
      z-index: 60;
      background: rgba(13,20,34,.62);
      border: 1px solid var(--line);
      border-radius: 18px;
      backdrop-filter: blur(14px);
      box-shadow: var(--shadow);
    }
    .dock::-webkit-scrollbar { display: none; }
    .dock-item {
      width: 52px; height: 52px;
      border-radius: 13px;
      border: 1px solid #334155;
      background: rgba(17, 24, 39, .95);
      color: #cbd5e1;
      cursor: pointer;
      display: grid;
      place-items: center;
      font-size: 20px;
      position: relative;
      transition: transform .16s ease, border-color .16s ease, box-shadow .16s ease;
    }
    body.theme-light .dock-item { background: rgba(255,255,255,.92); color: #0f172a; }
    .dock-item:hover { transform: translateY(-4px) scale(1.06); border-color: #60a5fa; box-shadow: 0 10px 22px rgba(56,189,248,.25); }
    .dock-item.active { color: #111827; background: linear-gradient(135deg, #facc15, #f59e0b); border-color: #facc15; }
    .dock-tip {
      position: absolute;
      bottom: 60px;
      white-space: nowrap;
      opacity: 0;
      pointer-events: none;
      transform: translateY(4px);
      transition: .12s;
      background: #0b1220;
      border: 1px solid #334155;
      color: #dbeafe;
      border-radius: 8px;
      font-size: 11px;
      padding: 4px 7px;
    }
    .dock-item:hover .dock-tip { opacity: 1; transform: translateY(0); }

    .modal {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 120;
      background: rgba(3, 7, 18, .6);
    }
    .modal.open { display:flex; }
    .card { width:min(520px,92vw); padding:16px; }
    .row { display:flex; gap:8px; align-items:center; }
    .input {
      width:100%; border:1px solid #334155; border-radius:10px;
      background:#0b1220; color:var(--text); padding:10px; font:inherit;
    }
    body.theme-light .input { background:#f8fafc; color:#0f172a; }

    @media (max-width: 1140px) {
      .simos-shell { grid-template-columns: 1fr; grid-template-rows: 76px 1fr 270px; }
      .topbar { grid-column: 1 / 2; }
    }
  </style>
</head>
<body>
  <div id="bgGrid"></div>

  <div class="simos-shell">
    <header class="topbar glass">
      <div class="brand">
        <span style="font-size:20px">âš¡</span>
        <span>ARUSH.FUN SimOS</span>
        <span class="badge">DECISION LAB</span>
      </div>
      <div class="top-actions">
        <button id="insightBtn" class="btn">Insight: ON</button>
        <button id="syncBtn" class="btn">Cloud Sync</button>
        <button id="authBtn" class="btn">Login</button>
        <button id="themeBtn" class="btn primary">Theme</button>
      </div>
    </header>

    <main class="app-stage glass">
      <div id="appViewport"></div>
    </main>

    <aside class="stats-panel glass" id="statsPanel"></aside>
  </div>

  <nav class="dock" id="dock"></nav>
  <div id="notifyRoot"></div>

  <div id="authModal" class="modal" aria-hidden="true">
    <div class="card glass">
      <h3 style="margin:0 0 10px">Cloud Profile + Privacy Layer</h3>
      <p style="margin:0 0 12px;color:var(--muted);font-size:13px">Optional login + sync + public profile card. Keep endpoint blank for local-only private mode.</p>
      <div class="row" style="margin-bottom:8px">
        <button id="googleLogin" class="btn" style="flex:1">Continue with Google</button>
        <button id="githubLogin" class="btn" style="flex:1">Continue with GitHub</button>
      </div>
      <div style="margin-bottom:8px">
        <input id="cloudEndpoint" class="input" placeholder="Cloud endpoint (optional, e.g. https://your-sync-api/save)" />
      </div>
      <div class="row" style="margin-bottom:8px">
        <input id="cloudApiKey" class="input" placeholder="API key (optional)" />
      </div>
      <div class="row" style="justify-content:flex-end">
        <button id="closeAuth" class="btn">Close</button>
        <button id="saveCloudConfig" class="btn primary">Save Config</button>
      </div>
    </div>
  </div>

  <script type="module" src="./simos/main.js"></script>
</body>
</html>
