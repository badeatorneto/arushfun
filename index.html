<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ARUSH.FUN | The Simulation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;900&family=Space+Grotesk:wght@700&family=VT323&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { --neon: #00ff99; --void: #050505; }
        body { font-family: 'Plus Jakarta Sans', sans-serif; background: #f0f2f5; overflow-x: hidden; }
        .neal-card { border: 4px solid #000; border-radius: 16px; transition: 0.2s cubic-bezier(0.25, 1, 0.5, 1); cursor: pointer; }
        .neal-card:hover { transform: translateY(-8px) rotate(-1deg); box-shadow: 8px 8px 0px #000; }
        .brutal-btn { border: 3px solid #000; box-shadow: 4px 4px 0px #000; transition: 0.1s; background: white; font-weight: 900; text-transform: uppercase; letter-spacing: 0.05em; }
        .brutal-btn:active { transform: translate(2px, 2px); box-shadow: 0 0 0 #000; }
        .view-container { display: none; min-height: 100vh; width: 100vw; position: fixed; top: 0; left: 0; overflow-y: auto; background: white; z-index: 10; }
        .view-container.active { display: block; }
        @keyframes shake { 0%,100% { transform: translate(0,0) rotate(0); } 10% { transform: translate(-2px,2px) rotate(-1deg); } 20% { transform: translate(2px,-2px) rotate(1deg); } }
        .shake-once { animation: shake 0.4s; }
        .universe-bg { background: radial-gradient(circle at center, #1a1a2e 0%, #000 100%); color: #fff; font-family: 'Space Grotesk', sans-serif; }
    </style>
</head>
<body>

<!-- HOMEPAGE (unchanged) -->
<div id="homeView" class="view-container active p-8 bg-[#fdfbf7]">
    <div class="max-w-7xl mx-auto text-center mb-16 pt-10">
        <h1 class="text-9xl font-[900] tracking-tighter mb-4 italic uppercase relative inline-block">
            ARUSH<span class="text-blue-600">.</span>FUN
            <span class="absolute -top-4 -right-12 text-sm bg-black text-white px-2 py-1 rotate-12 font-mono">v2.0 GOD-TIER</span>
        </h1>
        <p class="text-2xl font-bold uppercase tracking-[0.4em] opacity-40">The Simulation Suite</p>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-7xl mx-auto pb-20">
        <!-- all 9 cards here (same as before) -->
        <div onclick="loadGame('time')" class="neal-card bg-yellow-300 p-8 flex flex-col justify-between h-64 group">â€¦</div>
        <!-- (copy the rest from previous version) -->
    </div>
</div>

<div id="gameStage" class="view-container">
    <nav id="gameNav" class="sticky top-0 z-50 bg-white border-b-4 border-black px-6 py-3 flex justify-between items-center shadow-lg">
        <button onclick="goHome()" class="brutal-btn px-4 py-2 text-sm flex items-center gap-2"><span>â†©</span> ARUSH.FUN</button>
        <div id="gameHeaderInfo" class="font-black uppercase text-xl tracking-tight">GAME TITLE</div>
        <div class="w-24"></div>
    </nav>
    <div id="gameContent" class="min-h-screen pb-20"></div>
</div>

<script>
// Global
function goHome() {
    document.getElementById('gameStage').classList.remove('active');
    document.getElementById('homeView').classList.add('active');
    if (window.gameInterval) clearInterval(window.gameInterval);
    document.getElementById('gameContent').innerHTML = '';
    document.body.classList.remove('universe-bg');
}

function loadGame(id) {
    document.getElementById('homeView').classList.remove('active');
    const stage = document.getElementById('gameStage');
    stage.classList.add('active');
    stage.scrollTop = 0;

    const content = document.getElementById('gameContent');
    const header = document.getElementById('gameHeaderInfo');

    stage.className = "view-container active";
    document.getElementById('gameNav').className = "sticky top-0 z-50 bg-white border-b-4 border-black px-6 py-3 flex justify-between items-center shadow-lg";

    switch(id) {
        case 'elon':      initElonGame(content, header); break;
        case 'capsule':   initCapsule(content, header, stage); break;
        case 'butterfly': initButterfly(content, header); break;
        case 'debt':      initDebt(content, header); break;
        case 'password':  initPassword(content, header); break;
        case 'universe':  initUniverse(content, header, stage); break;
        // other games unchanged
    }
}

// ====================== ELON'S MONEY (fixed scroll + emojis) ======================
function initElonGame(container, header) {
    header.innerText = "Spend Elon's Fortune";
    let money = 250000000000;

    container.innerHTML = `
        <div class="p-8">
            <div class="sticky top-0 bg-black text-green-400 p-3 font-mono text-sm mb-6 z-50">BALANCE: <span id="balance">$${money.toLocaleString()}</span></div>
            <div id="elonGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 pb-40"></div>
        </div>`;

    const items = [];
    const mundane = ["Coffee","Sneakers","Drone","Laptop"];
    const luxury = ["Tesla","Yacht","Private Jet","Island"];
    const absurd = ["Buy Twitter Again","A Personal Black Hole","The Moon","Arush.FUN","The Simulation Source Code"];

    for (let i = 0; i < 150; i++) {
        let name, price, icon;
        if (i < 50) { name = mundane[i%4] + " #" + (i+1); price = (i+1)*800; icon = "ðŸ›’"; }
        else if (i < 100) { name = luxury[(i-50)%4] + " #" + (i+1); price = (i+1)*8000000; icon = "ðŸ’Ž"; }
        else { name = absurd[(i-100)%5] + " #" + (i+1); price = (i+1)*2000000000; icon = "ðŸª"; }
        items.push({name, price, icon});
    }

    const grid = document.getElementById('elonGrid');
    items.forEach(item => {
        const div = document.createElement('div');
        div.className = "neal-card bg-white p-6 flex flex-col items-center text-center";
        div.innerHTML = `
            <div class="text-6xl mb-4">${item.icon}</div>
            <div class="font-black">${item.name}</div>
            <div class="text-green-600 font-bold my-3">$${item.price.toLocaleString()}</div>
            <button class="brutal-btn w-full">BUY</button>
        `;
        div.querySelector('button').onclick = () => {
            if (money >= item.price) {
                money -= item.price;
                document.getElementById('balance').innerText = "$" + money.toLocaleString();
            } else alert("Even Elon ran out of money.");
        };
        grid.appendChild(div);
    });
}

// ====================== INTERNET CAPSULE (fixed years) ======================
function initCapsule(container, header, stage) {
    header.innerText = "Internet Time Capsule";
    container.innerHTML = `
        <div id="capsule-scroll" class="h-[5200px] relative">
            <div class="fixed top-20 left-6 font-mono bg-black text-white px-4 py-2 z-50">YEAR: <span id="yearDisplay">1995</span></div>
            <select id="yearSelect" class="fixed top-20 right-6 border-4 border-black p-3 font-bold z-50 bg-white">
                <option value="1995">1995</option>
                <option value="2005">2005</option>
                <option value="2015">2015</option>
                <option value="2025">2025</option>
            </select>

            <!-- 1995 -->
            <div class="absolute top-0 w-full h-[1300px] bg-[#c0c0c0] p-10 font-mono">
                <h1 class="text-5xl text-blue-800">Welcome to the World Wide Web</h1>
                <marquee class="text-4xl mt-10">BEST VIEWED IN NETSCAPE</marquee>
            </div>
            <!-- 2005 -->
            <div class="absolute top-[1300px] w-full h-[1300px] bg-pink-500 p-10 text-white">
                <marquee class="text-4xl font-black">WELCOME TO MY MYSPACE PAGE!!!</marquee>
            </div>
            <!-- 2015 -->
            <div class="absolute top-[2600px] w-full h-[1300px] bg-gray-100 p-10">
                <div class="bg-white p-10 max-w-2xl mx-auto rounded-2xl shadow-2xl">Material Design â€¢ Flat UI â€¢ Like buttons everywhere</div>
            </div>
            <!-- 2025 -->
            <div class="absolute top-[3900px] w-full h-[1300px] bg-black text-[#00ff99] p-10 flex items-center justify-center flex-col">
                <h1 class="text-7xl font-black">THE SIMULATION 2025</h1>
                <p class="text-2xl mt-8">You are here. Again.</p>
            </div>
        </div>`;

    const scrollDiv = document.getElementById('capsule-scroll');
    const yearDisplay = document.getElementById('yearDisplay');

    scrollDiv.onscroll = () => {
        const y = scrollDiv.scrollTop;
        const year = 1995 + Math.floor(y / 65);
        yearDisplay.innerText = Math.min(2025, year);
    };

    document.getElementById('yearSelect').onchange = function() {
        const targets = {1995:0, 2005:1300, 2015:2600, 2025:3900};
        scrollDiv.scrollTop = targets[this.value];
    };
}

// ====================== BUTTERFLY EFFECT (fixed loop) ======================
function initButterfly(container, header) {
    header.innerText = "Butterfly Effect";
    let chaos = 0;
    let step = 1;

    container.innerHTML = `
        <div class="p-8 max-w-2xl mx-auto text-center">
            <h2 class="text-4xl font-black mb-6">Butterfly Effect Simulator</h2>
            <div id="storyText" class="text-3xl font-black min-h-[120px]"></div>
            <div id="options" class="flex flex-wrap gap-4 justify-center mt-10"></div>
            <div id="chaosMeter" class="mt-12 font-mono text-3xl font-bold text-red-600">Chaos: 0%</div>
        </div>`;

    const nodes = {};
    for (let i = 1; i <= 199; i++) {
        nodes[i] = {
            t: `Decision #${i}: You suddenly decide to...`,
            c: [
                {t: "Lean into chaos (+3%)", impact: 3, next: i+1},
                {t: "Play it safe (+1%)", impact: 1, next: i+1}
            ]
        };
    }
    nodes[200] = { t: "All 200 decisions have converged...", c: [] };

    function render() {
        document.getElementById('storyText').innerText = nodes[step].t;
        const opts = document.getElementById('options');
        opts.innerHTML = '';

        if (step === 200) {
            const final = chaos >= 300 ? "You Are Definitely Fun At Parties." : "The universe stayed boring.";
            document.getElementById('storyText').innerHTML = `<span class="text-red-600">${final}</span>`;
            opts.innerHTML = `<button onclick="initButterfly(document.getElementById('gameContent'), document.getElementById('gameHeaderInfo'))" class="brutal-btn px-10 py-4">Restart Simulation</button>`;
            return;
        }

        nodes[step].c.forEach(choice => {
            const btn = document.createElement('button');
            btn.className = "brutal-btn px-8 py-4";
            btn.textContent = choice.t;
            btn.onclick = () => {
                chaos += choice.impact;
                document.getElementById('chaosMeter').innerText = `Chaos: ${Math.min(100, Math.floor(chaos/3))}%`;
                step = choice.next;
                render();
            };
            opts.appendChild(btn);
        });
    }
    render();
}

// ====================== SIZE OF THE DEBT (fixed scroll) ======================
function initDebt(container, header) {
    header.innerText = "Size of the Debt";
    let debt = 34000000000000;

    container.innerHTML = `
        <div class="p-8">
            <div class="fixed top-24 right-8 bg-red-600 text-white font-mono text-3xl p-6 border-4 border-black z-50">
                DEBT: $<span id="debtClock">${debt.toLocaleString()}</span>
            </div>
            <div id="debtList" class="grid grid-cols-1 md:grid-cols-2 gap-6 max-w-5xl mx-auto pb-40"></div>
        </div>`;

    const list = document.getElementById('debtList');
    const comparisons = ["Entire GDP of Australia Ã— 12","All the gold ever mined","Every Starbucks latte since 1971","Stack of $100 bills to the moon Ã— 47","50,000 private islands","Every Tesla ever made","12 Death Stars","One billion iPhones","The entire NFT market on fire","Every meme ever created","Arush.FUNâ€™s future profits","Your student loans Ã— 300,000,000","The cost of building 5 Mars colonies","All the coffee in Brazil","One trillion likes on TikTok","The Moon (twice)","Every Bitcoin wallet","The concept of time itself","A black hole","The simulation server","Your childhood dreams","The last honest politician","Every dad joke ever told","The color blue","Arush.FUN itself"];
    
    comparisons.forEach(c => {
        const div = document.createElement('div');
        div.className = "neal-card bg-white p-8";
        div.innerHTML = `<div class="text-6xl mb-4">ðŸ“‰</div><div class="font-black text-2xl">${c}</div>`;
        list.appendChild(div);
    });

    setInterval(() => {
        debt += 31200000;
        document.getElementById('debtClock').innerText = debt.toLocaleString();
    }, 800);
}

// ====================== PASSWORD 2026 (one rule at a time) ======================
function initPassword(container, header) {
    header.innerText = "Password 2026";
    let currentRule = 0;

    const rules = [];
    for (let i = 1; i <= 50; i++) {
        let text = `Rule ${i}: `;
        if (i <= 10) text += ["at least 12 characters","one number","one uppercase","one symbol","no 'password'","include 'arush'","include emoji","sum of digits = 42","be at least 30 chars","must contain a Klingon word"][i-1];
        else text += `Must be at least ${i*3} characters long (this is getting ridiculous)`;
        rules.push({text, check: (s) => {
            if (i===1) return s.length >= 12;
            if (i===2) return /\d/.test(s);
            if (i===3) return /[A-Z]/.test(s);
            if (i===4) return /[!@#$%^&*]/.test(s);
            if (i===6) return s.toLowerCase().includes('arush');
            if (i===7) return /[\u{1F600}-\u{1F64F}]/u.test(s);
            if (i===8) {
                const nums = s.match(/\d/g) || [];
                return nums.reduce((a,b)=>a+parseInt(b),0) === 42;
            }
            return s.length >= i*3;
        }});
    }

    container.innerHTML = `
        <div class="max-w-2xl mx-auto pt-12 px-6">
            <input id="pw" type="text" class="w-full text-2xl p-6 border-4 border-black font-mono outline-none" placeholder="Type password..." oninput="checkPassword()">
            <div id="rulesList" class="mt-10"></div>
        </div>`;

    window.checkPassword = () => {
        const val = document.getElementById('pw').value;
        const list = document.getElementById('rulesList');
        list.innerHTML = '';

        for (let i = 0; i <= currentRule; i++) {
            const passed = rules[i].check(val);
            const el = document.createElement('div');
            el.className = passed ? "bg-green-100 border border-green-600 p-4 font-bold" : "bg-red-100 border border-red-600 p-4 font-bold shake-once";
            el.innerHTML = (passed ? "âœ… " : "âŒ ") + rules[i].text;
            list.appendChild(el);
        }

        if (rules[currentRule].check(val) && currentRule < 49) {
            currentRule++;
            checkPassword();
        }
    };
    checkPassword();
}

// ====================== BUY THE UNIVERSE (fixed energy + scroll) ======================
function initUniverse(container, header, stage) {
    header.innerText = "Buy The Universe";
    stage.classList.add('universe-bg');
    document.getElementById('gameNav').style.background = "#000";
    document.getElementById('gameNav').style.color = "#00ff99";

    let energy = 5000;
    let income = 0;

    const names = ["Dust Particle","Moon Rock","Asteroid","Ocean Planet","Binary Star","Nebula","Quantum Core","Space Elevator","Alien Artifact","Warp Engine","Dyson Sphere","Black Hole","Time Fragment","Dark Matter","Terraform Kit","Stellar Nursery","Frozen Comet","Interstellar Embassy","Solar Forge","Gravity Well","Floating City","Martian Colony","Gas Giant Refinery","Cosmic Library","Dimension Gateway"];

    container.innerHTML = `
        <div class="text-center pt-20 pb-40">
            <div class="text-xs tracking-[4px] mb-2 text-gray-400">UNIVERSAL ENERGY</div>
            <div id="energy" class="text-7xl font-mono font-bold text-[#00ff99]">${energy}</div>
            <div id="shop" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 max-w-6xl mx-auto mt-16 pb-40"></div>
        </div>`;

    const shop = document.getElementById('shop');
    for (let i = 1; i <= 75; i++) {
        const cost = Math.max(50, i * i * 8);
        const inc = i * 2;
        const div = document.createElement('div');
        div.className = "neal-card bg-black border border-[#00ff99] p-6 text-center cursor-pointer hover:border-white";
        div.innerHTML = `<div class="text-xl">${names[i % names.length]} #${i}</div><div class="text-sm text-gray-400 mt-2">${cost} Energy</div>`;
        div.onclick = () => {
            if (energy >= cost) {
                energy -= cost;
                income += inc;
                document.getElementById('energy').innerText = energy;
            }
        };
        shop.appendChild(div);
    }

    window.gameInterval = setInterval(() => {
        energy += income;
        document.getElementById('energy').innerText = Math.floor(energy);
    }, 900);
}
</script>
</body>
</html>
